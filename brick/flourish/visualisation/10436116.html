
<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<base target="_blank">
		<style type="text/css">body,html{height:100%;margin:0;margin-left:auto;margin-right:auto;overflow:hidden}#fl-layout-primary{position:relative}#wrapper{overflow:hidden;height:100%;width:100%}rect.selection{fill-opacity:.1;fill:orange!important}#controls{display:inline-block;vertical-align:middle;text-align:center}.data-elements .series .line,.tick,.x-highlighter{pointer-events:none}.flourish-popup{z-index:9999}.flourish-popup .flourish-popup-content{pointer-events:none!important}.flourish-popup .flourish-popup-content a{pointer-events:auto}svg .axis text{font-family:inherit,sans-serif}#overlay{position:absolute;top:0;left:0;pointer-events:none}#overlay .boxes{pointer-events:auto}.data-elements .series .data-points path{shape-rendering:geometricPrecision;pointer-events:auto}svg{display:block}
</style>
	<title>MOBILE: scatter food inflation</title></head>
	<body class="template">
	

<script>window.Flourish = {"environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}function _(t){try{return!!t()}catch(t){return!0}}function u(t){if(null==t)throw T("Can't call method on "+t);return t}function r(t,e){return arguments.length<2?(n=D[t],N(n)?n:void 0):D[t]&&D[t][e];var n}function f(e,n){try{K(D,e,{value:n,configurable:!0,writable:!0})}catch(t){D[e]=n}return n}function w(t){return rt(u(t))}function o(t){return"Symbol("+(void 0===t?"":t)+")_"+lt(++at+st,36)}function l(t){var e;return ot(ct,t)&&(B||"string"==typeof ct[t])||(e="Symbol."+t,B&&ot(ut,t)?ct[t]=ut[t]:ct[t]=(H&&ft?ft:dt)(e)),ct[t]}function d(t){return t=gt(t,"string"),G(t)?t:t+""}var i=function(t){return t&&t.Math==Math&&t},D=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),I=!_(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),a=Function.prototype.call,S=a.bind?a.bind(a):function(){return a.apply(a,arguments)},s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,p={f:c&&!s.call({1:2},1)?function(t){t=c(this,t);return!!t&&t.enumerable}:s},E=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},h=Function.prototype,g=h.bind,m=h.call,y=g&&g.bind(m),v=g?function(t){return t&&y(m,t)}:function(t){return t&&function(){return m.apply(t,arguments)}},b=v({}.toString),x=v("".slice),M=function(t){return x(b(t),8,-1)},k=D.Object,j=v("".split),A=_(function(){return!k("z").propertyIsEnumerable(0)})?function(t){return"String"==M(t)?j(t,""):k(t)}:k,T=D.TypeError,z=function(t){return A(u(t))},N=function(t){return"function"==typeof t},L=function(t){return"object"==typeof t?null!==t:N(t)},C=v({}.isPrototypeOf),O=r("navigator","userAgent")||"",P=D.process,F=D.Deno,Y=P&&P.versions||F&&F.version,R=Y&&Y.v8,U=On=!(On=R?0<(En=R.split("."))[0]&&En[0]<4?1:+(En[0]+En[1]):On)&&O&&(!(En=O.match(/Edge\/(\d+)/))||74<=En[1])&&(En=O.match(/Chrome\/(\d+)/))?+En[1]:On,B=!!Object.getOwnPropertySymbols&&!_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&U&&U<41}),H=B&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=D.Object,G=H?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return N(e)&&C(e.prototype,Z(t))},q=D.String,Q=function(t){try{return q(t)}catch(t){return"Object"}},W=D.TypeError,V=function(t){if(N(t))return t;throw W(Q(t)+" is not a function")},X=function(t,e){e=t[e];return null==e?void 0:V(e)},$=D.TypeError,J=function(t,e){var n,r;if("string"===e&&N(n=t.toString)&&!L(r=S(n,t)))return r;if(N(n=t.valueOf)&&!L(r=S(n,t)))return r;if("string"!==e&&N(n=t.toString)&&!L(r=S(n,t)))return r;throw $("Can't convert object to primitive value")},K=Object.defineProperty,tt="__core-js_shared__",et=D[tt]||f(tt,{}),nt=n(function(t){(t.exports=function(t,e){return et[t]||(et[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),rt=D.Object,it=v({}.hasOwnProperty),ot=Object.hasOwn||function(t,e){return it(w(t),e)},at=0,st=Math.random(),lt=v(1..toString),ct=nt("wks"),ut=D.Symbol,ft=ut&&ut.for,dt=H?ut:ut&&ut.withoutSetter||o,pt=D.TypeError,ht=l("toPrimitive"),gt=function(t,e){if(!L(t)||G(t))return t;var n=X(t,ht);if(n){if(n=S(n,t,e=void 0===e?"default":e),!L(n)||G(n))return n;throw pt("Can't convert object to primitive value")}return J(t,e=void 0===e?"number":e)},_t=D.document,mt=L(_t)&&L(_t.createElement),yt=function(t){return mt?_t.createElement(t):{}},vt=!I&&!_(function(){return 7!=Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a}),bt=Object.getOwnPropertyDescriptor,xt={f:I?bt:function(t,e){if(t=z(t),e=d(e),vt)try{return bt(t,e)}catch(t){}if(ot(t,e))return E(!S(p.f,t,e),t[e])}},wt=D.String,Mt=D.TypeError,kt=function(t){if(L(t))return t;throw Mt(wt(t)+" is not an object")},jt=D.TypeError,At=Object.defineProperty,Tt={f:I?At:function(t,e,n){if(kt(t),e=d(e),kt(n),vt)try{return At(t,e,n)}catch(t){}if("get"in n||"set"in n)throw jt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},zt=I?function(t,e,n){return Tt.f(t,e,E(1,n))}:function(t,e,n){return t[e]=n,t},Nt=v(Function.toString);N(et.inspectSource)||(et.inspectSource=function(t){return Nt(t)});var Dt,It,St,Et,Lt,Ct,Ot,Pt,Ft=et.inspectSource,Yt=D.WeakMap,Rt=N(Yt)&&/native code/.test(Ft(Yt)),Ut=nt("keys"),Bt=function(t){return Ut[t]||(Ut[t]=o(t))},Ht={},Zt="Object already initialized",Gt=D.TypeError,qt=D.WeakMap;Ot=Rt||et.state?(Dt=et.state||(et.state=new qt),It=v(Dt.get),St=v(Dt.has),Et=v(Dt.set),Lt=function(t,e){if(St(Dt,t))throw new Gt(Zt);return e.facade=t,Et(Dt,t,e),e},Ct=function(t){return It(Dt,t)||{}},function(t){return St(Dt,t)}):(Pt=Bt("state"),Ht[Pt]=!0,Lt=function(t,e){if(ot(t,Pt))throw new Gt(Zt);return e.facade=t,zt(t,Pt,e),e},Ct=function(t){return ot(t,Pt)?t[Pt]:{}},function(t){return ot(t,Pt)});function Qt(t,e){return(t=ae(t))<0?se(t+e,0):le(t,e)}function Wt(t){return ue(t.length)}function Vt(t,e){var n,r=z(t),i=0,o=[];for(n in r)!ot(Ht,n)&&ot(r,n)&&he(o,n);for(;e.length>i;)ot(r,n=e[i++])&&(~pe(o,n)||he(o,n));return o}function Xt(t,e){for(var n=be(e),r=Tt.f,i=xt.f,o=0;o<n.length;o++){var a=n[o];ot(t,a)||r(t,a,i(e,a))}}function $t(t,e){var n,r,i,o=t.target,a=t.global,s=t.stat,l=a?D:s?D[o]||f(o,{}):(D[o]||{}).prototype;if(l)for(n in e){if(r=e[n],i=t.noTargetGet?(i=ze(l,n))&&i.value:l[n],!Te(a?n:o+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;Xt(r,i)}(t.sham||i&&i.sham)&&zt(r,"sham",!0),re(l,n,r,t)}}var Jt={set:Lt,get:Ct,has:Ot,enforce:function(t){return Ot(t)?Ct(t):Lt(t,{})},getterFor:function(n){return function(t){var e;if(!L(t)||(e=Ct(t)).type!==n)throw Gt("Incompatible receiver, "+n+" required");return e}}},Kt=Function.prototype,te=I&&Object.getOwnPropertyDescriptor,ee=ot(Kt,"name"),ne={EXISTS:ee,PROPER:ee&&"something"===function(){}.name,CONFIGURABLE:ee&&(!I||te(Kt,"name").configurable)},re=n(function(t){var l=ne.CONFIGURABLE,e=Jt.get,c=Jt.enforce,u=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet,s=r&&void 0!==r.name?r.name:e;N(n)&&("Symbol("===String(s).slice(0,7)&&(s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!ot(n,"name")||l&&n.name!==s)&&zt(n,"name",s),(r=c(n)).source||(r.source=u.join("string"==typeof s?s:""))),t!==D?(i?!a&&t[e]&&(o=!0):delete t[e],o?t[e]=n:zt(t,e,n)):o?t[e]=n:f(e,n)})(Function.prototype,"toString",function(){return N(this)&&e(this).source||Ft(this)})}),ie=Math.ceil,oe=Math.floor,ae=function(t){t=+t;return t!=t||0==t?0:(0<t?oe:ie)(t)},se=Math.max,le=Math.min,ce=Math.min,ue=function(t){return 0<t?ce(ae(t),9007199254740991):0},fe=function(s){return function(t,e,n){var r,i=z(t),o=Wt(i),a=Qt(n,o);if(s&&e!=e){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===e)return s||a||0;return!s&&-1}},de={includes:fe(!0),indexOf:fe(!1)},pe=de.indexOf,he=v([].push),ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_e=ge.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(t){return Vt(t,_e)}},ye={f:Object.getOwnPropertySymbols},ve=v([].concat),be=r("Reflect","ownKeys")||function(t){var e=me.f(kt(t)),n=ye.f;return n?ve(e,n(t)):e},xe=/#|\.prototype\./,we=function(t,e){t=ke[Me(t)];return t==Ae||t!=je&&(N(e)?_(e):!!e)},Me=we.normalize=function(t){return String(t).replace(xe,".").toLowerCase()},ke=we.data={},je=we.NATIVE="N",Ae=we.POLYFILL="P",Te=we,ze=xt.f,Ne=Object.keys||function(t){return Vt(t,ge)},De=Object.assign,Ie=Object.defineProperty,Se=v([].concat),Ee=!De||_(function(){if(I&&1!==De({b:1},De(Ie({},"a",{enumerable:!0,get:function(){Ie(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=De({},t)[n]||Ne(De({},e)).join("")!=r})?function(t,e){for(var n=w(t),r=arguments.length,i=1,o=ye.f,a=p.f;i<r;)for(var s,l=A(arguments[i++]),c=o?Se(Ne(l),o(l)):Ne(l),u=c.length,f=0;f<u;)s=c[f++],I&&!S(a,l,s)||(n[s]=l[s]);return n}:De;$t({target:"Object",stat:!0,forced:Object.assign!==Ee},{assign:Ee});var Le=p.f,Ce=v(Le),Oe=v([].push),Pe=function(s){return function(t){for(var e,n=z(t),r=Ne(n),i=r.length,o=0,a=[];o<i;)e=r[o++],I&&!Ce(n,e)||Oe(a,s?[e,n[e]]:n[e]);return a}},Fe={entries:Pe(!0),values:Pe(!1)},Ye=Fe.values;$t({target:"Object",stat:!0},{values:function(t){return Ye(t)}});var Re=_(function(){Ne(1)});$t({target:"Object",stat:!0,forced:Re},{keys:function(t){return Ne(w(t))}}),"function"!=typeof Object.values&&(Object.values=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}),Object.assign||(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e});var Ue={};Ue[l("toStringTag")]="z";var Be="[object z]"===String(Ue),He=l("toStringTag"),Ze=D.Object,Ge="Arguments"==M(function(){return arguments}()),qe=Be?M:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=function(t,e){try{return t[e]}catch(t){}}(e=Ze(t),He))?t:Ge?M(e):"Object"==(t=M(e))&&N(e.callee)?"Arguments":t};Be||re(Object.prototype,"toString",Be?{}.toString:function(){return"[object "+qe(this)+"]"},{unsafe:!0});var Qe=D.String,We=function(t){if("Symbol"===qe(t))throw TypeError("Cannot convert a Symbol value to a string");return Qe(t)},Ve="\t\n\v\f\r                　\u2028\u2029\ufeff",Xe=v("".replace),$e="["+Ve+"]",Je=RegExp("^"+$e+$e+"*"),Ke=RegExp($e+$e+"*$"),tn=function(e){return function(t){t=We(u(t));return 1&e&&(t=Xe(t,Je,"")),t=2&e?Xe(t,Ke,""):t}},en={start:tn(1),end:tn(2),trim:tn(3)},nn=ne.PROPER,i=function(t){return _(function(){return Ve[t]()||"​᠎"!=="​᠎"[t]()||nn&&Ve[t].name!==t})},rn=en.trim;$t({target:"String",proto:!0,forced:i("trim")},{trim:function(){return rn(this)}});function on(t,e){return V(t),void 0===e?t:dn?dn(t,e):function(){return t.apply(e,arguments)}}function an(){}function sn(t){if(!N(t))return!1;try{return gn(an,hn,t),!0}catch(t){return!1}}function ln(t,e){return new(wn(t))(0===e?0:e)}function cn(e){if(e&&e.forEach!==An)try{zt(e,"forEach",An)}catch(t){e.forEach=An}}var un,fn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},s=yt("span").classList,h=s&&s.constructor&&s.constructor.prototype,g=h===Object.prototype?void 0:h,dn=v(v.bind),pn=Array.isArray||function(t){return"Array"==M(t)},hn=[],gn=r("Reflect","construct"),_n=/^\s*(?:class|function)\b/,mn=v(_n.exec),yn=!_n.exec(an),vn=!gn||_(function(){var t;return sn(sn.call)||!sn(Object)||!sn(function(){t=!0})||t})?function(t){if(!N(t))return!1;switch(qe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return yn||!!mn(_n,Ft(t))}:sn,bn=l("species"),xn=D.Array,wn=function(t){var e;return pn(t)&&(e=t.constructor,(vn(e)&&(e===xn||pn(e.prototype))||L(e)&&null===(e=e[bn]))&&(e=void 0)),void 0===e?xn:e},Mn=v([].push),P=function(d){var p=1==d,h=2==d,g=3==d,_=4==d,m=6==d,y=7==d,v=5==d||m;return function(t,e,n,r){for(var i,o,a=w(t),s=A(a),l=on(e,n),c=Wt(s),u=0,r=r||ln,f=p?r(t,c):h||y?r(t,0):void 0;u<c;u++)if((v||u in s)&&(o=l(i=s[u],u,a),d))if(p)f[u]=o;else if(o)switch(d){case 3:return!0;case 5:return i;case 6:return u;case 2:Mn(f,i)}else switch(d){case 4:return!1;case 7:Mn(f,i)}return m?-1:g||_?_:f}},kn={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)},F=function(t,e){var n=[][t];return!!n&&_(function(){n.call(null,e||function(){throw 1},1)})},jn=kn.forEach,An=F("forEach")?[].forEach:function(t){return jn(this,t,1<arguments.length?arguments[1]:void 0)};for(un in fn)fn[un]&&cn(D[un]&&D[un].prototype);cn(g);var Tn=l("species"),Y=function(e){return 51<=U||!_(function(){var t=[];return(t.constructor={})[Tn]=function(){return{foo:1}},1!==t[e](Boolean).foo})},zn=kn.filter,R=Y("filter");$t({target:"Array",proto:!0,forced:!R},{filter:function(t){return zn(this,t,1<arguments.length?arguments[1]:void 0)}});function Nn(t,e){var n=t.length,r=In(n/2);return n<8?function(t,e){var n=t.length,r=1,i,o;while(r<n){o=r;i=t[r];while(o&&e(t[o-1],i)>0)t[o]=t[--o];if(o!==r++)t[o]=i}return t}(t,e):function(t,e,n,r){var i=e.length,o=n.length,a=0,s=0;while(a<i||s<o)t[a+s]=a<i&&s<o?r(e[a],n[s])<=0?e[a++]:n[s++]:a<i?e[a++]:n[s++];return t}(t,Nn(Dn(t,0,r),e),Nn(Dn(t,r),e),e)}var Dn=v([].slice),In=Math.floor,Sn=Nn,En=O.match(/firefox\/(\d+)/i),Ln=!!En&&+En[1],Cn=/MSIE|Trident/.test(O),On=O.match(/AppleWebKit\/(\d+)\./),Pn=!!On&&+On[1],Fn=[],Yn=v(Fn.sort),Rn=v(Fn.push),tt=_(function(){Fn.sort(void 0)}),Yt=_(function(){Fn.sort(null)}),Rt=F("sort"),Un=!_(function(){if(U)return U<70;if(!(Ln&&3<Ln)){if(Cn)return 1;if(Pn)return Pn<603;for(var t,e,n,r="",i=65;i<76;i++){switch(t=String.fromCharCode(i),i){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)Fn.push({k:t+n,v:e})}for(Fn.sort(function(t,e){return e.v-t.v}),n=0;n<Fn.length;n++)t=Fn[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}});$t({target:"Array",proto:!0,forced:tt||!Yt||!Rt||!Un},{sort:function(t){void 0!==t&&V(t);var e=w(this);if(Un)return void 0===t?Yn(e):Yn(e,t);for(var n,r,i=[],o=Wt(e),a=0;a<o;a++)a in e&&Rn(i,e[a]);for(Sn(i,(r=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==r?+r(t,e)||0:We(t)>We(e)?1:-1})),n=i.length,a=0;a<n;)e[a]=i[a++];for(;a<o;)delete e[a++];return e}});var Bn=kn.map,qt=Y("map");$t({target:"Array",proto:!0,forced:!qt},{map:function(t){return Bn(this,t,1<arguments.length?arguments[1]:void 0)}});var Hn,ee=ne.EXISTS,te=Tt.f,Kt=Function.prototype,Zn=v(Kt.toString),Gn=/^\s*function ([^ (]*)/,qn=v(Gn.exec);I&&!ee&&te(Kt,"name",{configurable:!0,get:function(){try{return qn(Gn,Zn(this))[1]}catch(t){return""}}});var Qn=!_(function(){return Object.isExtensible(Object.preventExtensions({}))}),Wn=me.f,Vn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xn={f:function(t){return Vn&&"Window"==M(t)?function(t){try{return Wn(t)}catch(t){return Dn(Vn)}}(t):Wn(z(t))}},$n=_(function(){var t;"function"==typeof ArrayBuffer&&(t=new ArrayBuffer(8),Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8}))}),Jn=Object.isExtensible,Kn=_(function(){Jn(1)})||$n?function(t){return!!L(t)&&((!$n||"ArrayBuffer"!=M(t))&&(!Jn||Jn(t)))}:Jn,tr=n(function(t){function n(t){e(t,a,{value:{objectID:"O"+i++,weakData:{}}})}var e=Tt.f,r=!1,a=o("meta"),i=0,s=t.exports={enable:function(){s.enable=function(){},r=!0;var i=me.f,o=v([].splice),t={};t[a]=1,i(t).length&&(me.f=function(t){for(var e=i(t),n=0,r=e.length;n<r;n++)if(e[n]===a){o(e,n,1);break}return e},$t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Xn.f}))},fastKey:function(t,e){if(!L(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!ot(t,a)){if(!Kn(t))return"F";if(!e)return"E";n(t)}return t[a].objectID},getWeakData:function(t,e){if(!ot(t,a)){if(!Kn(t))return!0;if(!e)return!1;n(t)}return t[a].weakData},onFreeze:function(t){return Qn&&r&&Kn(t)&&!ot(t,a)&&n(t),t}};Ht[a]=!0});tr.enable,tr.fastKey,tr.getWeakData,tr.onFreeze;var er=tr.onFreeze,nr=Object.freeze,fe=_(function(){nr(1)});$t({target:"Object",stat:!0,forced:fe,sham:!Qn},{freeze:function(t){return nr&&L(t)?nr(er(t)):t}});function rr(){var t=kt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function ir(){}function or(t){t.write(hr("")),t.close();var e=t.parentWindow.Object;return t=null,e}var ar,sr=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]}),lr=D.RegExp,we={UNSUPPORTED_Y:_(function(){var t=lr("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:_(function(){var t=lr("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},cr=I?Object.defineProperties:function(t,e){kt(t);for(var n,r=z(e),i=Ne(e),o=i.length,a=0;a<o;)Tt.f(t,n=i[a++],r[n]);return t},ur=r("document","documentElement"),fr="prototype",dr="script",pr=Bt("IE_PROTO"),hr=function(t){return"<"+dr+">"+t+"</"+dr+">"},gr=function(){try{ar=new ActiveXObject("htmlfile")}catch(t){}var t,e;gr="undefined"==typeof document||document.domain&&ar?or(ar):(t=yt("iframe"),e="java"+dr+":",t.style.display="none",ur.appendChild(t),t.src=String(e),(t=t.contentWindow.document).open(),t.write(hr("document.F=Object")),t.close(),t.F);for(var n=ge.length;n--;)delete gr[fr][ge[n]];return gr()};Ht[pr]=!0;var _r=Object.create||function(t,e){var n;return null!==t?(ir[fr]=kt(t),n=new ir,ir[fr]=null,n[pr]=t):n=gr(),void 0===e?n:cr(n,e)},mr=D.RegExp,yr=_(function(){var t=mr(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),vr=D.RegExp,br=_(function(){var t=vr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),xr=Jt.get,wr=nt("native-string-replace",String.prototype.replace),Mr=RegExp.prototype.exec,kr=Mr,jr=v("".charAt),Ar=v("".indexOf),Tr=v("".replace),zr=v("".slice),Nr=(Ee=/b*/g,S(Mr,Le=/a/,"a"),S(Mr,Ee,"a"),0!==Le.lastIndex||0!==Ee.lastIndex),Dr=we.UNSUPPORTED_Y||we.BROKEN_CARET,Ir=void 0!==/()??/.exec("")[1],Sr=kr=Nr||Ir||Dr||yr||br?function(t){var e,n,r,i,o,a,s=this,l=xr(s),c=We(t),u=l.raw;if(u)return u.lastIndex=s.lastIndex,p=S(kr,u,c),s.lastIndex=u.lastIndex,p;var f=l.groups,d=Dr&&s.sticky,t=S(rr,s),u=s.source,p=0,l=c;if(d&&(t=Tr(t,"y",""),-1===Ar(t,"g")&&(t+="g"),l=zr(c,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==jr(c,s.lastIndex-1))&&(u="(?: "+u+")",l=" "+l,p++),e=new RegExp("^(?:"+u+")",t)),Ir&&(e=new RegExp("^"+u+"$(?!\\s)",t)),Nr&&(n=s.lastIndex),r=S(Mr,d?e:s,l),d?r?(r.input=zr(r.input,p),r[0]=zr(r[0],p),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:Nr&&r&&(s.lastIndex=s.global?r.index+r[0].length:n),Ir&&r&&1<r.length&&S(wr,r[0],e,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r&&f)for(r.groups=o=_r(null),i=0;i<f.length;i++)o[(a=f[i])[0]]=r[a[1]];return r}:kr;$t({target:"RegExp",proto:!0,forced:/./.exec!==Sr},{exec:Sr});function Er(t,e,n){return e+(n?Rr(t,e).length:1)}function Lr(t,e){var n=t.exec;if(N(n)){n=S(n,t,e);return null!==n&&kt(n),n}if("RegExp"===M(t))return S(Sr,t,e);throw Ur("RegExp#exec called on incompatible receiver")}var Cr=l("species"),Or=RegExp.prototype,Pe=function(n,t,e,r){var a,i=l(n),s=!_(function(){var t={};return t[i]=function(){return 7},7!=""[n](t)}),o=s&&!_(function(){var t=!1,e=/a/;return"split"===n&&((e={constructor:{}}).constructor[Cr]=function(){return e},e.flags="",e[i]=/./[i]),e.exec=function(){return t=!0,null},e[i](""),!t});s&&o&&!e||(a=v(/./[i]),t=t(i,""[n],function(t,e,n,r,i){var o=v(t),t=e.exec;return t===Sr||t===Or.exec?s&&!i?{done:!0,value:a(e,n,r)}:{done:!0,value:o(n,e,r)}:{done:!1}}),re(String.prototype,n,t[0]),re(Or,i,t[1])),r&&zt(Or[i],"sham",!0)},Pr=v("".charAt),Fr=v("".charCodeAt),Yr=v("".slice),Re=function(o){return function(t,e){var n,r=We(u(t)),i=ae(e),t=r.length;return i<0||t<=i?o?"":void 0:(e=Fr(r,i))<55296||56319<e||i+1===t||(n=Fr(r,i+1))<56320||57343<n?o?Pr(r,i):e:o?Yr(r,i,i+2):n-56320+(e-55296<<10)+65536}},Ue={codeAt:Re(!1),charAt:Re(!0)},Rr=Ue.charAt,Ur=D.TypeError;Pe("match",function(r,s,l){return[function(t){var e=u(this),n=null==t?void 0:X(t,r);return n?S(n,t,e):new RegExp(t)[r](We(e))},function(t){var e=kt(this),n=We(t),t=l(s,e,n);if(t.done)return t.value;if(!e.global)return Lr(e,n);for(var r=e.unicode,i=[],o=e.lastIndex=0;null!==(a=Lr(e,n));){var a=We(a[0]);""===(i[o]=a)&&(e.lastIndex=Er(n,ue(e.lastIndex),r)),o++}return 0===o?null:i}]});var Be=ne.PROPER,$e="toString",Br=RegExp.prototype,Hr=Br[$e],Zr=v(rr),tn=_(function(){return"/a/b"!=Hr.call({source:"a",flags:"b"})}),s=Be&&Hr.name!=$e;(tn||s)&&re(RegExp.prototype,$e,function(){var t=kt(this),e=We(t.source),n=t.flags;return"/"+e+"/"+We(void 0!==n||!C(Br,t)||"flags"in Br?n:Zr(t))},{unsafe:!0});function Gr(t){var e=r(t),t=Tt.f;I&&e&&!e[Jr]&&t(e,Jr,{configurable:!0,get:function(){return this}})}var qr=D.String,Qr=D.TypeError,Wr=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=v(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return kt(t),function(t){if("object"==typeof t||N(t))return;throw Qr("Can't set "+qr(t)+" as a prototype")}(e),r?n(t,e):t.__proto__=e,t}}():void 0),Vr=function(t,e,n){var r,i;return Wr&&N(r=e.constructor)&&r!==n&&L(i=r.prototype)&&i!==n.prototype&&Wr(t,i),t},Xr=l("match"),$r=function(t){var e;return L(t)&&(void 0!==(e=t[Xr])?!!e:"RegExp"==M(t))},Jr=l("species"),Kr=Tt.f,h=me.f,ti=Jt.enforce,ei=l("match"),ni=D.RegExp,ri=ni.prototype,ii=D.SyntaxError,oi=v(rr),ai=v(ri.exec),si=v("".charAt),li=v("".replace),ci=v("".indexOf),ui=v("".slice),fi=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,di=/a/g,pi=/a/g,P=new ni(di)!==di,hi=we.UNSUPPORTED_Y,R=I&&(!P||hi||yr||br||_(function(){return pi[ei]=!1,ni(di)!=di||ni(pi)==pi||"/a/i"!=ni(di,"i")})),gi=function(t){for(var e,n=t.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(e=si(t,r))?o||"."!==e?("["===e?o=!0:"]"===e&&(o=!1),i+=e):i+="[\\s\\S]":i+=e+si(t,++r);return i},_i=function(t){for(var e,n=t.length,r=0,i="",o=[],a={},s=!1,l=!1,c=0,u="";r<=n;r++){if("\\"===(e=si(t,r)))e+=si(t,++r);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:ai(fi,ui(t,r+1))&&(r+=2,l=!0),i+=e,c++;continue;case">"===e&&l:if(""===u||ot(a,u))throw new ii("Invalid capture group name");a[u]=!0,l=!(o[o.length]=[u,c]),u="";continue}l?u+=e:i+=e}return[i,o]};if(Te("RegExp",R)){for(var mi=function(t,e){var n,r,i=C(ri,this),o=$r(t),a=void 0===e,s=[],l=t;if(!i&&o&&a&&t.constructor===mi)return t;if((o||C(ri,t))&&(t=t.source,a&&(e="flags"in l?l.flags:oi(l))),t=void 0===t?"":We(t),e=void 0===e?"":We(e),l=t,o=e=yr&&"dotAll"in di&&(n=!!e&&-1<ci(e,"s"))?li(e,/s/g,""):e,hi&&"sticky"in di&&(r=!!e&&-1<ci(e,"y"))&&(e=li(e,/y/g,"")),br&&(t=(a=_i(t))[0],s=a[1]),e=Vr(ni(t,e),i?this:ri,mi),(n||r||s.length)&&(i=ti(e),n&&(i.dotAll=!0,i.raw=mi(gi(t),o)),r&&(i.sticky=!0),s.length&&(i.groups=s)),t!==l)try{zt(e,"source",""===l?"(?:)":l)}catch(t){}return e},yi=h(ni),vi=0;yi.length>vi;)!function(e){e in mi||Kr(mi,e,{configurable:!0,get:function(){return ni[e]},set:function(t){ni[e]=t}})}(yi[vi++]);(ri.constructor=mi).prototype=ri,re(D,"RegExp",mi)}function bi(t,e,n){(t.prototype=e.prototype=n).constructor=t}function xi(t,e){var n,r=Object.create(t.prototype);for(n in e)r[n]=e[n];return r}function wi(){}Gr("RegExp");var Mi=1/.7,En="\\s*([+-]?\\d+)\\s*",On="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ki=/^#([0-9a-f]{3,8})$/,ji=new RegExp("^rgb\\("+[En,En,En]+"\\)$"),Ai=new RegExp("^rgb\\("+[tt,tt,tt]+"\\)$"),Ti=new RegExp("^rgba\\("+[En,En,En,On]+"\\)$"),zi=new RegExp("^rgba\\("+[tt,tt,tt,On]+"\\)$"),Ni=new RegExp("^hsl\\("+[On,tt,tt]+"\\)$"),Di=new RegExp("^hsla\\("+[On,tt,tt,On]+"\\)$"),Ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Si(){return this.rgb().formatHex()}function Ei(){return this.rgb().formatRgb()}function Li(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ki.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ci(e):3===n?new Yi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Oi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Oi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ji.exec(t))?new Yi(e[1],e[2],e[3],1):(e=Ai.exec(t))?new Yi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ti.exec(t))?Oi(e[1],e[2],e[3],e[4]):(e=zi.exec(t))?Oi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ni.exec(t))?Hi(e[1],e[2]/100,e[3]/100,1):(e=Di.exec(t))?Hi(e[1],e[2]/100,e[3]/100,e[4]):Ii.hasOwnProperty(t)?Ci(Ii[t]):"transparent"===t?new Yi(NaN,NaN,NaN,0):null}function Ci(t){return new Yi(t>>16&255,t>>8&255,255&t,1)}function Oi(t,e,n,r){return new Yi(t=r<=0?e=n=NaN:t,e,n,r)}function Pi(t){return(t=t instanceof wi?t:Li(t))?new Yi((t=t.rgb()).r,t.g,t.b,t.opacity):new Yi}function Fi(t,e,n,r){return 1===arguments.length?Pi(t):new Yi(t,e,n,null==r?1:r)}function Yi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ri(){return"#"+Bi(this.r)+Bi(this.g)+Bi(this.b)}function Ui(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Hi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,n,r)}function Zi(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(!(t=!(t instanceof wi)?Li(t):t))return new qi;if(t instanceof qi)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=0<l&&l<1?0:a,new qi(a,s,l,t.opacity)}function Gi(t,e,n,r){return 1===arguments.length?Zi(t):new qi(t,e,n,null==r?1:r)}function qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}bi(wi,Li,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Si,formatHex:Si,formatHsl:function(){return Zi(this).formatHsl()},formatRgb:Ei,toString:Ei}),bi(Yi,Fi,xi(wi,{brighter:function(t){return t=null==t?Mi:Math.pow(Mi,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ri,formatHex:Ri,formatRgb:Ui,toString:Ui})),bi(qi,Gi,xi(wi,{brighter:function(t){return t=null==t?Mi:Math.pow(Mi,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,e=n+(n<.5?n:1-n)*e,n=2*n-e;return new Yi(Qi(240<=t?t-240:120+t,n,e),Qi(t,n,e),Qi(t<120?240+t:t-120,n,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Wi=Math.PI/180,Vi=180/Math.PI,Xi=.96422,$i=1,Ji=.82521,Ki=4/29,to=6/29,eo=3*to*to,no=to*to*to;function ro(t){if(t instanceof oo)return new oo(t.l,t.a,t.b,t.opacity);if(t instanceof fo)return po(t);var e,n,r=co((t=!(t instanceof Yi)?Pi(t):t).r),i=co(t.g),o=co(t.b),a=ao((.2225045*r+.7168786*i+.0606169*o)/$i);return r===i&&i===o?e=n=a:(e=ao((.4360747*r+.3850649*i+.1430804*o)/Xi),n=ao((.0139322*r+.0971045*i+.7141733*o)/Ji)),new oo(116*a-16,500*(e-a),200*(a-n),t.opacity)}function io(t,e,n,r){return 1===arguments.length?ro(t):new oo(t,e,n,null==r?1:r)}function oo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ao(t){return no<t?Math.pow(t,1/3):t/eo+Ki}function so(t){return to<t?t*t*t:eo*(t-Ki)}function lo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function co(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function uo(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof fo)return new fo(t.h,t.c,t.l,t.opacity);if(0===(t=!(t instanceof oo)?ro(t):t).a&&0===t.b)return new fo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Vi;return new fo(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new fo(t,e,n,null==r?1:r)}function fo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function po(t){if(isNaN(t.h))return new oo(t.l,0,0,t.opacity);var e=t.h*Wi;return new oo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}bi(oo,io,xi(wi,{brighter:function(t){return new oo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new oo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Yi(lo(3.1338561*(e=Xi*so(e))-1.6168667*(t=$i*so(t))-.4906146*(n=Ji*so(n))),lo(-.9787684*e+1.9161415*t+.033454*n),lo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),bi(fo,uo,xi(wi,{brighter:function(t){return new fo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new fo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return po(this).rgb()}}));var ho,go,_o,mo,yo,vo,bo,xo,wo,Mo=1.78277,ko=-.29227,jo=-.90649,Ao=1.97294,To=Ao*jo,zo=Ao*Mo,No=Mo*ko- -.14861*jo;function Do(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Io)return new Io(t.h,t.s,t.l,t.opacity);var e=(t=!(t instanceof Yi)?Pi(t):t).r/255,n=t.g/255,r=t.b/255,i=(No*r+To*e-zo*n)/(No+To-zo),r=(Ao*(n-i)-ko*(e=r-i))/jo,n=Math.sqrt(r*r+e*e)/(Ao*i*(1-i));return new Io((e=n?Math.atan2(r,e)*Vi-120:NaN)<0?e+360:e,n,i,t.opacity)}(t):new Io(t,e,n,null==r?1:r)}function Io(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function So(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}bi(Io,Do,xi(wi,{brighter:function(t){return t=null==t?Mi:Math.pow(Mi,t),new Io(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Io(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Wi,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),t=Math.sin(t);return new Yi(255*(e+n*(-.14861*r+Mo*t)),255*(e+n*(ko*r+jo*t)),255*(e+Ao*r*n),this.opacity)}})),document.createElement("canvas").getContext("2d");var Eo=!1;function Lo(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Co(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(vo=document.createElement("footer")).className="flourish-footer",(bo=document.createElement("div")).className="flourish-footer-text",(wo=document.createElement("a")).target="_blank",(xo=document.createElement("img")).className="flourish-footer-logo",wo.appendChild(xo),vo.appendChild(bo),vo.appendChild(wo),vo}function Oo(){return Ho.background_color_enabled&&!function(t){if(t){var e=Li(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(Ho.background_color)}function Po(){var t=So(Ho.footer_logo_src)?Ho.footer_logo_src:"";return t=So(Ho.footer_logo_src_light)&&Oo()?Ho.footer_logo_src_light:t}function Fo(){return Ho.footer_logo_enabled&&Po()}function Yo(t){t||function(){var r="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+Ho["breakpoint_"+t]+"px) {\n",t="html { font-size:"+Ho["font_size_"+t]+"%; }";r+=(0==e?"":n)+t+(0==e?"":"\n}")+"\n\n"}),Hn.innerHTML=r;var t=[Ho.body_font,Ho.title_font,Ho.subtitle_font,Ho.footer_font];t.forEach(function(t){if(t){for(var e,n=!1,r=document.head.querySelectorAll("link.layout-font"),i=0;i<r.length;i++)r[i].href==t.url&&(n=!0);n||((e=document.createElement("link")).setAttribute("rel","stylesheet"),e.setAttribute("href",t.url),e.className="layout-font",document.head.appendChild(e))}});for(var e=document.head.querySelectorAll("link.layout-font"),n=0;n<e.length;n++){var i=e[n],o=!1;t.forEach(function(t){t&&t.url==i.href&&(o=!0)}),o||i.parentElement.removeChild(i)}document.body.style.fontFamily=Ho.body_font.name}(),ho.style.textAlign=Ho.header_align,ho.style.margin=0,ho.style.borderTop="top"==Ho.header_border?Ho.header_border_width+"px "+Ho.header_border_style+" "+Ho.header_border_color:null,ho.style.borderBottom="bottom"==Ho.header_border?Ho.header_border_width+"px "+Ho.header_border_style+" "+Ho.header_border_color:null,ho.style.paddingTop="top"==Ho.header_border?Ho.header_border_space+"rem":"",ho.style.paddingBottom="bottom"==Ho.header_border?Ho.header_border_space+"rem":"",go.innerHTML=Ho.title||"",go.style.fontFamily=Ho.title_font?Ho.title_font.name:"inherit",go.style.fontSize=("custom"!=Ho.title_size?Ho.title_size:Ho.title_size_custom)+"rem",go.style.lineHeight=Ho.title_line_height,go.style.fontWeight=Ho.title_weight,go.style.color=Ho.title_color||Ho.font_color,go.style.margin=0,go.style.paddingTop=Ho.title?("custom"==Ho.title_space_above?Ho.title_space_above_custom:Ho.title_space_above)+"rem":0,_o.innerHTML=Ho.subtitle||"",_o.style.fontFamily=Ho.subtitle_font?Ho.subtitle_font.name:"inherit",_o.style.fontSize=("custom"!=Ho.subtitle_size?Ho.subtitle_size:Ho.subtitle_size_custom)+"rem",_o.style.lineHeight=Ho.subtitle_line_height,_o.style.fontWeight=Ho.subtitle_weight,_o.style.color=Ho.subtitle_color||Ho.font_color,_o.style.margin=0,_o.style.paddingTop=Ho.subtitle?("custom"==Ho.subtitle_space_above?Ho.subtitle_space_above_custom:Ho.subtitle_space_above)+"rem":0,mo.innerHTML=Ho.header_text||"",mo.style.fontSize=("custom"!=Ho.header_text_size?Ho.header_text_size:Ho.header_text_size_custom)+"rem",mo.style.lineHeight=Ho.header_text_line_height,mo.style.fontWeight=Ho.header_text_weight,mo.style.margin=0,mo.style.color=Ho.header_text_color||Ho.font_color,mo.style.paddingTop=Ho.header_text?("custom"==Ho.header_text_space_above?Ho.header_text_space_above_custom:Ho.header_text_space_above)+"rem":0,yo.style.display=Ho.header_logo_enabled&&So(Ho.header_logo_src)?"":"none",yo.style.position="inside"==Ho.header_logo_align?"":"fixed",yo.style.height=Ho.header_logo_height+"rem",yo.style.top="outside"==Ho.header_logo_align?0:"",yo.style.left="outside"==Ho.header_logo_align&&"left"==Ho.header_logo_position_outside?0:"",yo.style.right="outside"==Ho.header_logo_align&&"right"==Ho.header_logo_position_outside?0:"",yo.style.marginTop=Ho.header_logo_margin_top+"rem",yo.style.marginBottom=Ho.header_logo_margin_bottom+"rem",yo.style.marginLeft=Ho.header_logo_margin_left+"rem",yo.style.marginRight=Ho.header_logo_margin_right+"rem",yo.style.float="top"==Ho.header_logo_position_inside||"outside"==Ho.header_logo_align?"":Ho.header_logo_position_inside,yo.style.width="auto",yo.src=So(Ho.header_logo_src)?Ho.header_logo_src:"",function(){var t=[{name:Ho.source_name,url:Ho.source_url},{name:Ho.multiple_sources?Ho.source_name_2:"",url:Ho.multiple_sources?Ho.source_url_2:""},{name:Ho.multiple_sources?Ho.source_name_3:"",url:Ho.multiple_sources?Ho.source_url_3:""}].filter(function(t){return t.name||t.url});Eo=0<t.length||Ho.footer_note||Ho.footer_note_secondary||Fo(),vo.style.display="flex",vo.style.height=Eo?null:0,vo.style.width="100%",vo.style.paddingTop="top"==Ho.footer_border?Ho.footer_border_space+"rem":"",vo.style.paddingBottom="bottom"==Ho.footer_border?Ho.footer_border_space+"rem":"",vo.style.borderTop="top"==Ho.footer_border?Ho.footer_border_width+"px "+Ho.footer_border_style+" "+Ho.footer_border_color:"",vo.style.borderBottom="bottom"==Ho.footer_border?Ho.footer_border_width+"px "+Ho.footer_border_style+" "+Ho.footer_border_color:"",vo.style.fontFamily=Ho.footer_font?Ho.footer_font.name:"inherit",vo.style.fontWeight=Ho.footer_text_weight,"justify"==Ho.footer_align?vo.style.justifyContent="space-between":"left"==Ho.footer_align?vo.style.justifyContent="flex-start":"right"==Ho.footer_align?vo.style.justifyContent="flex-end":"center"==Ho.footer_align&&(vo.style.justifyContent="center"),vo.style.fontSize=Ho.footer_text_size+"rem",vo.style.color=Ho.footer_text_color||Ho.font_color,vo.style.alignItems=Ho.footer_align_vertical;var r=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p");0<e&&(n.innerText=", "),t.url?((e=document.createElement("a")).innerText=t.name||t.url,e.href=Lo(t.url),e.target="_blank",n.appendChild(e)):n.innerText+=t.name||t.url,r.innerHTML+=n.innerHTML}),bo.style.order="left"==Ho.footer_logo_order?2:"",bo.style.textAlign="justify"==Ho.footer_align?"":Ho.footer_align,t="<p>",t+=""!==r.innerHTML?Ho.source_label+" "+r.innerHTML:"",t+=Ho.footer_note?(""!==r.innerHTML?" • ":"")+Ho.footer_note:"",t+="</p>",t+=Ho.footer_note_secondary?"<br /><p>"+Ho.footer_note_secondary+"</p>":"",bo.innerHTML=t,xo.src=Po(),xo.style.height=Ho.footer_logo_height+"rem",xo.style.marginLeft="right"==Ho.footer_logo_order?Ho.footer_logo_margin+"rem":"",xo.style.marginRight="left"==Ho.footer_logo_order?Ho.footer_logo_margin+"rem":"",xo.style.verticalAlign=Ho.footer_align_vertical,xo.style.display=Fo()?"":"none",wo.href=""==Ho.footer_logo_link_url?"":Lo(Ho.footer_logo_link_url),wo.style.cursor=""==Ho.footer_logo_link_url?"default":"pointer"}(),document.body.style.backgroundColor=Ho.background_color_enabled?Ho.background_color:"transparent",document.body.style.backgroundImage=Ho.background_image_enabled?"url("+Ho.background_image_src+")":"",document.body.style.backgroundSize=Ho.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Ho.background_image_position;var e=Wo.wrapper.style;e.height="100vh",e.color=Ho.font_color,e.maxWidth="wrapper"==Ho.max_width_target?Ho.max_width+"px":"",e.marginLeft="wrapper"==Ho.max_width_target&&"left"!=Ho.max_width_align?"auto":"",e.marginRight="wrapper"==Ho.max_width_target&&"right"!=Ho.max_width_align?"auto":"",e.padding=Ho.margin_top+"rem "+Ho.margin_right+"rem "+Ho.margin_bottom+"rem "+Ho.margin_left+"rem",e.borderTop=Ho.border.enabled?Ho.border.top.width+"px "+Ho.border.top.style+" "+Ho.border.top.color:"",e.borderRight=Ho.border.enabled?Ho.border.right.width+"px "+Ho.border.right.style+" "+Ho.border.right.color:"",e.borderBottom=Ho.border.enabled?Ho.border.bottom.width+"px "+Ho.border.bottom.style+" "+Ho.border.bottom.color:"",e.borderLeft=Ho.border.enabled?Ho.border.left.width+"px "+Ho.border.left.style+" "+Ho.border.left.color:"";var n=Wo.primary.outer.style,t=Wo.legend.outer.style,e=parseFloat(n.order)>parseFloat(t.order)?"above":"below";sr[Ho.layout_order].forEach(function(t,e){Wo[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,da(e),t.textAlign=Ho.header_align,Wo.controls.outer.style.textAlign=Ho.header_align,Wo.primary.outer.style.maxWidth="primary"==Ho.max_width_target?Ho.max_width+"px":"",Wo.primary.outer.style.marginLeft="primary"==Ho.max_width_target&&"left"!=Ho.max_width_align?"auto":"",Wo.primary.outer.style.marginRight="primary"==Ho.max_width_target&&"right"!=Ho.max_width_align?"auto":"";t=Ho.screenreader_hide_primary&&""!=Ho.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Ho.screenreader_hide_primary?Ho.screenreader_text_primary:"",t?Wo.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Wo.primary.outer.removeAttribute("aria-describedBy"),Ho.screenreader_hide_primary?Wo.primary.inner.setAttribute("aria-hidden",!0):Wo.primary.inner.removeAttribute("aria-hidden");var r=("custom"==Ho.space_between_sections?Ho.space_between_sections_custom:Ho.space_between_sections)/2+"rem";Qo.map(function(t){var e=Wo[t],n=e.outer.style;return{name:t,height:Xo(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){return!!t.height||(t.style.paddingBottom="",void(t.style.paddingTop=""))}).forEach(function(t,e,n){t.style.paddingTop=e?r:"",t.style.paddingBottom=e<n.length-1?r:""})}var Ro=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});var Uo,Bo,Ho,Zo="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function Go(t){return window.innerWidth!==Uo&&(Uo=window.innerWidth,Bo=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Bo}var qo,Qo=["header","controls","legend","primary","footer"],Wo={};function Vo(t){return t.getBoundingClientRect().width}function Xo(t){return t.getBoundingClientRect().height}function $o(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;e=document.createElement("div");return e.className="fl-layout-inner",e.id=n,e.style.width="100%",e.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||e.setAttribute("aria-hidden",!0),r.appendChild(e),Wo.wrapper.appendChild(r),{outer:r,inner:e}}function Jo(){return Wo.wrapper}function Ko(){return Wo.sidebar}function ta(t){return-1!==Qo.indexOf(t)?Wo[t].inner:null}function ea(t){return Wo[t]||void 0===t?Vo("wrapper"==t||void 0===t?Wo.wrapper:Wo[t].outer):null}function na(t){return Wo[t]||void 0===t?"wrapper"==t||void 0===t?Vo(Wo.wrapper)-ca("horizontal")-ua("horizontal"):Vo(Wo[t].inner):null}function ra(t){return Wo[t]||void 0===t?Xo("wrapper"==t||void 0===t?Wo.wrapper:Wo[t].outer):null}function ia(t){return Wo[t]||void 0===t?"wrapper"==t||void 0===t?Xo(Wo.wrapper)-ca("vertical")-ua("vertical"):Xo(Wo[t].inner):null}function oa(){return Xo(Wo.primary.outer)-sa(Wo.primary.outer)}function aa(){return Vo(Wo.primary.inner)}function sa(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function la(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}()-ca("vertical")-ua("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+ra(e)},0)-sa(Wo.primary.outer)}function ca(t){var e;return"left"==t?e=Ho.margin_left:"right"==t?e=Ho.margin_right:"top"==t?e=Ho.margin_top:"bottom"==t?e=Ho.margin_bottom:"horizontal"==t?e=Ho.margin_left+Ho.margin_right:"vertical"==t&&(e=Ho.margin_top+Ho.margin_bottom),Go(e)}function ua(t){return Ho.border.enabled?"vertical"==t?Ho.border.top.width+Ho.border.bottom.width:"horizontal"==t?Ho.border.left.width+Ho.border.right.width:null:0}function fa(t){var e,n=Wo.primary;Flourish.fixed_height||void 0===Flourish.fixed_height?n.inner.style.height="":(t=(e=null===t)?la():t)+sa(Wo.primary.outer)!==parseFloat(n.outer.style.height)&&(Wo.wrapper.style.height="",n.outer.style.flex="",n.inner.style.height=t+"px",Flourish.setHeight(e?null:ra()))}function da(t){var e=parseFloat(Wo.primary.outer.style.order);Wo.legend.outer.style.order=e+("below"===t.trim().toLowerCase()?1:-1)}function pa(t){var e=qo.querySelector(".fl-layout-overlay-message");t?(qo.style.display="block",e.innerHTML="string"==typeof t?t:Zo):(e.textContent="",qo.style.display="none")}function ha(){return qo}function Zs(t){return(Zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ma(t,e,n){return e&&_a(t.prototype,e),n&&_a(t,n),t}function ya(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function va(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xa(t,e)}function ba(t){return(ba=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xa(t,e){return(xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ma(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=ba(n);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wa(t)}(this,r?(t=ba(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function ka(){return(ka="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ba(t)););return t}(t,e);if(r){e=Object.getOwnPropertyDescriptor(r,e);return e.get?e.get.call(arguments.length<3?t:n):e.value}}).apply(this,arguments)}function ja(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Ta(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aa(t){return function(t){if(Array.isArray(t))return za(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ta(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ta(t,e){if(t){if("string"==typeof t)return za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(t,e):void 0}}function za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Na(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ta(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function Da(t,e,n){(e=d(e))in t?Tt.f(t,e,E(0,n)):t[e]=n}var Yt=Y("slice"),Ia=l("species"),Sa=D.Array,Ea=Math.max;$t({target:"Array",proto:!0,forced:!Yt},{slice:function(t,e){var n,r,i,o=z(this),a=Wt(o),s=Qt(t,a),l=Qt(void 0===e?a:e,a);if(pn(o)&&(n=o.constructor,(n=vn(n)&&(n===Sa||pn(n.prototype))||L(n)&&null===(n=n[Ia])?void 0:n)===Sa||void 0===n))return Dn(o,s,l);for(r=new(void 0===n?Sa:n)(Ea(l-s,0)),i=0;s<l;s++,i++)s in o&&Da(r,i,o[s]);return r.length=i,r}});var Rt=Y("splice"),La=D.TypeError,Ca=Math.max,Oa=Math.min;$t({target:"Array",proto:!0,forced:!Rt},{splice:function(t,e){var n,r,i,o,a,s,l=w(this),c=Wt(l),u=Qt(t,c),t=arguments.length;if(0===t?n=r=0:r=1===t?(n=0,c-u):(n=t-2,Oa(Ca(ae(e),0),c-u)),9007199254740991<c+n-r)throw La("Maximum allowed length exceeded");for(i=ln(l,r),o=0;o<r;o++)(a=u+o)in l&&Da(i,o,l[a]);if(n<(i.length=r)){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;c-r+n<o;o--)delete l[o-1]}else if(r<n)for(o=c-r;u<o;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}});function Pa(t){if(vn(t))return t;throw Ua(Q(t)+" is not a constructor")}var qt=Function.prototype,Fa=qt.apply,ee=qt.bind,Ya=qt.call,Ra="object"==typeof Reflect&&Reflect.apply||(ee?Ya.bind(Fa):function(){return Ya.apply(Fa,arguments)}),Ua=D.TypeError,Ba=l("species"),Ha=function(t,e){var n,t=kt(t).constructor;return void 0===t||null==(n=kt(t)[Ba])?e:Pa(n)},Za=we.UNSUPPORTED_Y,Ga=4294967295,qa=Math.min,Qa=[].push,Wa=v(/./.exec),Va=v(Qa),Xa=v("".slice);Pe("split",function(i,h,g){var _="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=We(u(this)),r=void 0===e?Ga:e>>>0;if(0==r)return[];if(void 0===t)return[n];if(!$r(t))return S(h,n,t,r);for(var i,o,a,s=[],e=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=new RegExp(t.source,e+"g");(i=S(Sr,c,n))&&!(l<(o=c.lastIndex)&&(Va(s,Xa(n,l,i.index)),1<i.length&&i.index<n.length&&Ra(Qa,s,Dn(i,1)),a=i[0].length,l=o,r<=s.length));)c.lastIndex===i.index&&c.lastIndex++;return l===n.length?!a&&Wa(c,"")||Va(s,""):Va(s,Xa(n,l)),r<s.length?Dn(s,0,r):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:S(h,this,t,e)}:h;return[function(t,e){var n=u(this),r=null==t?void 0:X(t,i);return r?S(r,t,n,e):S(_,We(n),t,e)},function(t,e){var n=kt(this),r=We(t),i=g(_,n,r,e,_!==h);if(i.done)return i.value;var t=Ha(n,RegExp),o=n.unicode,i=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(Za?"g":"y"),a=new t(Za?"^(?:"+n.source+")":n,i),s=void 0===e?Ga:e>>>0;if(0==s)return[];if(0===r.length)return null===Lr(a,r)?[r]:[];for(var l=0,c=0,u=[];c<r.length;){a.lastIndex=Za?0:c;var f,d=Lr(a,Za?Xa(r,c):r);if(null===d||(f=qa(ue(a.lastIndex+(Za?c:0)),r.length))===l)c=Er(r,c,o);else{if(Va(u,Xa(r,l,c)),u.length===s)return u;for(var p=1;p<=d.length-1;p++)if(Va(u,d[p]),u.length===s)return u;c=l=f}}return Va(u,Xa(r,l)),u}]},!!_(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]}),Za);var $a="http://www.w3.org/1999/xhtml",Ja={svg:"http://www.w3.org/2000/svg",xhtml:$a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ka(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ja.hasOwnProperty(e)?{space:Ja[e],local:t}:t}function ts(t){t=Ka(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===$a&&t.documentElement.namespaceURI===$a?t.createElement(n):t.createElementNS(e,n)}})(t)}function es(){}function ns(t){return null==t?es:function(){return this.querySelector(t)}}function rs(){return[]}function is(t){return null==t?rs:function(){return this.querySelectorAll(t)}}function os(t){return function(){return this.matches(t)}}function as(t){return new Array(t.length)}function ss(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ss.prototype={constructor:ss,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ls="$";function cs(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ss(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function us(t,e,n,r,i,o,a){for(var s,l,c={},u=e.length,f=o.length,d=new Array(u),p=0;p<u;++p)(s=e[p])&&(d[p]=l=ls+a.call(s,s.__data__,p,e),l in c?i[p]=s:c[l]=s);for(p=0;p<f;++p)(s=c[l=ls+a.call(t,o[p],p,o)])?((r[p]=s).__data__=o[p],c[l]=null):n[p]=new ss(t,o[p]);for(p=0;p<u;++p)(s=e[p])&&c[d[p]]===s&&(i[p]=s)}function fs(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function ds(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ps(t,e){return t.style.getPropertyValue(e)||ds(t).getComputedStyle(t,null).getPropertyValue(e)}var hs=v([].join),te=A!=Object,Kt=F("join",",");function gs(t){return t.trim().split(/^|\s+/)}function _s(t){return t.classList||new ms(t)}function ms(t){this._node=t,this._names=gs(t.getAttribute("class")||"")}function ys(t,e){for(var n=_s(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function vs(t,e){for(var n=_s(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bs(){this.textContent=""}function xs(){this.innerHTML=""}function ws(){this.nextSibling&&this.parentNode.appendChild(this)}function Ms(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ks(){return null}function js(){var t=this.parentNode;t&&t.removeChild(this)}function As(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ts(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}$t({target:"Array",proto:!0,forced:te||!Kt},{join:function(t){return hs(z(this),void 0===t?",":t)}}),ms.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var zs={},Ns=null;function Ds(n,t,e){return n=Is(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Is(n,r,i){return function(t){var e=Ns;Ns=t;try{n.call(this,this.__data__,r,i)}finally{Ns=e}}}function Ss(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function Es(l,c,u){var f=zs.hasOwnProperty(l.type)?Ds:Is;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===l.type&&r.name===l.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=u),void(r.value=c);this.addEventListener(l.type,o,u),r={type:l.type,name:l.name,value:c,listener:o,capture:u},i?i.push(r):this.__on=[r]}}function Ls(t,e,n){var r=ds(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(zs={mouseenter:"mouseover",mouseleave:"mouseout"}));var Cs=[null];function Os(t,e){this._groups=t,this._parents=e}function Ps(){return new Os([[document.documentElement]],Cs)}function Fs(t){return"string"==typeof t?new Os([[document.querySelector(t)]],[document.documentElement]):new Os([[t]],Cs)}function Ys(t){var e=function(){for(var t,e=Ns;t=e.sourceEvent;)e=t;return e}();return function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}return r=t.getBoundingClientRect(),[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}(t,e=e.changedTouches?e.changedTouches[0]:e)}function Rs(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}Os.prototype=Ps.prototype={constructor:Os,select:function(t){"function"!=typeof t&&(t=ns(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Os(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=is(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Os(r,i)},filter:function(t){"function"!=typeof t&&(t=os(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Os(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),u=-1,this.each(function(t){h[++u]=t}),h;var n,r=e?us:cs,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],p=d.length,h=t.call(f,f&&f.__data__,u,i),g=h.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(p),h,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new Os(s,i))._enter=l,s._exit=c,s},enter:function(){return new Os(this._enter||this._groups.map(as),this._parents)},exit:function(){return new Os(this._exit||this._groups.map(as),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new Os(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||fs;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new Os(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ka(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ps(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=gs(t+"");if(arguments.length<2){for(var r=_s(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ys:vs)(this,t)}}:e?function(t){return function(){ys(this,t)}}:function(t){return function(){vs(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?bs:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?xs:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(ws)},lower:function(){return this.each(Ms)},append:function(t){var e="function"==typeof t?t:ts(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:ts(t),r=null==e?ks:"function"==typeof e?e:ns(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(js)},clone:function(t){return this.select(t?Ts:As)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?Es:Ss,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Ls(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Ls(this,t,e)}})(t,e))}};var Us,Bs,fe=(1===(Us=Rs).length&&(Bs=Us,Us=function(t,e){return Rs(Bs(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;Us(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<Us(t[i],e)?r=i:n=1+i}return n}}),Hs=fe.right,Gs=fe.left;function qs(t){return null===t?NaN:+t}function Qs(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=qs(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=qs(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(1<o)return l/(o-1)}function Ws(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var Vs=Math.sqrt(50),Xs=Math.sqrt(10),$s=Math.sqrt(2);function Js(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ks(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function Ks(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(Vs<=t?10:Xs<=t?5:$s<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(Vs<=t?10:Xs<=t?5:$s<=t?2:1)}function tl(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/n;return Vs<=r?n*=10:Xs<=r?n*=5:$s<=r&&(n*=2),e<t?-n:n}function el(t,e,n){if(null==n&&(n=qs),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(1<=e)return+n(t[i-1],i-1,t);var r=(i-1)*e,i=Math.floor(r),e=+n(t[i],i,t);return e+(+n(t[i+1],i+1,t)-e)*(r-i)}}function nl(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r}function rl(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}function il(){return this.declarations=[],this}function ol(t){return this.selector=t,this.styles=[],this}il.prototype.select=function(t){if(!t)return this;t=new ol(t);return(t.parent=this).addDeclaration(t),t},il.prototype.addDeclaration=function(t){return this.declarations.push(t),this},il.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},il.prototype.clear=function(){return this.declarations=[],this},ol.prototype.style=function(t,e){e="function"==typeof value_?e():e;return""!==e&&null!=e&&this.styles.push([t,e]),this},ol.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var al="0.2em";function sl(t){var e;return t.appendChild(this._container.node()),document.querySelector("#legend-styles")||(e=document.createElement("style"),(t=new il).select(".fl-legend-container.interactive .fl-legend-item:hover").style("opacity",.75).style("cursor","pointer"),e.id="legend-styles",e.type="text/css",e.innerHTML=t.print(),document.head.appendChild(e)),this}function ll(t){return this._formatFunction=t,this}function cl(){return this._container}function ul(t){return void 0===t?this._visible:(this._visible=t,this)}function fl(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function dl(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"}).style("padding-inline-start",0).style("padding-inline-end",al)}function pl(t,e,n){return 0===e?n:e%2==1?pl(t,e-1,n*t):pl(t*t,e/2,n)}function hl(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=xl(i/1e7)}function gl(t,e){for(var n=6,r=0;0<=--n;)r+=t[n],t[n]=xl(r/e),r=r%e*1e7}function _l(t){for(var e,n=6,r="";0<=--n;)""===r&&0!==n&&0===t[n]||(e=bl(t[n]),r=""===r?e:r+wl("0",7-e.length)+e);return r}var ml=v(1..valueOf),yl=D.RangeError,vl=D.RangeError,bl=D.String,xl=Math.floor,wl=v(function(t){var e=We(u(this)),n="",r=ae(t);if(r<0||r==1/0)throw yl("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}),Ml=v("".slice),kl=v(1..toFixed),Le=_(function(){return"0.000"!==kl(8e-5,3)||"1"!==kl(.9,0)||"1.25"!==kl(1.255,2)||"1000000000000000128"!==kl(0xde0b6b3a7640080,0)})||!_(function(){kl({})});function jl(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}$t({target:"Number",proto:!0,forced:Le},{toFixed:function(t){var e,n,r=ml(this),i=ae(t),o=[0,0,0,0,0,0],a="",t="0";if(i<0||20<i)throw vl("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||1e21<=r)return bl(r);if(r<0&&(a="-",r=-r),1e-21<r)if(r=(n=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(r*pl(2,69,1))-69)<0?r*pl(2,-n,1):r/pl(2,n,1),r*=4503599627370496,0<(n=52-n)){for(hl(o,0,r),e=i;7<=e;)hl(o,1e7,0),e-=7;for(hl(o,pl(10,e,1),0),e=n-1;23<=e;)gl(o,1<<23),e-=23;gl(o,1<<e),hl(o,1,1),gl(o,2),t=_l(o)}else hl(o,0,r),hl(o,1<<-n,0),t=_l(o)+wl("0",i);return t=0<i?a+((n=t.length)<=i?"0."+wl("0",i-n)+t:Ml(t,0,n-i)+"."+Ml(t,n-i)):a+t}});var Al=0,Tl=Object.freeze({show_legend:!0,title_mode:"auto",title:"",max_width:25,swatch_width:.75,swatch_height:1,swatch_radius:3,legend_items_padding:.2,icon_height:1,icon_color:"#777777",order_override:"",orientation:"horizontal"});function zl(t){for(var e in this._state=t,Tl)void 0===this._state[e]&&(this._state[e]=Tl[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+Al,this._visible=!0,this._auto_title="",this._container=Fs(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),Al++,this}function Nl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Dl(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}zl.prototype.appendTo=sl,zl.prototype.format=ll,zl.prototype.getContainer=cl,zl.prototype.visible=ul,zl.prototype.autoTitle=fl,zl.prototype._updateTitle=dl,zl.prototype.data=function(t,n){return this._colorFunction=n,t||n?(n?Array.isArray(t)?this._legend_items=t.slice().map(function(t,e){t="object"==Zs(t)?t.label||"":t;return t?{label:t,color:n(t),index:e}:null}).filter(function(t){return null!==t}):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},zl.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},zl.prototype.on=function(t,n){return this._container&&(n&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):n||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",0<this._eventListeners.length),n?this._container.on(t,function(){var t=Ns.target,e=t.parentNode,t=t.classList.contains("fl-legend-item")?t:e.classList.contains("fl-legend-item")?e:null;t&&(e=Fs(t).datum(),n.call(t,e,e.index))}):this._container.on(t,null)),this},zl.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_items.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},zl.prototype._updateLegend=function(){var r=this,e=this._formatFunction;this._container.style("max-width",jl(this._state.max_width)+"px").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("align-content","horizontal"==this._state.orientation?"center":null).style("flex-direction","horizontal"==this._state.orientation?null:"column");var t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var o=[],a=0;a<t.length;a++){var s=t[a],l=n[s.label];void 0!==l&&(o[l]=s)}return o.filter(function(t){return void 0!==t})}(this._legend_items,this._state.order_override):this._legend_items,n=this._container.selectAll(".fl-legend-item").data(t),t=n.enter().append("div").attr("class","fl-legend-item");t.append("div").attr("class","fl-legend-swatch"),t.append("svg").attr("class","fl-legend-icon").append("path"),t.append("p").attr("class","fl-legend-label");t=n.merge(t);return t.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("opacity",function(t){return-1<r._filtered_items.indexOf(t.label)?.2:""}).style("align-items","center").style("padding-inline-end","horizontal"==this._state.orientation?this._state.legend_items_padding+"rem":0).style("padding-inline-start",0),t.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",function(t){return t.color}).style("display",function(t){return t.icon?"none":null}),t.select(".fl-legend-icon").attr("height",Math.ceil(jl(this._state.icon_height))).attr("width",function(t){if(!t.icon)return 0;var e=t.icon.width,n=t.icon.height,t=t.outline?n*t.stroke_thickness:0,n=jl(r._state.icon_height*((e+=t)/(n+=t)));return Math.ceil(n)}).style("margin-right",.25*this._state.text_size+"rem").style("display",function(t){return t.icon?"inline-block":"none"}).select("path").attr("d",function(t){return t.icon?t.icon.path_string:null}).attr("transform",function(t){if(!t.icon)return null;var e=t.icon.height,t=t.outline?e*t.stroke_thickness:0;e+=t;e="scale("+jl(r._state.icon_height)/e+")";return e+="translate("+.5*t+","+.5*t+")"}).style("fill",function(t){return t.outline?"none":t.color||r._state.icon_color}).style("stroke",function(t){return t.outline?t.color||r._state.icon_color:"none"}).style("stroke-width",function(t){return t.outline?t.icon.height*t.stroke_thickness:0}),t.select(".fl-legend-label").text(function(t){return e?e(t.label):t.label}).style("margin",0).style("user-select","none").style("padding-inline-end",0).style("padding-inline-start",al),n.exit().remove(),this._legend_item_els=t,this};var Il=l("unscopables"),Sl=Array.prototype;null==Sl[Il]&&Tt.f(Sl,Il,{configurable:!0,value:_r(null)});var El,Ee=function(t){Sl[Il][t]=!0},Ll={},Re=!_(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Cl=Bt("IE_PROTO"),Ol=D.Object,Pl=Ol.prototype,Fl=Re?Ol.getPrototypeOf:function(t){var e=w(t);if(ot(e,Cl))return e[Cl];t=e.constructor;return N(t)&&e instanceof t?t.prototype:e instanceof Ol?Pl:null},Yl=l("iterator"),Be=!1;[].keys&&("next"in(Hu=[].keys())?(Gu=Fl(Fl(Hu)))!==Object.prototype&&(El=Gu):Be=!0);tn=null==El||_(function(){var t={};return El[Yl].call(t)!==t});N((El=tn?{}:El)[Yl])||re(El,Yl,function(){return this});function Rl(){return this}function Ul(t,e,n,r,i,o,a){function s(t){if(t===i&&g)return g;if(!Xl&&t in p)return p[t];switch(t){case"keys":case Jl:case Kl:return function(){return new n(this,t)}}return function(){return new n(this)}}!function(t,e,n){e+=" Iterator";t.prototype=_r(Gl,{next:E(1,n)}),Zl(t,e,!1),Ll[e]=ql}(n,e,r);var l,c,u,f=e+" Iterator",d=!1,p=t.prototype,h=p[$l]||p["@@iterator"]||i&&p[i],g=!Xl&&h||s(i);if((r="Array"==e&&p.entries||h)&&(l=Fl(r.call(new t)))!==Object.prototype&&l.next&&(Fl(l)!==Vl&&(Wr?Wr(l,Vl):N(l[$l])||re(l,$l,Rl)),Zl(l,f,!0)),Ql&&i==Jl&&h&&h.name!==Jl&&(Wl?zt(p,"name",Jl):(d=!0,g=function(){return S(h,this)})),i)if(c={values:s(Jl),keys:o?g:s("keys"),entries:s(Kl)},a)for(u in c)!Xl&&!d&&u in p||re(p,u,c[u]);else $t({target:e,proto:!0,forced:Xl||d},c);return p[$l]!==g&&re(p,$l,g,{name:i}),Ll[e]=g,c}var s={IteratorPrototype:El,BUGGY_SAFARI_ITERATORS:Be},Bl=Tt.f,Hl=l("toStringTag"),Zl=function(t,e,n){t&&!ot(t=n?t:t.prototype,Hl)&&Bl(t,Hl,{configurable:!0,value:e})},Gl=s.IteratorPrototype,ql=function(){return this},Ql=ne.PROPER,Wl=ne.CONFIGURABLE,Vl=s.IteratorPrototype,Xl=s.BUGGY_SAFARI_ITERATORS,$l=l("iterator"),Jl="values",Kl="entries",tc="Array Iterator",ec=Jt.set,nc=Jt.getterFor(tc),rc=Ul(Array,"Array",function(t,e){ec(this,{type:tc,target:z(t),index:0,kind:e})},function(){var t=nc(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");Ll.Arguments=Ll.Array,Ee("keys"),Ee("values"),Ee("entries");function ic(e,t){if(e){if(e[ac]!==lc)try{zt(e,ac,lc)}catch(t){e[ac]=lc}if(e[sc]||zt(e,sc,t),fn[t])for(var n in rc)if(e[n]!==rc[n])try{zt(e,n,rc[n])}catch(t){e[n]=rc[n]}}}var oc,ac=l("iterator"),sc=l("toStringTag"),lc=rc.values;for(oc in fn)ic(D[oc]&&D[oc].prototype,oc);ic(g,"DOMTokenList");var cc="$";function uc(){}function fc(t,e){var n=new uc;if(t instanceof uc)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function dc(){var d,p,e,h=[],a=[];function g(t,n,r,i){if(n>=h.length)return null!=d&&t.sort(d),null!=p?p(t):t;for(var e,o,a,s=-1,l=t.length,c=h[n++],u=fc(),f=r();++s<l;)(a=u.get(e=c(o=t[s])+""))?a.push(o):u.set(e,[o]);return u.each(function(t,e){i(f,e,g(t,n,r,i))}),f}return e={object:function(t){return g(t,0,pc,hc)},map:function(t){return g(t,0,gc,_c)},entries:function(t){return function n(t,r){if(++r>h.length)return t;var i,o=a[r-1];return null!=p&&r>=h.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(t,0,gc,_c),0)},key:function(t){return h.push(t),e},sortKeys:function(t){return a[h.length-1]=t,e},sortValues:function(t){return d=t,e},rollup:function(t){return p=t,e}}}function pc(){return{}}function hc(t,e,n){t[e]=n}function gc(){return fc()}function _c(t,e,n){t.set(e,n)}function mc(){}uc.prototype=fc.prototype={constructor:uc,has:function(t){return cc+t in this},get:function(t){return this[cc+t]},set:function(t,e){return this[cc+t]=e,this},remove:function(t){t=cc+t;return t in this&&delete this[t]},clear:function(){for(var t in this)t[0]===cc&&delete this[t]},keys:function(){var t,e=[];for(t in this)t[0]===cc&&e.push(t.slice(1));return e},values:function(){var t,e=[];for(t in this)t[0]===cc&&e.push(this[t]);return e},entries:function(){var t,e=[];for(t in this)t[0]===cc&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var t,e=0;for(t in this)t[0]===cc&&++e;return e},empty:function(){for(var t in this)if(t[0]===cc)return!1;return!0},each:function(t){for(var e in this)e[0]===cc&&t(this[e],e.slice(1),this)}};$e=fc.prototype;function yc(t,e){var n=new mc;if(t instanceof mc)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}mc.prototype=yc.prototype={constructor:mc,has:$e.has,add:function(t){return this[cc+(t+="")]=t,this},remove:$e.remove,clear:$e.clear,values:$e.keys,size:$e.size,empty:$e.empty,each:$e.each};var P=Array.prototype,vc=P.map,bc=P.slice,xc={name:"implicit"};function wc(){var o=fc(),a=[],r=[],i=xc;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==xc)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=fc();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(r=bc.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return wc(a,r).unknown(i)},Nl.apply(s,arguments),s}function Mc(t){return function(){return t}}function kc(e,n){return function(t){return e+t*n}}function jc(t,e){var n=e-t;return n?kc(t,180<n||n<-180?n-360*Math.round(n/360):n):Mc(isNaN(t)?e:t)}function Ac(o){return 1==(o=+o)?Tc:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):Mc(isNaN(t)?e:t);var n,r,i}}function Tc(t,e){var n=e-t;return n?kc(t,n):Mc(isNaN(t)?e:t)}var zc=function t(e){var a=Ac(e);function n(e,t){var n=a((e=Fi(e)).r,(t=Fi(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=Tc(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function Nc(t,e,n){for(var r in e)re(t,r,e[r],n);return t}function Dc(t,e){if(C(e,t))return t;throw Hc("Incorrect invocation")}function Ic(t){if(void 0===t)return 0;var e=ae(t),t=ue(e);if(e!==t)throw Zc("Wrong length or index");return t}function Sc(t){for(var e=w(this),n=Wt(e),r=arguments.length,i=Qt(1<r?arguments[1]:void 0,n),o=void 0===(r=2<r?arguments[2]:void 0)?n:Qt(r,n);i<o;)e[i++]=t;return e}function Ec(t){return[255&t]}function Lc(t){return[255&t,t>>8&255]}function Cc(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function Oc(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function Pc(t){return fu(t,23,4)}function Fc(t){return fu(t,52,8)}function Yc(t,e,n,r){var i=Ic(n),n=Kc(t);if(i+e>n.byteLength)throw lu(nu);return t=Kc(n.buffer).bytes,n=i+n.byteOffset,e=Dn(t,n,n+e),r?e:uu(e)}function Rc(t,e,n,r,i,o){if(n=Ic(n),t=Kc(t),n+e>t.byteLength)throw lu(nu);for(var a=Kc(t.buffer).bytes,s=n+t.byteOffset,l=r(+i),c=0;c<e;c++)a[s+c]=l[o?c:e-c-1]}var Uc,Bc=(Uc=function(s){var l=s.length-1;return function(t){var e,n=t<=0?t=0:1<=t?l-(t=1):Math.floor(t*l),r=s[n],i=s[n+1],o=0<n?s[n-1]:2*r-i,a=n<l-1?s[n+2]:2*i-r;return((1-3*(e=(t-n/l)*l)+3*(t=e*e)-(n=t*e))*o+(4-6*t+3*n)*r+(1+3*e+3*t-3*n)*i+n*a)/6}},function(t){for(var e,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a=0;a<n;++a)e=Fi(t[a]),r[a]=e.r||0,i[a]=e.g||0,o[a]=e.b||0;return r=Uc(r),i=Uc(i),o=Uc(o),e.opacity=1,function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e+""}}),R="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Hc=D.TypeError,Zc=D.RangeError,Gc=D.Array,qc=Math.abs,Qc=Math.pow,Wc=Math.floor,Vc=Math.log,Xc=Math.LN2,h=function(t,e,n){var r,i,o=Gc(n),a=8*n-e-1,s=(1<<a)-1,l=s>>1,c=23===e?Qc(2,-24)-Qc(2,-77):0,u=t<0||0===t&&1/t<0?1:0,f=0;for((t=qc(t))!=t||t===1/0?(i=t!=t?1:0,r=s):(r=Wc(Vc(t)/Xc),t*(n=Qc(2,-r))<1&&(r--,n*=2),2<=(t+=1<=r+l?c/n:c*Qc(2,1-l))*n&&(r++,n/=2),s<=r+l?(i=0,r=s):1<=r+l?(i=(t*n-1)*Qc(2,e),r+=l):(i=t*Qc(2,l-1)*Qc(2,e),r=0));8<=e;o[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;0<a;o[f++]=255&r,r/=256,a-=8);return o[--f]|=128*u,o},En=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,r=t[l--],c=127&r;for(r>>=7;0<s;c=256*c+t[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=e;0<s;n=256*n+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:r?-1/0:1/0;n+=Qc(2,e),c-=a}return(r?-1:1)*n*Qc(2,c-e)},tt=me.f,$c=Tt.f,On=ne.PROPER,Jc=ne.CONFIGURABLE,Kc=Jt.get,tu=Jt.set,Yt="ArrayBuffer",Rt="DataView",eu="prototype",nu="Wrong index",ru=D[Yt],iu=ru,ou=iu&&iu[eu],qt=D[Rt],au=qt&&qt[eu],ee=Object.prototype,su=D.Array,lu=D.RangeError,cu=v(Sc),uu=v([].reverse),fu=h,du=En,we=function(t,e){$c(t[eu],e,{get:function(){return Kc(this)[e]}})};if(R){var pu=On&&ru.name!==Yt;if(_(function(){ru(1)})&&_(function(){new ru(-1)})&&!_(function(){return new ru,new ru(1.5),new ru(NaN),pu&&!Jc}))pu&&Jc&&zt(ru,"name",Yt);else{(iu=function(t){return Dc(this,ou),new ru(Ic(t))})[eu]=ou;for(var hu,gu=tt(ru),_u=0;gu.length>_u;)(hu=gu[_u++])in iu||zt(iu,hu,ru[hu]);ou.constructor=iu}Wr&&Fl(au)!==ee&&Wr(au,ee);var mu=new qt(new iu(2)),yu=v(au.setInt8);mu.setInt8(0,2147483648),mu.setInt8(1,2147483649),!mu.getInt8(0)&&mu.getInt8(1)||Nc(au,{setInt8:function(t,e){yu(this,t,e<<24>>24)},setUint8:function(t,e){yu(this,t,e<<24>>24)}},{unsafe:!0})}else ou=(iu=function(t){Dc(this,ou);t=Ic(t);tu(this,{bytes:cu(su(t),0),byteLength:t}),I||(this.byteLength=t)})[eu],au=(qt=function(t,e,n){Dc(this,au),Dc(t,ou);var r=Kc(t).byteLength,e=ae(e);if(e<0||r<e)throw lu("Wrong offset");if(r<e+(n=void 0===n?r-e:ue(n)))throw lu("Wrong length");tu(this,{buffer:t,byteLength:n,byteOffset:e}),I||(this.buffer=t,this.byteLength=n,this.byteOffset=e)})[eu],I&&(we(iu,"byteLength"),we(qt,"buffer"),we(qt,"byteLength"),we(qt,"byteOffset")),Nc(au,{getInt8:function(t){return Yc(this,1,t)[0]<<24>>24},getUint8:function(t){return Yc(this,1,t)[0]},getInt16:function(t){t=Yc(this,2,t,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(t){t=Yc(this,2,t,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(t){return Oc(Yc(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return Oc(Yc(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return du(Yc(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return du(Yc(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,e){Rc(this,1,t,Ec,e)},setUint8:function(t,e){Rc(this,1,t,Ec,e)},setInt16:function(t,e){Rc(this,2,t,Lc,e,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,e){Rc(this,2,t,Lc,e,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,e){Rc(this,4,t,Cc,e,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,e){Rc(this,4,t,Cc,e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,e){Rc(this,4,t,Pc,e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,e){Rc(this,8,t,Fc,e,2<arguments.length?arguments[2]:void 0)}});Zl(iu,Yt),Zl(qt,Rt);var vu={ArrayBuffer:iu,DataView:qt},te="ArrayBuffer",Kt=vu[te],fe=D[te];function bu(e,n){n=n||[];var r,i=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(r=0;r<i;++r)o[r]=e[r]*(1-t)+n[r]*t;return o}}function xu(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=zu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}function wu(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}function Mu(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function ku(t,e){var n,r={},i={};for(n in null!==t&&"object"===Zs(t)||(t={}),e=null===e||"object"!==Zs(e)?{}:e)n in t?r[n]=zu(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}$t({global:!0,forced:fe!==Kt},{ArrayBuffer:Kt}),Gr(te);var ju=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Au=new RegExp(ju.source,"g");function Tu(t,r){var e,n,i,o,a,s=ju.lastIndex=Au.lastIndex=0,l=-1,c=[],u=[];for(t+="",r+="";(e=ju.exec(t))&&(n=Au.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),c[l]?c[l]+=i:c[++l]=i),(e=e[0])===(n=n[0])?c[l]?c[l]+=n:c[++l]=n:(c[++l]=null,u.push({i:l,x:Mu(e,n)})),s=Au.lastIndex;return s<r.length&&(i=r.slice(s),c[l]?c[l]+=i:c[++l]=i),c.length<2?u[0]?(a=u[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=u.length,function(t){for(var e,n=0;n<r;++n)c[(e=u[n]).i]=e.x(t);return c.join("")})}function zu(t,e){var n,r=Zs(e);return null==e||"boolean"===r?Mc(e):("number"===r?Mu:"string"===r?(n=Li(e))?(e=n,zc):Tu:e instanceof Li?zc:e instanceof Date?wu:(n=e,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(e)?xu:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ku:Mu:bu))(t,e)}function Nu(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Du,Iu,Su,Eu,Lu=180/Math.PI,Cu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ou(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Lu,skewX:Math.atan(l)*Lu,scaleX:a,scaleY:s}}function Pu(f,d,p,h){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,l,c=[],u=[];return t=f(t),e=f(e),i=t.translateX,o=t.translateY,l=e.translateX,s=e.translateY,a=c,n=u,i!==l||o!==s?(r=a.push("translate(",null,d,null,p),n.push({i:r-4,x:Mu(i,l)},{i:r-2,x:Mu(o,s)})):(l||s)&&a.push("translate("+l+d+s+p),n=t.rotate,i=e.rotate,r=c,o=u,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(g(r)+"rotate(",null,h)-2,x:Mu(n,i)})):i&&r.push(g(r)+"rotate("+i+h),a=t.skewX,l=e.skewX,s=c,o=u,a!==l?o.push({i:s.push(g(s)+"skewX(",null,h)-2,x:Mu(a,l)}):l&&s.push(g(s)+"skewX("+l+h),n=t.scaleX,r=t.scaleY,i=e.scaleX,o=e.scaleY,a=c,s=u,n!==i||r!==o?(l=a.push(g(a)+"scale(",null,",",null,")"),s.push({i:l-4,x:Mu(n,i)},{i:l-2,x:Mu(r,o)})):1===i&&1===o||a.push(g(a)+"scale("+i+","+o+")"),t=e=null,function(t){for(var e,n=-1,r=u.length;++n<r;)c[(e=u[n]).i]=e.x(t);return c.join("")}}}var Fu=Pu(function(t){return"none"===t?Cu:(Du||(Du=document.createElement("DIV"),Iu=document.documentElement,Su=document.defaultView),Du.style.transform=t,t=Su.getComputedStyle(Iu.appendChild(Du),null).getPropertyValue("transform"),Iu.removeChild(Du),Ou(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Yu=Pu(function(t){return null==t?Cu:((Eu=Eu||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=Eu.transform.baseVal.consolidate())?Ou((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Cu)},", ",")",")");var Ru,Le=function(e,t){var n=Ru((e=Gi(e)).h,(t=Gi(t)).h),r=Tc(e.s,t.s),i=Tc(e.l,t.l),o=Tc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}};function Uu(e,t){var n=Tc((e=io(e)).l,(t=io(t)).l),r=Tc(e.a,t.a),i=Tc(e.b,t.b),o=Tc(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}var Bu,Hu=function(e,t){var n=Bu((e=uo(e)).h,(t=uo(t)).h),r=Tc(e.c,t.c),i=Tc(e.l,t.l),o=Tc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}};function Zu(s){return function t(a){function e(e,t){var n=s((e=Do(e)).h,(t=Do(t)).h),r=Tc(e.s,t.s),i=Tc(e.l,t.l),o=Tc(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}Zu(Bu=Ru=jc);var Gu=Zu(Tc);function qu(t){return+t}var Qu=[0,1];function Wu(t){return t}function Vu(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Xu(t){var e=t[0],n=t[t.length-1];return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function $u(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=Vu(t,r),n(e,i)):(r=Vu(r,t),n(i,e));return function(t){return i(r(t))}}function Ju(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Vu(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=Hs(n,t,1,r)-1;return o[e](i[e](t))}}function Ku(t,e){return f=u=Qu,d=zu,p=Wu,r.invert=function(t){return p(o((c=c||s(f,u.map(i),Mu))(t)))},r.domain=function(t){return arguments.length?(u=vc.call(t,qu),p===Wu||(p=Xu(u)),n()):u.slice()},r.range=function(t){return arguments.length?(f=bc.call(t),n()):f.slice()},r.rangeRound=function(t){return f=bc.call(t),d=Nu,n()},r.clamp=function(t){return arguments.length?(p=t?Xu(u):Wu,r):p!==Wu},r.interpolate=function(t){return arguments.length?(d=t,n()):d},r.unknown=function(t){return arguments.length?(a=t,r):a},function(t,e){return i=t,o=e,n()}(t,e);function n(){return s=2<Math.min(u.length,f.length)?Ju:$u,l=c=null,r}function r(t){return isNaN(t=+t)?a:(l=l||s(u.map(i),f,d))(i(p(t)))}var i,o,a,s,l,c,u,f,d,p}var tn=me.f,tf=xt.f,ef=Tt.f,nf=en.trim,Be="Number",rf=D[Be],of=rf.prototype,af=D.TypeError,sf=v("".slice),lf=v("".charCodeAt),cf=function(t){var e,n,r,i,o,a,s,l=gt(t,"number");if(G(l))throw af("Cannot convert a Symbol value to a number");if("string"==typeof l&&2<l.length)if(l=nf(l),43===(e=lf(l,0))||45===e){if(88===(t=lf(l,2))||120===t)return NaN}else if(48===e){switch(lf(l,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(o=(i=sf(l,2)).length,a=0;a<o;a++)if((s=lf(i,a))<48||r<s)return NaN;return parseInt(i,n)}return+l};if(Te(Be,!rf(" 0o1")||!rf("0b1")||rf("+0x1"))){for(var uf,ff=function(t){var t=arguments.length<1?0:rf(function(t){t=gt(t,"number");return"bigint"==typeof t?t:cf(t)}(t)),e=this;return C(of,e)&&_(function(){ml(e)})?Vr(Object(t),e,ff):t},df=I?tn(rf):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),pf=0;df.length>pf;pf++)ot(rf,uf=df[pf])&&!ot(ff,uf)&&ef(ff,uf,tf(rf,uf));(ff.prototype=of).constructor=ff,re(D,Be,ff)}$t({target:"Array",proto:!0},{fill:Sc}),Ee("fill");var hf=Math.floor,gf=v("".charAt),_f=v("".replace),mf=v("".slice),yf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,vf=/\$([$&'`]|\d{1,2})/g,bf=l("replace"),xf=Math.max,wf=Math.min,Mf=v([].concat),kf=v([].push),jf=v("".indexOf),Af=v("".slice),s="$0"==="a".replace(/./,"$0"),Tf=!!/./[bf]&&""===/./[bf]("a","$0");function zf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,e=t.slice(0,n);return[1<e.length?e[0]+e.slice(2):e,+t.slice(n+1)]}function Nf(t){return(t=zf(Math.abs(t)))?t[1]:NaN}Pe("replace",function(t,v,b){var x=Tf?"$":"$0";return[function(t,e){var n=u(this),r=null==t?void 0:X(t,bf);return r?S(r,t,n,e):S(v,We(n),t,e)},function(t,e){var n=kt(this),r=We(t);if("string"==typeof e&&-1===jf(e,x)&&-1===jf(e,"$<")){t=b(v,n,r,e);if(t.done)return t.value}var i=N(e);i||(e=We(e));var o,a=n.global;a&&(o=n.unicode,n.lastIndex=0);for(var s=[];;){if(null===(d=Lr(n,r)))break;if(kf(s,d),!a)break;""===We(d[0])&&(n.lastIndex=Er(r,ue(n.lastIndex),o))}for(var l,c="",u=0,f=0;f<s.length;f++){for(var d,p=We((d=s[f])[0]),h=xf(wf(ae(d.index),r.length),0),g=[],_=1;_<d.length;_++)kf(g,void 0===(l=d[_])?l:String(l));var m,y=d.groups,y=i?(m=Mf([p],g,h,r),void 0!==y&&kf(m,y),We(Ra(e,void 0,m))):function(o,a,s,l,c,t){var u=s+o.length,f=l.length,e=vf;return void 0!==c&&(c=w(c),e=yf),_f(t,e,function(t,e){var n;switch(gf(e,0)){case"$":return"$";case"&":return o;case"`":return mf(a,0,s);case"'":return mf(a,u);case"<":n=c[mf(e,1,-1)];break;default:var r=+e;if(0==r)return t;if(f<r){var i=hf(r/10);return 0===i?t:i<=f?void 0===l[i-1]?gf(e,1):l[i-1]+gf(e,1):t}n=l[r-1]}return void 0===n?"":n})}(p,r,h,g,y,e);u<=h&&(c+=Af(r,u,h)+y,u=h+p.length)}return c+Af(r,u)}]},!!_(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!s||Tf);var Df,If=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sf(t){if(!(e=If.exec(t)))throw new Error("invalid format: "+t);var e;return new Ef({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ef(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Lf(t,e){e=zf(t,e);if(!e)return t+"";t=e[0],e=e[1];return e<0?"0."+new Array(-e).join("0")+t:t.length>e+1?t.slice(0,e+1)+"."+t.slice(e+1):t+new Array(e-t.length+2).join("0")}Sf.prototype=Ef.prototype,Ef.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Cf={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Lf(100*t,e)},r:Lf,s:function(t,e){if(!(r=zf(t,e)))return t+"";var n=r[0],r=(i=r[1])-(Df=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,i=n.length;return r===i?n:i<r?n+new Array(r-i+1).join("0"):0<r?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+zf(t,Math.max(0,e+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Of(t){return t}var Pf=Array.prototype.map,Ff=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Yf(t){var e,s,l,w=void 0===t.grouping||void 0===t.thousands?Of:(s=Pf.call(t.grouping,Number),l=t.thousands+"",function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(l)}),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",k=void 0===t.numerals?Of:(e=Pf.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}),o=void 0===t.percent?"%":t.percent+"",j=void 0===t.minus?"-":t.minus+"",A=void 0===t.nan?"NaN":t.nan+"";function a(t){var c=(t=Sf(t)).fill,u=t.align,f=t.sign,e=t.symbol,d=t.zero,p=t.width,h=t.comma,g=t.precision,_=t.trim,m=t.type;"n"===m?(h=!0,m="g"):Cf[m]||(void 0===g&&(g=12),_=!0,m="g"),(d||"0"===c&&"="===u)&&(d=!0,c="0",u="=");var y="$"===e?r:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===e?i:/[%p]/.test(m)?o:"",b=Cf[m],x=/[defgprs%]/.test(m);function n(t){var e,n,r,i=y,o=v;if("c"===m)o=b(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?A:b(Math.abs(t),g),_&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(e+1):t}(t)),i=((a=a&&0==+t&&"+"!==f?!1:a)?"("===f?f:j:"-"===f||"("===f?"":f)+i,o=("s"===m?Ff[8+Df/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?M+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}h&&!d&&(t=w(t,1/0));var s=i.length+t.length+o.length,l=s<p?new Array(p-s+1).join(c):"";switch(h&&d&&(t=w(l+t,l.length?p-o.length:1/0),l=""),u){case"<":t=i+t+o+l;break;case"=":t=i+l+t+o;break;case"^":t=l.slice(0,s=l.length>>1)+i+t+o+l.slice(s);break;default:t=l+i+t+o}return k(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=Sf(t)).type="f",t)),e=3*Math.max(-8,Math.min(8,Math.floor(Nf(e)/3))),r=Math.pow(10,-e),i=Ff[8+e/3];return function(t){return n(r*t)+i}}}}function Rf(t){return Math.max(0,-Nf(Math.abs(t)))}function Uf(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nf(e)/3)))-Nf(Math.abs(t)))}function Bf(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nf(e)-Nf(t))+1}function Hf(s){var l=s.domain;return s.ticks=function(t){var e=l();return Js(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=l();return function(t,e,n,r){var i,o=tl(t,e,n);switch((r=Sf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Uf(o,a))||(r.precision=i),Qf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Bf(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Rf(o))||(r.precision=i-2*("%"===r.type))}return qf(r)}(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Ks(o,a,t))?e=Ks(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Ks(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,l(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,l(n)),s},s}function Zf(){var e=Ku(Wu,Wu);return e.copy=function(){return t=e,Zf().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},Nl.apply(e,arguments),Hf(e)}var Gf,qf=(Gf=Yf({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})).format,Qf=Gf.formatPrefix,Wf=Math.log,Vf=Math.LOG10E;$t({target:"Math",stat:!0},{log10:function(t){return Wf(t)*Vf}});var Xf=Math.log,$f=Math.LN2;$t({target:"Math",stat:!0},{log2:function(t){return Xf(t)/$f}});g=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};$t({target:"Math",stat:!0},{sign:g});var Jf=Math.log,$e=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Jf(1+t)};$t({target:"Math",stat:!0},{log1p:$e});var P=Math.expm1,Kf=Math.exp,h=!P||22025.465794806718<P(10)||P(10)<22025.465794806718||-2e-17!=P(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Kf(t)-1}:P;function td(){var e,i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=el(i,t/e);return a}function a(t){return isNaN(t=+t)?e:n[Hs(r,t)]}return a.invertExtent=function(t){t=n.indexOf(t);return t<0?[NaN,NaN]:[0<t?r[t-1]:i[0],t<r.length?r[t]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(Rs),o()},a.range=function(t){return arguments.length?(n=bc.call(t),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return td().domain(i).range(n).unknown(e)},Nl.apply(a,arguments)}function ed(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nd(){var e,n,r,i,o,a,s,l,c,t=Hf((a=0,l=Wu,c=!(s=1),u.domain=function(t){return arguments.length?(e=i(a=+t[0]),n=i(s=+t[1]),r=e===n?0:1/(n-e),u):[a,s]},u.clamp=function(t){return arguments.length?(c=!!t,u):c},u.interpolator=function(t){return arguments.length?(l=t,u):l},u.unknown=function(t){return arguments.length?(o=t,u):o},function(t){return e=(i=t)(a),n=t(s),r=e===n?0:1/(n-e),u}(Wu)));function u(t){return isNaN(t=+t)?o:l(0===r?.5:(t=(i(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}return t.copy=function(){return ed(t,nd())},Dl.apply(t,arguments)}function rd(){var e,n,r,i,o,a,s,l,c,u,f,d,t=Hf((l=0,c=.5,f=Wu,d=!(u=1),p.domain=function(t){return arguments.length?(e=a(l=+t[0]),n=a(c=+t[1]),r=a(u=+t[2]),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),p):[l,c,u]},p.clamp=function(t){return arguments.length?(d=!!t,p):d},p.interpolator=function(t){return arguments.length?(f=t,p):f},p.unknown=function(t){return arguments.length?(s=t,p):s},function(t){return e=(a=t)(l),n=t(c),r=t(u),i=e===n?0:.5/(n-e),o=n===r?0:.5/(r-n),p}(Wu)));function p(t){return isNaN(t=+t)?s:(t=.5+((t=+a(t))-n)*(t<n?i:o),f(d?Math.max(0,Math.min(1,t)):t))}return t.copy=function(){return ed(t,rd())},Dl.apply(t,arguments)}$t({target:"Math",stat:!0,forced:h!=Math.expm1},{expm1:h});var id,od,ad,sd,ld=Object.freeze({alignment:"start",orientation:"horizontal",text_color:null,title_weight:"bold",text_weight:"normal",text_size:1});function cd(t){for(var e in this._state=t,ld)void 0===this._state[e]&&(this._state[e]=ld[e]);return this}cd.prototype.appendTo=function(t){return this._container=Fs(t).append("div").node(),this},cd.prototype.add=function(t){this._legends=Array.isArray(t)?t:[t];var e=this;return this._legends.forEach(function(t){t&&"function"==typeof t.appendTo?t.appendTo(e._container):console.warn("Please pass in valid legend instances into .add()")}),this},cd.prototype.update=function(){var t=window.template||void 0,e=t?t.state.layout:void 0;od=this._state.text_color||t&&e&&e.font_color||"#333333",ad=e?e.body_font.name:window.getComputedStyle(document.body).fontFamily,id=this._state.text_size,sd=this._state.text_weight,this._legends.forEach(function(t){t&&"function"==typeof t.update&&t.update()});var n="horizontal"===this._state.orientation,t=this._state.alignment,e="center"==t?t:"flex-"+t;return Fs(this._container).style("justify-content",n?e:null).style("align-items",n?null:e).style("display","flex").style("flex-direction",n?"row":"column"),Fs(this._container).selectAll(".fl-legend-container").style("padding-inline-end",function(){return n?"0.5rem":0}).style("padding-bottom",function(){return n?0:"0.25rem"}).style("justify-content",e),Fs(this._container).selectAll(".fl-legend-title").style("color",this._state.text_color).style("font-weight",this._state.title_weight).style("font-size",id+"rem").style("margin-right",.25*id+"rem").style("line-height","1.25em").style("margin-top",0).style("margin-bottom",0).style("text-align",t),Fs(this._container).selectAll(".fl-legend-item").style("display","inline-flex").style("text-align",t),Fs(this._container).selectAll(".fl-legend-label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",id+"rem"),Fs(this._container).selectAll(".label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",id+"rem"),this};var ud,fd=0,dd=window.devicePixelRatio||1,pd=Object.freeze({show_legend:!0,title_mode:"auto",title:"",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,additional_min_label:"",additional_max_label:""});function hd(t){for(var e in this._state=t,pd)void 0===this._state[e]&&(this._state[e]=pd[e]);this._colorFunction=void 0,this._formatFunction=void 0,this._legend_domain=[],this._id="fl-legend-continuous-color-"+fd,this._visible=!0,this._marker_value=null,this._auto_title="",this._container=Fs(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none"),this._container.append("p").classed("fl-legend-title",!0);t=this._container.append("div").classed("min label",!0);t.append("tspan").classed("custom-label",!0),t.append("tspan").classed("number",!0),this._container.append("div").classed("color-range-container",!0),this._container.select(".color-range-container").append("canvas").classed("color-range",!0),this._container.select(".color-range-container").append("canvas").classed("color-range-labels",!0);t=this._container.append("div").classed("max label",!0);return t.append("tspan").classed("number",!0),t.append("tspan").classed("custom-label",!0),fd++,this}function gd(t){var e,n=-1/0,r=1/0;for(e in t)n=Math.max(n,t[e]),r=Math.min(r,t[e]);return function(t){return r<=t&&t<=n}}hd.prototype.appendTo=sl,hd.prototype.format=ll,hd.prototype.getContainer=cl,hd.prototype.visible=ul,hd.prototype.autoTitle=fl,hd.prototype._updateTitle=dl,hd.prototype.data=function(t,e){if(!t&&!e)return this._legend_domain.slice();var n,r,i=Array.isArray(t)?t.slice():[];return this._legend_domain=(n=i,r=this._state,i=(t=n.sort(Rs))[0],n=t[t.length-1],t=2<t.length?t[1]:null,null===r.legend_min&&null===r.legend_max||(null!==r.legend_min&&null!==r.legend_max?r.legend_min<r.legend_max&&(i=r.legend_min,n=r.legend_max):null!==r.legend_min?n<(i=r.legend_min)&&(n=i+2):(n=r.legend_max)<i&&(i=n-2)),r=[i],null!==(t=null!==t&&(t<i||n<t)?null:t)&&r.push(t),r.push(n),r.min=i,r.max=n,r.mid=t,r),this._colorFunction=e,this},hd.prototype.markerValue=function(t){return void 0===t?this._marker_value:(this._marker_value=t,this)},hd.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_domain.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},hd.prototype._updateLegend=function(){var t=this._legend_domain;ud=document.body.getAttribute("dir"),this._scale_type="continuous",this._colorFunction.thresholds?this._scale_type="binned":2<t.length&&(this._scale_type="diverging");var e=this._state,n=jl(e.color_band_width),r=jl(e.color_band_height),i=n;this._container.style("display","inline-flex").style("align-items","center"),this._container.select(".color-range-container").style("display","inline-block");e=this._container.select(".color-range").attr("width",n*dd).attr("height",r*dd).style("border-radius",e.color_band_radius+"px").style("width",n+"px").style("height",r+"px").style("display","block");this._container.select(".color-range-labels").attr("width",i*dd).style("width",i+"px").style("display","continuous"==this._scale_type?"none":"block").node().getContext("2d").scale(dd,dd);var o=e.node().getContext("2d");o.scale(dd,dd);for(var a,s,l=0;l<n;l++){var c=this._colorFunction((a=l,s=void 0,s=t.max-t.min,a/=n,"rtl"==ud?t.max-a*s:t.min+a*s));o.fillStyle=c,o.strokeStyle=c,o.fillRect(l,0,1,r),o.strokeRect(l,0,1,r)}null!==this._marker_value&&(i=Zf().domain([t.min,t.max]).range([0,n])(this.markerValue()),e=r,o.save(),o.strokeStyle="#FFFFFF",o.lineWidth=3,o.beginPath(),o.moveTo(i,0),o.lineTo(i,e),o.stroke(),o.strokeStyle="#000000",o.lineWidth=1,o.beginPath(),o.moveTo(i,0),o.lineTo(i,e),o.stroke(),o.restore()),this._updateLegendLabels()},hd.prototype._updateLegendLabels=function(){var t=this._container.select(".color-range-labels"),c=this._formatFunction,e=this._legend_domain,n=this._state,r=this._container.select(".min.label").style("display","continuous"==this._scale_type?"inline-flex":"none").style("align-items","center").style("vertical-align","middle").style("user-select","none").style("line-height","1.25em").style("padding-inline-start",0).style("padding-inline-end",al);r.select(".number").text(function(){return c?c(e.min):e.min}),r.select(".custom-label").text(function(){return n.additional_min_label+" "}).style("font-weight","bold").style("text-align","center").style("padding-inline-end",al);var i=this._container.select(".max.label").style("display","continuous"==this._scale_type?"inline-flex":"none").style("align-items","center").style("vertical-align","middle").style("user-select","none").style("line-height","1.25em").style("padding-inline-start",al).style("padding-inline-end",0);i.select(".number").text(function(){return c?c(e.max):e.max}),i.select(".custom-label").text(function(){return" "+n.additional_max_label}).style("font-weight","bold").style("text-align","center").style("padding-inline-start",al);var u,o,f,d,p,a,h,s=[],g=0,_=0;"diverging"===this._scale_type?s=this._getDivergingLabels():"binned"===this._scale_type&&(s=this._getBinnedLabels()),s.length&&((u=t.node().getContext("2d")).textAlign="center",u.textBaseline="top",u.font=sd+" "+jl(id)+"px "+ad,f=[],d=jl(n.color_band_width),p=gd([0,d]),a="rtl"==ud?[e.max,e.min]:[e.min,e.max],h=Zf().domain(a).range([0,d]),o=function(t){var e=h(t);if(p(e)){for(var n=c?c(t):t,r=u.measureText(n).width/2+1,i=e-r,o=e+r,a=0,s=f.length,l=0;l<s&&e>f[l].center;l++)a++;t=0===a,r=a===s;if(!(!t&&f[a-1].right>i||!r&&f[a].left<o))return t&&(g=Math.abs(Math.min(0,i))),r&&(_=Math.max(0,o-d)),f.splice(a,0,{left:i,center:e,right:o}),{text:n,position:e}}},r=s.map(function(t){return o(t)}),i=jl(n.color_band_width)+g+_,a=Math.ceil(.95*jl(id)),s=window.devicePixelRatio||1,t.attr("width",i*s).style("width",i+"px").attr("height",a*s).style("height",a+"px").style("margin-top",al),Fs(".color-range").style("margin-left",g+"px"),u.scale(s,s),u.textAlign="center",u.textBaseline="top",u.font=sd+" "+jl(id)+"px "+ad,u.fillStyle=od,r.forEach(function(t){t&&u.fillText(t.text,t.position+g,0)}))},hd.prototype._getDivergingLabels=function(){var t=this._legend_domain,e=gd(t),n=[];return e(t.min)&&n.push(t.min),e(t.mid)&&n.push(t.mid),e(t.max)&&n.push(t.max),n},hd.prototype._getBinnedLabels=function(){var t,e,n=this._state,r=this._legend_domain,i=gd(r);return"thresholds"===n.binned_label_mode?(e=this._colorFunction.thresholds.slice().filter(i),r.min<e[0]&&e.unshift(r.min),r.max>e[e.length-r.length-1]&&e.unshift(r.max)):"centers"===n.binned_label_mode?(e=this._colorFunction.centers.slice().filter(i)).length?(i=(t=this._colorFunction.thresholds)[0],t=t[t.length-1],i>r.min&&e.unshift((r.min+i)/2),t<r.max&&e.unshift((t+r.max)/2)):e.push((r.min+r.max)/2):e=n.binned_label_custom.split(";").map(parseFloat),e},Object.freeze({show_legend:!0,title_mode:"auto",title:"",clip_height:1,small_circle_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555"});var _d=Math.ceil,md=Math.floor;$t({target:"Math",stat:!0},{trunc:function(t){return(0<t?md:_d)(t)}});var yd=l("isConcatSpreadable"),vd=9007199254740991,bd="Maximum allowed index exceeded",xd=D.TypeError,En=51<=U||!_(function(){var t=[];return t[yd]=!1,t.concat()[0]!==t}),On=Y("concat");$t({target:"Array",proto:!0,forced:!En||!On},{concat:function(t){for(var e,n,r,i=w(this),o=ln(i,0),a=0,s=-1,l=arguments.length;s<l;s++)if(function(t){if(!L(t))return!1;var e=t[yd];return void 0!==e?!!e:pn(t)}(r=-1===s?i:arguments[s])){if(n=Wt(r),vd<a+n)throw xd(bd);for(e=0;e<n;e++,a++)e in r&&Da(o,a,r[e])}else{if(vd<=a)throw xd(bd);Da(o,a++,r)}return o.length=a,o}});var wd=new Date,Md=new Date;function kd(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return kd(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return wd.setTime(+t),Md.setTime(+e),o(wd),o(Md),Math.floor(n(wd,Md))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var jd=kd(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function Ad(e){return kd(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Td=Ad(0),zd=Ad(1);Ad(2),Ad(3);var Nd=Ad(4);Ad(5),Ad(6);tt=kd(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});tt.every=function(n){return isFinite(n=Math.floor(n))&&0<n?kd(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Dd=tt,Id=kd(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Sd(e){return kd(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Ed=Sd(0),Ld=Sd(1);Sd(2),Sd(3);var Cd=Sd(4);Sd(5),Sd(6);ee=kd(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});ee.every=function(n){return isFinite(n=Math.floor(n))&&0<n?kd(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Od=ee;function Pd(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fd(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Rd(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Qd(e),u=Wd(e),f=Qd(n),d=Wd(n),p=Qd(a),h=Wd(a),g=Qd(s),_=Wd(s),m=Qd(l),y=Wd(l),v={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:gp,e:gp,f:bp,g:Ip,G:Ep,H:_p,I:mp,j:yp,L:vp,m:xp,M:wp,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:nh,s:rh,S:Mp,u:kp,U:jp,V:Tp,w:zp,W:Np,x:null,X:null,y:Dp,Y:Sp,Z:Lp,"%":eh},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Cp,e:Cp,f:Rp,g:$p,G:Kp,H:Op,I:Pp,j:Fp,L:Yp,m:Up,M:Bp,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:nh,s:rh,S:Hp,u:Zp,U:Gp,V:Qp,w:Wp,W:Vp,x:null,X:null,y:Xp,Y:Jp,Z:th,"%":eh},x={a:function(t,e,n){e=p.exec(e.slice(n));return e?(t.w=h[e[0].toLowerCase()],n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=d[e[0].toLowerCase()],n+e[0].length):-1},b:function(t,e,n){e=m.exec(e.slice(n));return e?(t.m=y[e[0].toLowerCase()],n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=_[e[0].toLowerCase()],n+e[0].length):-1},c:function(t,e,n){return k(t,r,e,n)},d:op,e:op,f:fp,g:ep,G:tp,H:sp,I:sp,j:ap,L:up,m:ip,M:lp,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=u[e[0].toLowerCase()],n+e[0].length):-1},q:rp,Q:pp,s:hp,S:cp,u:Xd,U:$d,V:Jd,w:Vd,W:Kd,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,o,e,n)},y:ep,Y:tp,Z:np,"%":dp};function w(l,c){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=Ud[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function M(i,o){return function(t){var e,n,r=Yd(1900,void 0,1);if(k(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=Fd(Yd(r.y,0,1))).getUTCDay())||0===n?Ld.ceil(e):Ld(e),e=Id.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=Pd(Yd(r.y,0,1))).getDay())||0===n?zd.ceil(e):zd(e),e=jd.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?Fd(Yd(r.y,0,1)).getUTCDay():Pd(Yd(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Fd(r)):Pd(r)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in Ud?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(i,v),v.X=w(o,v),v.c=w(r,v),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}var Ud={"-":"",_:" ",0:"0"},Bd=/^\s*\d+/,Hd=/^%/,Zd=/[\\^$*+?|[\]().{}]/g;function Gd(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function qd(t){return t.replace(Zd,"\\$&")}function Qd(t){return new RegExp("^(?:"+t.map(qd).join("|")+")","i")}function Wd(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Vd(t,e,n){e=Bd.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function Xd(t,e,n){e=Bd.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function $d(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function Jd(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function Kd(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function tp(t,e,n){e=Bd.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function ep(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function np(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function rp(t,e,n){e=Bd.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function ip(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function op(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function ap(t,e,n){e=Bd.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function sp(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function lp(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function cp(t,e,n){e=Bd.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function up(t,e,n){e=Bd.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function fp(t,e,n){e=Bd.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function dp(t,e,n){e=Hd.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function pp(t,e,n){e=Bd.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function hp(t,e,n){e=Bd.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function gp(t,e){return Gd(t.getDate(),e,2)}function _p(t,e){return Gd(t.getHours(),e,2)}function mp(t,e){return Gd(t.getHours()%12||12,e,2)}function yp(t,e){return Gd(1+jd.count(Dd(t),t),e,3)}function vp(t,e){return Gd(t.getMilliseconds(),e,3)}function bp(t,e){return vp(t,e)+"000"}function xp(t,e){return Gd(t.getMonth()+1,e,2)}function wp(t,e){return Gd(t.getMinutes(),e,2)}function Mp(t,e){return Gd(t.getSeconds(),e,2)}function kp(t){t=t.getDay();return 0===t?7:t}function jp(t,e){return Gd(Td.count(Dd(t)-1,t),e,2)}function Ap(t){var e=t.getDay();return 4<=e||0===e?Nd(t):Nd.ceil(t)}function Tp(t,e){return t=Ap(t),Gd(Nd.count(Dd(t),t)+(4===Dd(t).getDay()),e,2)}function zp(t){return t.getDay()}function Np(t,e){return Gd(zd.count(Dd(t)-1,t),e,2)}function Dp(t,e){return Gd(t.getFullYear()%100,e,2)}function Ip(t,e){return Gd((t=Ap(t)).getFullYear()%100,e,2)}function Sp(t,e){return Gd(t.getFullYear()%1e4,e,4)}function Ep(t,e){var n=t.getDay();return Gd((t=4<=n||0===n?Nd(t):Nd.ceil(t)).getFullYear()%1e4,e,4)}function Lp(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Gd(t/60|0,"0",2)+Gd(t%60,"0",2)}function Cp(t,e){return Gd(t.getUTCDate(),e,2)}function Op(t,e){return Gd(t.getUTCHours(),e,2)}function Pp(t,e){return Gd(t.getUTCHours()%12||12,e,2)}function Fp(t,e){return Gd(1+Id.count(Od(t),t),e,3)}function Yp(t,e){return Gd(t.getUTCMilliseconds(),e,3)}function Rp(t,e){return Yp(t,e)+"000"}function Up(t,e){return Gd(t.getUTCMonth()+1,e,2)}function Bp(t,e){return Gd(t.getUTCMinutes(),e,2)}function Hp(t,e){return Gd(t.getUTCSeconds(),e,2)}function Zp(t){t=t.getUTCDay();return 0===t?7:t}function Gp(t,e){return Gd(Ed.count(Od(t)-1,t),e,2)}function qp(t){var e=t.getUTCDay();return 4<=e||0===e?Cd(t):Cd.ceil(t)}function Qp(t,e){return t=qp(t),Gd(Cd.count(Od(t),t)+(4===Od(t).getUTCDay()),e,2)}function Wp(t){return t.getUTCDay()}function Vp(t,e){return Gd(Ld.count(Od(t)-1,t),e,2)}function Xp(t,e){return Gd(t.getUTCFullYear()%100,e,2)}function $p(t,e){return Gd((t=qp(t)).getUTCFullYear()%100,e,2)}function Jp(t,e){return Gd(t.getUTCFullYear()%1e4,e,4)}function Kp(t,e){var n=t.getUTCDay();return Gd((t=4<=n||0===n?Cd(t):Cd.ceil(t)).getUTCFullYear()%1e4,e,4)}function th(){return"+0000"}function eh(){return"%"}function nh(t){return+t}function rh(t){return Math.floor(+t/1e3)}function ih(t){throw new TypeError("Expected a value of type string but got a value of type "+Zs(t))}function oh(e){return function(t){return"string"!=typeof t&&ih(t),(t=t.trim())?e(t):null}}var ah,sh=(ah=Rd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,lh=ah.parse,ch=new Date(1972,3,27,19,45,5),uh={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function fh(t){return function(e){var n=null;return t.forEach(function(t){e.match(t.regex)&&(n=t.toDate(e))}),n}}function dh(e,n){var r=lh(e),i=sh(e),t=oh("function"==typeof n?function(t){return n(t,null!==r(t))}:function(t){return null!==r(t)});return Object.freeze({test:t,parse:oh(function(t){return r(t)||(uh[e]?fh(uh[e])(t):null)}),format:function(t){return i(t)},type:"datetime",description:e,id:"datetime$"+e,example:i(ch)})}mu=Object.freeze([dh("%Y-%m-%dT%H:%M:%S.%LZ"),dh("%d/%m/%Y",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 0<t[0]&&t[0]<=31&&0<t[1]&&t[1]<=12&&1e3<=t[2]}),dh("%d/%m/%y",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 0<t[0]&&t[0]<=31&&0<t[1]&&t[1]<=12&&!isNaN(t[2])}),dh("%m/%d/%Y",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 0<t[0]&&t[0]<=12&&0<t[1]&&t[1]<=31&&1e3<=t[2]}),dh("%m/%d/%y",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 0<t[0]&&t[0]<=12&&0<t[1]&&t[1]<=31&&!isNaN(t[2])}),dh("%Y/%m/%d",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 1e3<=t[0]&&0<t[1]&&t[1]<=12&&0<t[2]&&t[2]<=31}),dh("%d-%m-%Y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=31&&0<t[1]&&t[1]<=12&&1e3<=t[2]}),dh("%d-%m-%y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=31&&0<t[1]&&t[1]<=12&&!isNaN(t[2])}),dh("%m-%d-%Y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=12&&0<t[1]&&t[1]<=31&&1e3<=t[2]}),dh("%m-%d-%y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=12&&0<t[1]&&t[1]<=31&&!isNaN(t[2])}),dh("%Y-%m-%d",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 1e3<=t[0]&&0<t[1]&&t[1]<=12&&0<t[2]&&t[2]<=31}),dh("%d %b %Y",function(t,e){if(!e)return!1;t=t.split(" ").map(parseFloat);return 0<t[0]&&t[0]<=31&&1e3<=t[2]}),dh("%d %B %Y",function(t,e){if(!e)return!1;t=t.split(" ").map(parseFloat);return 0<t[0]&&t[0]<=31&&1e3<=t[2]}),dh("%d %b %y"),dh("%d %B %y"),dh("%d-%b-%Y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=31&&1e3<=t[2]}),dh("%d-%B-%Y",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=31&&1e3<=t[2]}),dh("%d-%b-%y"),dh("%d-%B-%y"),dh("%m/%Y",function(t,e){if(!e)return!1;t=t.split("/").map(parseFloat);return 0<t[0]&&t[0]<=12&&1e3<=t[1]}),dh("%m/%y"),dh("%b %Y",function(t,e){return!!e&&1e3<=t.split(" ").map(parseFloat)[1]}),dh("%B %Y",function(t,e){return!!e&&1e3<=t.split(" ").map(parseFloat)[1]}),dh("%b %y"),dh("%B %y"),dh("%d %b",function(t,e){return!!e||!!fh(uh["%d %b"])(t)}),dh("%d %B"),dh("%b %d",function(t,e){return!!e||!!fh(uh["%b %d"])(t)}),dh("%B %d"),dh("%d-%m",function(t,e){if(!e)return!1;t=t.split("-").map(parseFloat);return 0<t[0]&&t[0]<=31&&0<t[1]&&t[1]<=12}),dh("%m-%d"),dh("%d/%m"),dh("%m/%d"),dh("%Y",function(t,e){if(!e)return!1;t=parseFloat(t);return 1499<t&&t<2200}),dh("%B"),dh("%b"),dh("%X"),dh("%I:%M %p"),dh("%H:%M"),dh("%H:%M:%S"),dh("%-I%p"),dh("Q%q %Y",function(t,e){return!!e&&6===t.replace(/\s/g,"").length}),dh("%Y Q%q",function(t,e){return!!e&&6===t.replace(/\s/g,"").length})]);we={test:oh(function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t.replace(/,/g,""))}),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Yt={test:oh(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t.replace(/\s/g,""))}),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},Rt={test:oh(function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t)}),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},qt={test:oh(function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))}),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},fe={test:oh(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))}),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Kt={test:oh(function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:oh(function(t){return parseFloat(t.replace(/,/,"."))}),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},te=Object.freeze([we,Yt,qt,fe,Rt,Kt]);te.forEach(function(t){var n,r,i;t.type="number",t.format=(i=Yf({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]}),function(t,e){return(e=e||",.2f")!==r&&(r=e,n=i.format(r)),n(t)}),Object.freeze(t)});var ph,hh=Object.freeze({test:function(t){return"string"==typeof t||ih(t)},parse:function(t){return"string"==typeof t?t:ih(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),gh=Object.freeze({datetime:mu,number:te}),_h=Object.freeze(["datetime","number","string"]),mh=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),yh=Object.freeze(Object.keys(mh));function vh(t,e){return t.index-e.index}function bh(t,e){return e.n_success-t.n_success||vh(t,e)}function xh(t){return(""+t).trim()}function wh(n){return void 0===n?xh:"function"==typeof n?function(t,e){return xh(n(t,e))}:function(t){return xh(t[""+n])}}function Mh(t){t?Array.isArray(t)||(t=[t]):t=_h;function n(t,e){e=wh(e);var c=t.map(e).filter(function(t){return t});if(!c.length)return i?[hh]:[];var u=Math.min(o.n_max,c.length),f=Math.floor(u*o.failure_fraction),d=o.n_failing_values,e=o.sort?bh:vh,e=r.slice().reduce(function(t,e,n){for(var r=a=0,i=[],o=!1,a=0;a<u;a++){var s=c[a],l=e.test(s);if(!l&&(++r>f?o=!0:-1===i.indexOf(s)&&(i.push(s),i.length>d&&(o=!0)),o))break}return o||t.push({interp:e,n_success:u-r,index:n}),t},[]).sort(e).map(function(t){return t.interp});return i&&e.push(hh),e}var r=t.reduce(function(t,e){e=gh[e];return e&&Array.prototype.push.apply(t,e),t},[]),i=-1!==t.indexOf("string"),o=yh.reduce(function(t,e){return t[e]=mh[e],t},{});return yh.forEach(function(e){n[e.replace(/_(\w)/g,function(t,e){return e.toUpperCase()})]=function(t){return void 0===t?o[e]:(o[e]=t,n)}}),n}Mh.DATETIME_IDS=Object.freeze(mu.map(function(t){return t.id})),Mh.NUMBER_IDS=Object.freeze(te.map(function(t){return t.id})),Mh.STRING_IDS=Object.freeze([hh.id]),Mh.getInterpretation=(ph=mu.concat(te,hh).reduce(function(t,e){return t[e.id]=e,t},{}),function(t){return ph[t]}),Mh._createAccessorFunction=wh;var kh=Mh.getInterpretation,jh=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function Ah(r,t){var e=kh(t);if(!e)throw new Error("format_id ".concat(t," not recognised"));if("number"!==e.type)throw new Error("format_id ".concat(t,"not a number format"));var n,i=e.format,t=e.decimal_mark,o=e.thousand_separator,a=Math.trunc(r.n_dec),s=(o?",":"")+"."+a+"f",l=r.strip_zeros&&0<a?new RegExp("\\"+t+"?0+$"):null,c=r.strip_separator&&o,u=r.negative_sign,f=(n=1,(t=r).transform_labels&&(n="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*n});return function(t){var e=0<=a?f(t):function(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}(f(t),a),n=e<0,t=Math.abs(e),e=c&&o&&1e3<=t&&t<1e4,t=i(t,s);return l&&(t=t.replace(l,"")),e&&(t=t.replace(o,"")),n&&"none"!==u?"-$nk"===u?"-"+r.prefix+t+r.suffix:"$-nk"===u?r.prefix+"-"+t+r.suffix:"($nk)"===u?"("+r.prefix+t+r.suffix+")":r.prefix+"("+t+")"+r.suffix:r.prefix+t+r.suffix}}function Th(e){for(var t in jh)void 0===e[t]&&(e[t]=jh[t]);return function(t){return Ah(e,t)}}function zh(t){var e=Mh.getInterpretation(t);if(!e)throw new Error("format_id ".concat(t," not recognised"));return function(){return e.format.apply(e,arguments)}}function Nh(e,n){return Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])}),e}var Dh=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),Ih=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_position:"side",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),Sh=Object.freeze(Nh({axis_visible:!1},Ih)),Eh=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function Lh(t){var e=function(t,e,n){t[e]||(t[e]={}),Nh(t[e],n)}.bind(null,t=t||{});return e("x",Dh),e("y",Ih),e("y2",Sh),e("background",Eh),t}var Ch="http://www.w3.org/1999/xhtml",Oh={svg:"http://www.w3.org/2000/svg",xhtml:Ch,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ph(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Oh.hasOwnProperty(e)?{space:Oh[e],local:t}:t}function Fh(t){t=Ph(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Ch&&t.documentElement.namespaceURI===Ch?t.createElement(n):t.createElementNS(e,n)}})(t)}function Yh(t){var e=Rh.Symbol||(Rh.Symbol={});ot(e,t)||Bh(e,t,{value:Uh.f(t)})}var Rh=D,Uh={f:l},Bh=Tt.f;Yh("iterator");var Hh=Ue.charAt,Zh="String Iterator",Gh=Jt.set,qh=Jt.getterFor(Zh);Ul(String,"String",function(t){Gh(this,{type:Zh,string:We(t),index:0})},function(){var t=qh(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(n=Hh(e,n),t.index+=n.length,{value:n,done:!1})});function Qh(t,e){var n=f0[t]=_r(r0);return Kh(n,{type:Jh,tag:t,description:e}),I||(n.description=e),n}function Wh(e,t){kt(e);var n=z(t),t=Ne(n).concat(v0(n));return Xh(t,function(t){I&&!S(y0,n,t)||m0(e,t,n[t])}),e}var Vh,Xh=kn.forEach,$h=Bt("hidden"),Jh="Symbol",tn="prototype",Be=l("toPrimitive"),Kh=Jt.set,t0=Jt.getterFor(Jh),e0=Object[tn],n0=D.Symbol,r0=n0&&n0[tn],i0=D.TypeError,Pe=D.QObject,o0=r("JSON","stringify"),a0=xt.f,s0=Tt.f,l0=Xn.f,c0=p.f,u0=v([].push),f0=nt("symbols"),d0=nt("op-symbols"),p0=nt("string-to-symbol-registry"),h0=nt("symbol-to-string-registry"),s=nt("wks"),g0=!Pe||!Pe[tn]||!Pe[tn].findChild,_0=I&&_(function(){return 7!=_r(s0({},"a",{get:function(){return s0(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=a0(e0,e);r&&delete e0[e],s0(t,e,n),r&&t!==e0&&s0(e0,e,r)}:s0,m0=function(t,e,n){t===e0&&m0(d0,e,n),kt(t);e=d(e);return kt(n),ot(f0,e)?(n.enumerable?(ot(t,$h)&&t[$h][e]&&(t[$h][e]=!1),n=_r(n,{enumerable:E(0,!1)})):(ot(t,$h)||s0(t,$h,E(1,{})),t[$h][e]=!0),_0(t,e,n)):s0(t,e,n)},y0=function(t){var e=d(t),t=S(c0,this,e);return!(this===e0&&ot(f0,e)&&!ot(d0,e))&&(!(t||!ot(this,e)||!ot(f0,e)||ot(this,$h)&&this[$h][e])||t)},g=function(t,e){var n=z(t),t=d(e);if(n!==e0||!ot(f0,t)||ot(d0,t)){e=a0(n,t);return!e||!ot(f0,t)||ot(n,$h)&&n[$h][t]||(e.enumerable=!0),e}},$e=function(t){var t=l0(z(t)),e=[];return Xh(t,function(t){ot(f0,t)||ot(Ht,t)||u0(e,t)}),e},v0=function(t){var e=t===e0,t=l0(e?d0:z(t)),n=[];return Xh(t,function(t){!ot(f0,t)||e&&!ot(e0,t)||u0(n,f0[t])}),n};B||(r0=(n0=function(){if(C(r0,this))throw i0("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?We(arguments[0]):void 0,e=o(t),n=function(t){this===e0&&S(n,d0,t),ot(this,$h)&&ot(this[$h],e)&&(this[$h][e]=!1),_0(this,e,E(1,t))};return I&&g0&&_0(e0,e,{configurable:!0,set:n}),Qh(e,t)})[tn],re(r0,"toString",function(){return t0(this).tag}),re(n0,"withoutSetter",function(t){return Qh(o(t),t)}),p.f=y0,Tt.f=m0,xt.f=g,me.f=Xn.f=$e,ye.f=v0,Uh.f=function(t){return Qh(l(t),t)},I&&(s0(r0,"description",{configurable:!0,get:function(){return t0(this).description}}),re(e0,"propertyIsEnumerable",y0,{unsafe:!0}))),$t({global:!0,wrap:!0,forced:!B,sham:!B},{Symbol:n0}),Xh(Ne(s),function(t){Yh(t)}),$t({target:Jh,stat:!0,forced:!B},{for:function(t){var e=We(t);if(ot(p0,e))return p0[e];t=n0(e);return p0[e]=t,h0[t]=e,t},keyFor:function(t){if(!G(t))throw i0(t+" is not a symbol");if(ot(h0,t))return h0[t]},useSetter:function(){g0=!0},useSimple:function(){g0=!1}}),$t({target:"Object",stat:!0,forced:!B,sham:!I},{create:function(t,e){return void 0===e?_r(t):Wh(_r(t),e)},defineProperty:m0,defineProperties:Wh,getOwnPropertyDescriptor:g}),$t({target:"Object",stat:!0,forced:!B},{getOwnPropertyNames:$e,getOwnPropertySymbols:v0}),$t({target:"Object",stat:!0,forced:_(function(){ye.f(1)})},{getOwnPropertySymbols:function(t){return ye.f(w(t))}}),o0&&(S_=!B||_(function(){var t=n0();return"[null]"!=o0([t])||"{}"!=o0({a:t})||"{}"!=o0(Object(t))}),$t({target:"JSON",stat:!0,forced:S_},{stringify:function(t,e,n){var r=Dn(arguments),i=e;if((L(e)||void 0!==t)&&!G(t))return pn(e)||(e=function(t,e){if(N(i)&&(e=S(i,this,t,e)),!G(e))return e}),r[1]=e,Ra(o0,null,r)}})),r0[Be]||(Vh=r0.valueOf,re(r0,Be,function(t){return S(Vh,this)})),Zl(n0,Jh),Ht[$h]=!0;var b0,x0,w0,M0,k0,j0,A0,P=Tt.f,T0=D.Symbol,z0=T0&&T0.prototype;function N0(){}function D0(t){return null==t?N0:function(){return this.querySelector(t)}}!I||!N(T0)||"description"in z0&&void 0===T0().description||(b0={},Xt(sy=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:We(arguments[0]),e=C(z0,this)?new T0(t):void 0===t?T0():T0(t);return""===t&&(b0[e]=!0),e},T0),(sy.prototype=z0).constructor=sy,x0="Symbol(test)"==String(T0("test")),w0=v(z0.toString),M0=v(z0.valueOf),k0=/^Symbol\((.*)\)[^)]+$/,j0=v("".replace),A0=v("".slice),P(z0,"description",{configurable:!0,get:function(){var t=M0(this),e=w0(t);if(ot(b0,t))return"";e=x0?A0(e,7,-1):j0(e,k0,"$1");return""===e?void 0:e}}),$t({global:!0,forced:!0},{Symbol:sy}));function I0(t){return void 0!==t&&(Ll.Array===t||C0[L0]===t)}function S0(t,e){if(e=arguments.length<2?P0(t):e,V(e))return kt(S(e,t));throw F0(Q(t)+" is not iterable")}var E0=function(t,e,n){var r,i;kt(t);try{if(!(r=X(t,"return"))){if("throw"===e)throw n;return n}r=S(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return kt(r),n},L0=l("iterator"),C0=Array.prototype,O0=l("iterator"),P0=function(t){if(null!=t)return X(t,O0)||X(t,"@@iterator")||Ll[qe(t)]},F0=D.TypeError,Y0=D.Array,R0=l("iterator"),U0=!1;try{var B0=0,H0={next:function(){return{done:!!B0++}},return:function(){U0=!0}};H0[R0]=function(){return this},Array.from(H0,function(){throw 2})}catch(t){}function Z0(t,e){if(!e&&!U0)return!1;var n=!1;try{var r={};r[R0]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}h=!Z0(function(t){Array.from(t)});function G0(t){return"object"===Zs(t)&&"length"in t?t:Array.from(t)}function q0(){return[]}function Q0(t){return null==t?q0:function(){return this.querySelectorAll(t)}}$t({target:"Array",stat:!0,forced:h},{from:function(t){var e=w(t),n=vn(this),t=arguments.length,r=1<t?arguments[1]:void 0,i=void 0!==r;i&&(r=on(r,2<t?arguments[2]:void 0));var o,a,s,l,c,u,t=P0(e),f=0;if(!t||this==Y0&&I0(t))for(o=Wt(e),a=n?new this(o):Y0(o);f<o;f++)u=i?r(e[f],f):e[f],Da(a,f,u);else for(c=(l=S0(e,t)).next,a=n?new this:[];!(s=S(c,l)).done;f++)u=i?function(e,t,n,r){try{return r?t(kt(n)[0],n[1]):t(n)}catch(t){E0(e,"throw",t)}}(l,r,[s.value,f],!0):s.value,Da(a,f,u);return a.length=f,a}});var W0=kn.find,Y="find",V0=!0;function X0(t){return function(){return this.matches(t)}}function $0(e){return function(t){return t.matches(e)}}Y in[]&&Array(1)[Y](function(){V0=!1}),$t({target:"Array",proto:!0,forced:V0},{find:function(t){return W0(this,t,1<arguments.length?arguments[1]:void 0)}}),Ee(Y);var J0=Array.prototype.find;function K0(){return this.firstElementChild}var tg=Array.prototype.filter;function eg(){return this.children}function ng(t,e){this.stopped=t,this.result=e}function rg(t,e,n){function r(t){return o&&E0(o,"normal",t),new ng(!0,t)}function i(t){return d?(kt(t),h?g(t[0],t[1],r):g(t[0],t[1])):h?g(t,r):g(t)}var o,a,s,l,c,u,f=n&&n.that,d=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),h=!(!n||!n.INTERRUPTED),g=on(e,f);if(p)o=t;else{if(!(p=P0(t)))throw ig(Q(t)+" is not iterable");if(I0(p)){for(a=0,s=Wt(t);a<s;a++)if((l=i(t[a]))&&C(og,l))return l;return new ng(!1)}o=S0(t,p)}for(c=o.next;!(u=S(c,o)).done;){try{l=i(u.value)}catch(t){E0(o,"throw",t)}if("object"==typeof l&&l&&C(og,l))return l}return new ng(!1)}var ig=D.TypeError,og=ng.prototype,En=function(t,e,n){function r(t){var n=v(p[t]);re(p,t,"add"==t?function(t){return n(this,0===t?0:t),this}:"delete"==t?function(t){return!(u&&!L(t))&&n(this,0===t?0:t)}:"get"==t?function(t){return u&&!L(t)?void 0:n(this,0===t?0:t)}:"has"==t?function(t){return!(u&&!L(t))&&n(this,0===t?0:t)}:function(t,e){return n(this,0===t?0:t,e),this})}var i,o,a,s,l,c=-1!==t.indexOf("Map"),u=-1!==t.indexOf("Weak"),f=c?"set":"add",d=D[t],p=d&&d.prototype,h=d,g={};return Te(t,!N(d)||!(u||p.forEach&&!_(function(){(new d).entries().next()})))?(h=n.getConstructor(e,t,c,f),tr.enable()):Te(t,!0)&&(o=(i=new h)[f](u?{}:-0,1)!=i,a=_(function(){i.has(1)}),s=Z0(function(t){new d(t)}),l=!u&&_(function(){for(var t=new d,e=5;e--;)t[f](e,e);return!t.has(-0)}),s||(((h=e(function(t,e){Dc(t,p);t=Vr(new d,t,h);return null!=e&&rg(e,t[f],{that:t,AS_ENTRIES:c}),t})).prototype=p).constructor=h),(a||l)&&(r("delete"),r("has"),c&&r("get")),(l||o)&&r(f),u&&p.clear&&delete p.clear),g[t]=h,$t({global:!0,forced:h!=d},g),Zl(h,t),u||n.setStrong(h,t,c),h},ag=Tt.f,sg=tr.fastKey,lg=Jt.set,cg=Jt.getterFor,On={getConstructor:function(t,n,r,i){function o(t,e,n){var r,i=l(t),o=a(t,e);return o?o.value=n:(i.last=o={index:r=sg(e,!0),key:e,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),I?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}function a(t,e){var n,r=l(t);if("F"!==(t=sg(e)))return r.index[t];for(n=r.first;n;n=n.next)if(n.key==e)return n}var t=t(function(t,e){Dc(t,s),lg(t,{type:n,index:_r(null),first:void 0,last:void 0,size:0}),I||(t.size=0),null!=e&&rg(e,t[i],{that:t,AS_ENTRIES:r})}),s=t.prototype,l=cg(n);return Nc(s,{clear:function(){for(var t=l(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,I?t.size=0:this.size=0},delete:function(t){var e,n=l(this),r=a(this,t);return r&&(e=r.next,t=r.previous,delete n.index[r.index],r.removed=!0,t&&(t.next=e),e&&(e.previous=t),n.first==r&&(n.first=e),n.last==r&&(n.last=t),I?n.size--:this.size--),!!r},forEach:function(t){for(var e,n=l(this),r=on(t,1<arguments.length?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),Nc(s,r?{get:function(t){t=a(this,t);return t&&t.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),I&&ag(s,"size",{get:function(){return l(this).size}}),t},setStrong:function(t,e,n){var r=e+" Iterator",i=cg(e),o=cg(r);Ul(t,e,function(t,e){lg(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Gr(e)}};function ug(t){return new Array(t.length)}function fg(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function dg(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new fg(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function pg(t,e,n,r,i,o,a){for(var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),p=0;p<u;++p)(s=e[p])&&(d[p]=l=a.call(s,s.__data__,p,e)+"",c.has(l)?i[p]=s:c.set(l,s));for(p=0;p<f;++p)l=a.call(t,o[p],p,o)+"",(s=c.get(l))?((r[p]=s).__data__=o[p],c.delete(l)):n[p]=new fg(t,o[p]);for(p=0;p<u;++p)(s=e[p])&&c.get(d[p])===s&&(i[p]=s)}function hg(t){return t.__data__}function gg(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function _g(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function mg(t,e){return t.style.getPropertyValue(e)||_g(t).getComputedStyle(t,null).getPropertyValue(e)}function yg(t){return t.trim().split(/^|\s+/)}function vg(t){return t.classList||new bg(t)}function bg(t){this._node=t,this._names=yg(t.getAttribute("class")||"")}function xg(t,e){for(var n=vg(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function wg(t,e){for(var n=vg(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Mg(){this.textContent=""}function kg(){this.innerHTML=""}function jg(){this.nextSibling&&this.parentNode.appendChild(this)}function Ag(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tg(){return null}function zg(){var t=this.parentNode;t&&t.removeChild(this)}function Ng(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Dg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ig(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function Sg(a,s,l){return function(){var t,e,n=this.__on,r=(e=s,function(t){e.call(this,t,this.__data__)});if(n)for(var i=0,o=n.length;i<o;++i)if((t=n[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=l),void(t.value=s);this.addEventListener(a.type,r,l),t={type:a.type,name:a.name,value:s,listener:r,options:l},n?n.push(t):this.__on=[t]}}function Eg(t,e,n){var r=_g(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}En("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},On),fg.prototype={constructor:fg,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},bg.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}},Yh("asyncIterator"),Yh("toStringTag"),Zl(D.JSON,"JSON",!0),Zl(Math,"Math",!0);tt=_(function(){Fl(1)});$t({target:"Object",stat:!0,forced:tt,sham:!Re},{getPrototypeOf:function(t){return Fl(w(t))}});var Lg,Cg,ee=D.Promise,we=/(?:ipad|iphone|ipod).*applewebkit/i.test(O),Og="process"==M(D.process),Yt=D.setImmediate,qt=D.clearImmediate,Pg=D.process,Fg=D.Dispatch,Yg=D.Function,fe=D.MessageChannel,Rg=D.String,Ug=0,Bg={},Hg="onreadystatechange";try{Lg=D.location}catch(t){}function Zg(t){return function(){Gg(t)}}var Gg=function(t){var e;ot(Bg,t)&&(e=Bg[t],delete Bg[t],e())},Rt=function(t){Gg(t.data)},Kt=function(t){D.postMessage(Rg(t),Lg.protocol+"//"+Lg.host)};Yt&&qt||(Yt=function(t){var e=Dn(arguments,1);return Bg[++Ug]=function(){Ra(N(t)?t:Yg(t),void 0,e)},Cg(Ug),Ug},qt=function(t){delete Bg[t]},Og?Cg=function(t){Pg.nextTick(Zg(t))}:Fg&&Fg.now?Cg=function(t){Fg.now(Zg(t))}:fe&&!we?(Ty=(My=new fe).port2,My.port1.onmessage=Rt,Cg=on(Ty.postMessage,Ty)):D.addEventListener&&N(D.postMessage)&&!D.importScripts&&Lg&&"file:"!==Lg.protocol&&!_(Kt)?(Cg=Kt,D.addEventListener("message",Rt,!1)):Cg=Hg in yt("script")?function(t){ur.appendChild(yt("script"))[Hg]=function(){ur.removeChild(this),Gg(t)}}:function(t){setTimeout(Zg(t),0)});var qg,Qg,Wg,Vg,Xg,$g,Jg,mu={set:Yt,clear:qt},te=/ipad|iphone|ipod/i.test(O)&&void 0!==D.Pebble,Ue=/web0s(?!.*chrome)/i.test(O),Bt=xt.f,Kg=mu.set,nt=D.MutationObserver||D.WebKitMutationObserver,Pe=D.document,t_=D.process,tn=D.Promise,s=Bt(D,"queueMicrotask"),g=s&&s.value;g||(qg=function(){var t,e;for(Og&&(t=t_.domain)&&t.exit();Qg;){e=Qg.fn,Qg=Qg.next;try{e()}catch(t){throw Qg?Vg():Wg=void 0,t}}Wg=void 0,t&&t.enter()},Vg=we||Og||Ue||!nt||!Pe?!te&&tn&&tn.resolve?((w1=tn.resolve(void 0)).constructor=tn,Jg=on(w1.then,w1),function(){Jg(qg)}):Og?function(){t_.nextTick(qg)}:(Kg=on(Kg,D),function(){Kg(qg)}):(Xg=!0,$g=Pe.createTextNode(""),new nt(qg).observe($g,{characterData:!0}),function(){$g.data=Xg=!Xg}));function e_(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=V(n),this.reject=V(r)}var n_,r_,i_,o_,a_=g||function(t){t={fn:t,next:void 0};Wg&&(Wg.next=t),Qg||(Qg=t,Vg()),Wg=t},s_={f:function(t){return new e_(t)}},l_=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},c_="object"==typeof window,u_=mu.set,f_=l("species"),d_="Promise",p_=Jt.get,h_=Jt.set,g_=Jt.getterFor(d_),$e=ee&&ee.prototype,__=ee,m_=$e,y_=D.TypeError,v_=D.document,b_=D.process,x_=s_.f,w_=x_,M_=!!(v_&&v_.createEvent&&D.dispatchEvent),k_=N(D.PromiseRejectionEvent),j_="unhandledrejection",A_="rejectionhandled",T_=1,z_=2,N_=1,D_=2,I_=!1,S_=Te(d_,function(){var t=Ft(__),e=t!==String(__);if(!e&&66===U)return!0;if(51<=U&&/native code/.test(t))return!1;var n=new __(function(t){t(1)}),t=function(t){t(function(){},function(){})};return(n.constructor={})[f_]=t,!(I_=n.then(function(){})instanceof t)||!e&&c_&&!k_}),Be=S_||!Z0(function(t){__.all(t).catch(function(){})}),E_=function(t){var e;return!(!L(t)||!N(e=t.then))&&e},L_=function(d,p){var h;d.notified||(d.notified=!0,h=d.reactions,a_(function(){for(var i,t=d.value,e=d.state==T_,n=0;h.length>n;){var r,o,a,s=h[n++],l=e?s.ok:s.fail,c=s.resolve,u=s.reject,f=s.domain;try{l?(e||(d.rejection===D_&&function(e){S(u_,D,function(){var t=e.facade;if(Og)b_.emit("rejectionHandled",t);else C_(A_,t,e.value)})}(d),d.rejection=N_),!0===l?r=t:(f&&f.enter(),r=l(t),f&&(f.exit(),a=!0)),r===s.promise?u(y_("Promise-chain cycle")):(o=E_(r))?S(o,r,c,u):c(r)):u(t)}catch(t){f&&!a&&f.exit(),u(t)}}d.reactions=[],d.notified=!1,p&&!d.rejection&&(i=d,S(u_,D,function(){var t,e=i.facade,n=i.value,r=O_(i);if(r&&(t=l_(function(){Og?b_.emit("unhandledRejection",n,e):C_(j_,e,n)}),i.rejection=Og||O_(i)?D_:N_,t.error))throw t.value}))}))},C_=function(t,e,n){var r,i;M_?((r=v_.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),D.dispatchEvent(r)):r={promise:e,reason:n},!k_&&(i=D["on"+t])?i(r):t===j_&&function(t,e){var n=D.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},O_=function(t){return t.rejection!==N_&&!t.parent},P_=function(e,n,r){return function(t){e(n,t,r)}},F_=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=z_,L_(t,!0))},Y_=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw y_("Promise can't be resolved itself");var r=E_(t);r?a_(function(){var e={done:!1};try{S(r,t,P_(Y_,e,n),P_(F_,e,n))}catch(t){F_(e,t,n)}}):(n.value=t,n.state=T_,L_(n,!1))}catch(t){F_({done:!1},t,n)}}};if(S_&&(m_=(__=function(t){Dc(this,m_),V(t),S(n_,this);var e=p_(this);try{t(P_(Y_,e),P_(F_,e))}catch(t){F_(e,t)}}).prototype,(n_=function(t){h_(this,{type:d_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Nc(m_,{then:function(t,e){var n=g_(this),r=n.reactions,i=x_(Ha(this,__));return i.ok=!N(t)||t,i.fail=N(e)&&e,i.domain=Og?b_.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&L_(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r_=function(){var t=new n_,e=p_(t);this.promise=t,this.resolve=P_(Y_,e),this.reject=P_(F_,e)},s_.f=x_=function(t){return t===__||t===i_?new r_:w_(t)},N(ee)&&$e!==Object.prototype)){o_=$e.then,I_||(re($e,"then",function(t,e){var n=this;return new __(function(t,e){S(o_,n,t,e)}).then(t,e)},{unsafe:!0}),re($e,"catch",m_.catch,{unsafe:!0}));try{delete $e.constructor}catch(t){}Wr&&Wr($e,m_)}$t({global:!0,wrap:!0,forced:S_},{Promise:__}),Zl(__,d_,!1),Gr(d_),i_=r(d_),$t({target:d_,stat:!0,forced:S_},{reject:function(t){var e=x_(this);return S(e.reject,void 0,t),e.promise}}),$t({target:d_,stat:!0,forced:S_},{resolve:function(t){return function(t,e){if(kt(t),L(e)&&e.constructor===t)return e;t=s_.f(t);return(0,t.resolve)(e),t.promise}(this,t)}}),$t({target:d_,stat:!0,forced:Be},{all:function(t){var s=this,e=x_(s),l=e.resolve,c=e.reject,n=l_(function(){var r=V(s.resolve),i=[],o=0,a=1;rg(t,function(t){var e=o++,n=!1;a++,S(r,s,t).then(function(t){n||(n=!0,i[e]=t,--a||l(i))},c)}),--a||l(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=x_(n),i=r.reject,e=l_(function(){var e=V(n.resolve);rg(t,function(t){S(e,n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}}),$t({global:!0},{globalThis:D}),n(function(e){e=function(a){var l,t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(t){o=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,o,a,s,e=e&&e.prototype instanceof _?e:_,e=Object.create(e.prototype),r=new j(r||[]);return e._invoke=(i=t,o=n,a=r,s=f,function(t,e){if(s===p)throw new Error("Generator is already running");if(s===h){if("throw"===t)throw e;return T()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===l){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=u(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;r=r.arg;if(!r)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g;{if(!r.done)return r;n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return g}(n,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=p;r=u(i,o,a);if("normal"===r.type){if(s=a.done?h:d,r.arg!==g)return{value:r.arg,done:a.done}}else"throw"===r.type&&(s=h,a.method="throw",a.arg=r.arg)}}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function _(){}function m(){}function y(){}var v={};o(v,r,function(){return this});e=Object.getPrototypeOf,e=e&&e(e(A([])));e&&e!==t&&c.call(e,r)&&(v=e);var b=y.prototype=_.prototype=Object.create(v);function x(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function w(a,s){var e;this._invoke=function(n,r){function t(){return new s(function(t,e){!function e(t,n,r,i){t=u(a[t],a,n);if("throw"!==t.type){var o=t.arg;return(n=o.value)&&"object"===Zs(n)&&c.call(n,"__await")?s.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):s.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function A(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t};return t.next=t}}return{next:T}}function T(){return{value:l,done:!0}}return o(b,"constructor",m.prototype=y),o(y,"constructor",m),m.displayName=o(y,i,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,o(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},x(w.prototype),o(w.prototype,n,function(){return this}),a.AsyncIterator=w,a.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new w(s(t,e,n,r),i);return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(b),o(b,i,"Generator"),o(b,r,function(){return this}),o(b,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}var o=(i=i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc?null:i)?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,k(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),g}},a}(e.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":Zs(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}});var R_=regeneratorRuntime.mark(U_);function U_(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(s=i[o])return t.next=7,s;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},R_,this)}var B_=[null];function H_(t,e){this._groups=t,this._parents=e}function Z_(){return new H_([[document.documentElement]],B_)}function G_(t){return"string"==typeof t?new H_([[document.querySelector(t)]],[document.documentElement]):new H_([[t]],B_)}function q_(t){return"svg"===t.tagName.toLowerCase()}H_.prototype=Z_.prototype=ya({constructor:H_,select:function(t){"function"!=typeof t&&(t=D0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new H_(r,this._parents)},selectAll:function(t){var e;t="function"==typeof t?(e=t,function(){var t=e.apply(this,arguments);return null==t?[]:G0(t)}):Q0(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new H_(i,o)},selectChild:function(t){return this.select(null==t?K0:(e="function"==typeof t?t:$0(t),function(){return J0.call(this.children,e)}));var e},selectChildren:function(t){return this.selectAll(null==t?eg:(e="function"==typeof t?t:$0(t),function(){return tg.call(this.children,e)}));var e},filter:function(t){"function"!=typeof t&&(t=X0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new H_(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,hg);var n,r=e?pg:dg,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],p=d.length,h=G0(t.call(f,f&&f.__data__,u,i)),g=h.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(p),h,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new H_(s,i))._enter=l,s._exit=c,s},enter:function(){return new H_(this._enter||this._groups.map(ug),this._parents)},exit:function(){return new H_(this._exit||this._groups.map(ug),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof H_))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new H_(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||gg;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new H_(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=Na(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ph(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):mg(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=yg(t+"");if(arguments.length<2){for(var r=vg(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?xg:wg)(this,t)}}:e?function(t){return function(){xg(this,t)}}:function(t){return function(){wg(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Mg:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?kg:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(jg)},lower:function(){return this.each(Ag)},append:function(t){var e="function"==typeof t?t:Fh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Fh(t),r=null==e?Tg:"function"==typeof e?e:D0(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(zg)},clone:function(t){return this.select(t?Dg:Ng)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?Sg:Ig,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Eg(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Eg(this,t,e)}})(t,e))}},Symbol.iterator,U_);var Q_=0;var W_=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),V_=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});var X_={value:function(){}};function $_(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new J_(r)}function J_(t){this._=t}function K_(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=X_,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}J_.prototype=$_.prototype={constructor:J_,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=K_(i[n],t.name,e);else if(null==e)for(n in i)i[n]=K_(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t,e={},n=this._;for(t in n)e[t]=n[t].slice();return new J_(e)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var tm,em,nm=0,rm=0,im=0,om=1e3,am=0,sm=0,lm=0,cm="object"===("undefined"==typeof performance?"undefined":Zs(performance))&&performance.now?performance:Date,um="object"===("undefined"==typeof window?"undefined":Zs(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fm(){return sm||(um(dm),sm=cm.now()+lm)}function dm(){sm=0}function pm(){this._call=this._time=this._next=null}function hm(t,e,n){var r=new pm;return r.restart(t,e,n),r}function gm(){fm(),++nm;for(var t,e=tm;e;)0<=(t=sm-e._time)&&e._call.call(null,t),e=e._next;--nm}function _m(){sm=(am=cm.now())+lm,nm=rm=0;try{gm()}finally{nm=0,function(){var t,e,n=tm,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:tm=e);em=t,ym(r)}(),sm=0}}function mm(){var t=cm.now(),e=t-am;om<e&&(lm-=e,am=t)}function ym(t){nm||(rm=rm&&clearTimeout(rm),24<t-sm?(t<1/0&&(rm=setTimeout(_m,t-cm.now()-lm)),im=im&&clearInterval(im)):(im||(am=cm.now(),im=setInterval(mm,om)),nm=1,um(_m)))}function vm(e,n,t){var r=new pm;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}pm.prototype=hm.prototype={constructor:pm,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?fm():+n)+(null==e?0:+e),this._next||em===this||(em?em._next=this:tm=this,em=this),this._call=t,this._time=n,ym()},stop:function(){this._call&&(this._call=null,this._time=1/0,ym())}};var bm=$_("start","end","cancel","interrupt"),xm=[],wm=0,Mm=1,km=2,jm=3,Am=4,Tm=5,zm=6;function Nm(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==Mm)return h();for(e in u)if((i=u[e]).name===l.name){if(i.state===jm)return vm(d);i.state===Am?(i.state=zm,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=zm,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(vm(function(){l.state===jm&&(l.state=Am,l.timer.restart(p,l.delay,l.time),p(t))}),l.state=km,l.on.call("start",a,a.__data__,l.index,l.group),l.state===km){for(l.state=jm,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function p(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(h),l.state=Tm,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===Tm&&(l.on.call("end",a,a.__data__,l.index,l.group),h())}function h(){for(var t in l.state=zm,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:bm,tween:xm,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wm},((u=a.__transition)[s]=l).timer=hm(function(t){l.state=Mm,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function Dm(t,e){e=Sm(t,e);if(e.state>wm)throw new Error("too late; already scheduled");return e}function Im(t,e){e=Sm(t,e);if(e.state>jm)throw new Error("too late; already running");return e}function Sm(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function Em(t,e,n){var r=t._id;return t.each(function(){var t=Im(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Sm(t,r).value[e]}}function Lm(t,e){var n;return("number"==typeof e?Mu:e instanceof Li?zc:(n=Li(e))?(e=n,zc):Tu)(t,e)}function Cm(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function Om(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var Pm=Z_.prototype.constructor;function Fm(t){return function(){this.style.removeProperty(t)}}function Ym(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function Rm(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var Um=0;function Bm(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}P=Z_.prototype;function Hm(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Bm.prototype=ya({constructor:Bm,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=D0(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,Nm(f[d],e,n,d,f,Sm(s,n)));return new Bm(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Q0(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,p=t.call(l,l.__data__,f,c),h=Sm(l,n),g=0,_=p.length;g<_;++g)(d=p[g])&&Nm(d,e,n,g,p,h);o.push(p),a.push(l)}return new Bm(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=X0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Bm(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new Bm(o,this._parents,this._name,this._id)},selection:function(){return new Pm(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++Um,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Nm(a,t,n,c,s,{time:(a=Sm(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new Bm(r,this._parents,t,n)},call:P.call,nodes:P.nodes,node:P.node,size:P.size,empty:P.empty,each:P.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?Sm(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?Dm:Im,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=Ph(t),r="transform"===n?Yu:Lm;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,Em(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=Ph(t),this.tween(n,(t.local?Cm:Om)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,p,h,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Fu:Lm;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=mg(this,M),e=(this.style.removeProperty(M),mg(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,Fm(t)):"function"==typeof e?this.styleTween(t,(y=z,v=Em(this,"style."+(m=t),e),function(){var t=mg(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=mg(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=Im(this,c),e=t.on,n=null==t.value[g]?h=h||Fm(u):void 0;e===f&&p===n||(d=(f=e).copy()).on(_,p=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=mg(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ym(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=Em(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Rm(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Sm(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=Im(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=Im(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Dm(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Dm(this,t).delay=e}})(e,t)):Sm(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Im(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Im(this,t).duration=e}})(e,t)):Sm(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Im(this,t).ease=e}}(e,t)):Sm(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((e=this._id,n=t,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;Im(this,e).ease=t}));var e,n},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=Im(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===l&&t()})}},Symbol.iterator,P[Symbol.iterator]);var Zm={time:null,delay:0,duration:250,ease:Hm};function Gm(t){return""+t}function qm(e){var n=Gm;return function(t){return void 0===t?n||Gm:(n=t,e)}}Z_.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>km&&n.state<Tm,n.state=zm,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},Z_.prototype.transition=function(t){var e,n;t=t instanceof Bm?(e=t._id,t._name):(e=++Um,(n=Zm).time=fm(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Nm(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}(a,e));return new Bm(r,this._parents,t,e)};var Qm=new Date,Wm=new Date;function Vm(o,a,n,r){function s(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return o(t=new Date(+t)),t},s.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return Vm(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return Qm.setTime(+t),Wm.setTime(+e),o(Qm),o(Wm),Math.floor(n(Qm,Wm))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var Xm=Vm(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Xm.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Vm(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):Xm:null};var $m=Xm,Jm=Vm(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Km=Vm(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),ty=Vm(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),ey=Vm(function(t){return t.setHours(0,0,0,0)},function(t,e){return t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function ny(e){return Vm(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var ry=ny(0),iy=ny(1);ny(2),ny(3);var oy=ny(4);ny(5),ny(6);var ay=Vm(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),sy=Vm(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});sy.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Vm(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var ly=sy,cy=Vm(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function uy(e){return Vm(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var fy=uy(0),dy=uy(1);uy(2),uy(3);var py=uy(4);uy(5),uy(6);H0=Vm(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});H0.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Vm(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};function hy(t){return!!L(t)&&(t=qe(t),ot(zy,t)||ot(Ny,t))}var gy,_y,my,yy=H0,h=Tt.f,Y=D.Int8Array,vy=Y&&Y.prototype,tt=D.Uint8ClampedArray,Re=tt&&tt.prototype,by=Y&&Fl(Y),xy=vy&&Fl(vy),fe=Object.prototype,wy=D.TypeError,My=l("toStringTag"),ky=o("TYPED_ARRAY_TAG"),jy=o("TYPED_ARRAY_CONSTRUCTOR"),Ay=R&&!!Wr&&"Opera"!==qe(D.opera),Ty=!1,zy={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ny={BigInt64Array:8,BigUint64Array:8};for(gy in zy)(my=(_y=D[gy])&&_y.prototype)?zt(my,jy,_y):Ay=!1;for(gy in Ny)(my=(_y=D[gy])&&_y.prototype)&&zt(my,jy,_y);if((!Ay||!N(by)||by===Function.prototype)&&(by=function(){throw wy("Incorrect invocation")},Ay))for(gy in zy)D[gy]&&Wr(D[gy],by);if((!Ay||!xy||xy===fe)&&(xy=by.prototype,Ay))for(gy in zy)D[gy]&&Wr(D[gy].prototype,xy);if(Ay&&Fl(Re)!==xy&&Wr(Re,xy),I&&!ot(xy,My))for(gy in Ty=!0,h(xy,My,{get:function(){return L(this)?this[ky]:void 0}}),zy)D[gy]&&zt(D[gy],ky,gy);function Dy(t){var e,n,r,i,o,a,s=Pa(this),l=w(t),c=arguments.length,u=1<c?arguments[1]:void 0,f=void 0!==u,t=P0(l);if(t&&!I0(t))for(a=(o=S0(l,t)).next,l=[];!(i=S(a,o)).done;)l.push(i.value);for(f&&2<c&&(u=on(u,arguments[2])),n=Wt(l),r=new(Oy(s))(n),e=0;e<n;e++)r[e]=f?u(l[e],e):l[e];return r}function Iy(t,e){if((t=function(t){t=ae(t);if(t<0)throw Yy("The argument can't be less than 0");return t}(t))%e)throw Ry("Wrong offset");return t}var Sy={NATIVE_ARRAY_BUFFER_VIEWS:Ay,TYPED_ARRAY_CONSTRUCTOR:jy,TYPED_ARRAY_TAG:Ty&&ky,aTypedArray:function(t){if(hy(t))return t;throw wy("Target is not a typed array")},aTypedArrayConstructor:function(t){if(N(t)&&(!Wr||C(by,t)))return t;throw wy(Q(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(I){if(n)for(var r in zy){r=D[r];if(r&&ot(r.prototype,t))try{delete r.prototype[t]}catch(t){}}xy[t]&&!n||re(xy,t,!n&&Ay&&vy[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(I){if(Wr){if(n)for(r in zy)if((i=D[r])&&ot(i,t))try{delete i[t]}catch(t){}if(by[t]&&!n)return;try{return re(by,t,!n&&Ay&&by[t]||e)}catch(t){}}for(r in zy)!(i=D[r])||i[t]&&!n||re(i,t,e)}},isView:function(t){if(!L(t))return!1;t=qe(t);return"DataView"===t||ot(zy,t)||ot(Ny,t)},isTypedArray:hy,TypedArray:by,TypedArrayPrototype:xy},Ey=D.ArrayBuffer,Ly=D.Int8Array,Cy=!Sy.NATIVE_ARRAY_BUFFER_VIEWS||!_(function(){Ly(1)})||!_(function(){new Ly(-1)})||!Z0(function(t){new Ly,new Ly(null),new Ly(1.5),new Ly(t)},!0)||_(function(){return 1!==new Ly(new Ey(2),1,void 0).length}),Oy=Sy.aTypedArrayConstructor,Py=Math.floor,Fy=Number.isInteger||function(t){return!L(t)&&isFinite(t)&&Py(t)===t},Yy=D.RangeError,Ry=D.RangeError,Kt=n(function(t){function p(t,e){c(t);for(var n=0,r=e.length,i=new t(r);n<r;)i[n]=e[n++];return i}function e(t,e){m(t,e,{get:function(){return g(this)[e]}})}function h(t){var e;return C(a,t)||"ArrayBuffer"==(e=qe(t))||"SharedArrayBuffer"==e}function r(t,e){return T(t)&&!G(e)&&e in t&&Fy(+e)&&0<=e}function n(t,e){return e=d(e),r(t,e)?E(2,t[e]):o(t,e)}function i(t,e,n){return e=d(e),!(r(t,e)&&L(n)&&ot(n,"value"))||ot(n,"get")||ot(n,"set")||n.configurable||ot(n,"writable")&&!n.writable||ot(n,"enumerable")&&!n.enumerable?m(t,e,n):(t[e]=n.value,t)}var s=me.f,l=kn.forEach,g=Jt.get,_=Jt.set,m=Tt.f,o=xt.f,y=Math.round,v=D.RangeError,b=vu.ArrayBuffer,a=b.prototype,x=vu.DataView,w=Sy.NATIVE_ARRAY_BUFFER_VIEWS,M=Sy.TYPED_ARRAY_CONSTRUCTOR,k=Sy.TYPED_ARRAY_TAG,j=Sy.TypedArray,A=Sy.TypedArrayPrototype,c=Sy.aTypedArrayConstructor,T=Sy.isTypedArray,z="BYTES_PER_ELEMENT",N="Wrong length";I?(w||(xt.f=n,Tt.f=i,e(A,"buffer"),e(A,"byteOffset"),e(A,"byteLength"),e(A,"length")),$t({target:"Object",stat:!0,forced:!w},{getOwnPropertyDescriptor:n,defineProperty:i}),t.exports=function(t,e,r){function c(t,e){m(t,e,{get:function(){return function(t,e){t=g(t);return t.view[i](e*u+t.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){t=g(t);r&&(n=(n=y(n))<0?0:255<n?255:255&n),t.view[o](e*u+t.byteOffset,n,!0)}(this,e,t)},enumerable:!0})}var u=t.match(/\d+$/)[0]/8,n=t+(r?"Clamped":"")+"Array",i="get"+t,o="set"+t,a=D[n],f=a,d=f&&f.prototype,t={};w?Cy&&(f=e(function(t,e,n,r){return Dc(t,d),Vr(L(e)?h(e)?void 0!==r?new a(e,Iy(n,u),r):void 0!==n?new a(e,Iy(n,u)):new a(e):T(e)?p(f,e):S(Dy,f,e):new a(Ic(e)),t,f)}),Wr&&Wr(f,j),l(s(a),function(t){t in f||zt(f,t,a[t])}),f.prototype=d):(f=e(function(t,e,n,r){Dc(t,d);var i,o,a=0,s=0;if(L(e)){if(!h(e))return T(e)?p(f,e):S(Dy,f,e);var l=e,s=Iy(n,u),n=e.byteLength;if(void 0===r){if(n%u)throw v(N);if((i=n-s)<0)throw v(N)}else if(n<(i=ue(r)*u)+s)throw v(N);o=i/u}else o=Ic(e),l=new b(i=o*u);for(_(t,{buffer:l,byteOffset:s,byteLength:i,length:o,view:new x(l)});a<o;)c(t,a++)}),Wr&&Wr(f,j),d=f.prototype=_r(A)),d.constructor!==f&&zt(d,"constructor",f),zt(d,M,f),k&&zt(d,k,n),t[n]=f,$t({global:!0,forced:f!=a,sham:!w},t),z in f||zt(f,z,u),z in d||zt(d,z,u),Gr(n)}):t.exports=function(){}});Kt("Float64",function(r){return function(t,e,n){return r(this,t,e,n)}});var Uy=Math.min,By=v([].copyWithin||function(t,e){var n=w(this),r=Wt(n),i=Qt(t,r),o=Qt(e,r),e=2<arguments.length?arguments[2]:void 0,a=Uy((void 0===e?r:Qt(e,r))-o,r-i),s=1;for(o<i&&i<o+a&&(s=-1,o+=a-1,i+=a-1);0<a--;)o in n?n[i]=n[o]:delete n[i],i+=s,o+=s;return n}),Hy=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("copyWithin",function(t,e){return By(Hy(this),t,e,2<arguments.length?arguments[2]:void 0)});var Zy=kn.every,Gy=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("every",function(t){return Zy(Gy(this),t,1<arguments.length?arguments[1]:void 0)});var qy=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("fill",function(t){var e=arguments.length;return S(Sc,qy(this),t,1<e?arguments[1]:void 0,2<e?arguments[2]:void 0)});function Qy(t){return Vy(Ha(t,t[Wy]))}var Wy=Sy.TYPED_ARRAY_CONSTRUCTOR,Vy=Sy.aTypedArrayConstructor,Xy=kn.filter,$y=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("filter",function(t){t=Xy($y(this),t,1<arguments.length?arguments[1]:void 0);return t=t,function(t,e){for(var n=0,r=e.length,i=new t(r);n<r;)i[n]=e[n++];return i}(Qy(this),t)});var Jy=kn.find,Ky=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("find",function(t){return Jy(Ky(this),t,1<arguments.length?arguments[1]:void 0)});var t1=kn.findIndex,e1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("findIndex",function(t){return t1(e1(this),t,1<arguments.length?arguments[1]:void 0)});var n1=kn.forEach,r1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("forEach",function(t){n1(r1(this),t,1<arguments.length?arguments[1]:void 0)});var i1=de.includes,o1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("includes",function(t){return i1(o1(this),t,1<arguments.length?arguments[1]:void 0)});var a1=de.indexOf,s1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("indexOf",function(t){return a1(s1(this),t,1<arguments.length?arguments[1]:void 0)});var Rt=ne.PROPER,Yt=l("iterator"),qt=D.Uint8Array,l1=v(rc.values),c1=v(rc.keys),u1=v(rc.entries),f1=Sy.aTypedArray,O=Sy.exportTypedArrayMethod,Bt=qt&&qt.prototype[Yt],s=!!Bt&&"values"===Bt.name,we=function(){return l1(f1(this))};O("entries",function(){return u1(f1(this))}),O("keys",function(){return c1(f1(this))}),O("values",we,Rt&&!s),O(Yt,we,Rt&&!s);var d1=Sy.aTypedArray,Ue=Sy.exportTypedArrayMethod,p1=v([].join);Ue("join",function(t){return p1(d1(this),t)});var h1=Math.min,g1=[].lastIndexOf,_1=!!g1&&1/[1].lastIndexOf(1,-0)<0,te=F("lastIndexOf"),m1=_1||!te?function(t){if(_1)return Ra(g1,this,arguments)||0;var e=z(this),n=Wt(e),r=n-1;for((r=1<arguments.length?h1(r,ae(arguments[1])):r)<0&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}:g1,y1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return Ra(m1,y1(this),1<e?[t,arguments[1]]:[t])});var v1=kn.map,b1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("map",function(t){return v1(b1(this),t,1<arguments.length?arguments[1]:void 0,function(t,e){return new(Qy(t))(e)})});var x1=D.TypeError,tn=function(c){return function(t,e,n,r){V(e);var i=w(t),o=A(i),a=Wt(i),s=c?a-1:0,l=c?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=l;break}if(s+=l,c?s<0:a<=s)throw x1("Reduce of empty array with no initial value")}for(;c?0<=s:s<a;s+=l)s in o&&(r=e(r,o[s],s,i));return r}},w1={left:tn(!1),right:tn(!0)},M1=w1.left,k1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return M1(k1(this),t,e,1<e?arguments[1]:void 0)});var j1=w1.right,A1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return j1(A1(this),t,e,1<e?arguments[1]:void 0)});var T1=Sy.aTypedArray,Pe=Sy.exportTypedArrayMethod,z1=Math.floor;Pe("reverse",function(){for(var t,e=T1(this).length,n=z1(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this});var N1=D.RangeError,D1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("set",function(t){D1(this);var e=Iy(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=w(t),i=Wt(r),o=0;if(n<i+e)throw N1("Wrong length");for(;o<i;)this[e+o]=r[o++]},_(function(){new Int8Array(1).set({})}));var I1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("slice",function(t,e){for(var n=Dn(I1(this),t,e),e=Qy(this),r=0,i=n.length,o=new e(i);r<i;)o[r]=n[r++];return o},_(function(){new Int8Array(1).slice()}));var S1=kn.some,E1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("some",function(t){return S1(E1(this),t,1<arguments.length?arguments[1]:void 0)});var L1=D.Array,C1=Sy.aTypedArray,nt=Sy.exportTypedArrayMethod,O1=D.Uint16Array,P1=O1&&v(O1.prototype.sort),g=!(!P1||_(function(){P1(new O1(2),null)})&&_(function(){P1(new O1(2),{})})),F1=!!P1&&!_(function(){if(U)return U<74;if(Ln)return Ln<67;if(Cn)return 1;if(Pn)return Pn<602;for(var t,e=new O1(516),n=L1(516),r=0;r<516;r++)t=r%4,e[r]=515-r,n[r]=r-2*t+3;for(P1(e,function(t,e){return(t/4|0)-(e/4|0)}),r=0;r<516;r++)if(e[r]!==n[r])return 1});nt("sort",function(t){return void 0!==t&&V(t),F1?P1(this,t):Sn(C1(this),(n=t,function(t,e){return void 0!==n?+n(t,e)||0:e!=e?-1:t!=t?1:0===t&&0===e?0<1/t&&1/e<0?1:-1:e<t}));var n},!F1||g);var Y1=Sy.aTypedArray;(0,Sy.exportTypedArrayMethod)("subarray",function(t,e){var n=Y1(this),r=n.length,t=Qt(t,r);return new(Qy(n))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,ue((void 0===e?r:Qt(e,r))-t))});var R1=D.Int8Array,U1=Sy.aTypedArray,mu=Sy.exportTypedArrayMethod,B1=[].toLocaleString,H1=!!R1&&_(function(){B1.call(new R1(1))});mu("toLocaleString",function(){return Ra(B1,H1?Dn(U1(this)):U1(this),Dn(arguments))},_(function(){return[1,2].toLocaleString()!=new R1([1,2]).toLocaleString()})||!_(function(){R1.prototype.toLocaleString.call([1,2])}));var ee=Sy.exportTypedArrayMethod,$e=D.Uint8Array,S_=$e&&$e.prototype||{},Z1=[].toString,G1=v([].join);_(function(){Z1.call({})})&&(Z1=function(){return G1(this)});Be=S_.toString!=Z1;function q1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function W1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function V1(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=nv(e),u=rv(e),f=nv(n),d=rv(n),p=nv(a),h=rv(a),g=nv(s),_=rv(s),m=nv(l),y=rv(l),v={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:kv,e:kv,f:Nv,g:Rv,G:Bv,H:jv,I:Av,j:Tv,L:zv,m:Dv,M:Iv,p:function(t){return e[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:fb,s:db,S:Sv,u:Ev,U:Lv,V:Ov,w:Pv,W:Fv,x:null,X:null,y:Yv,Y:Uv,Z:Hv,"%":ub},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Zv,e:Zv,f:Vv,g:ab,G:lb,H:Gv,I:qv,j:Qv,L:Wv,m:Xv,M:$v,p:function(t){return e[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:fb,s:db,S:Jv,u:Kv,U:tb,V:nb,w:rb,W:ib,x:null,X:null,y:ob,Y:sb,Z:cb,"%":ub},x={a:function(t,e,n){e=p.exec(e.slice(n));return e?(t.w=h.get(e[0].toLowerCase()),n+e[0].length):-1},A:function(t,e,n){e=f.exec(e.slice(n));return e?(t.w=d.get(e[0].toLowerCase()),n+e[0].length):-1},b:function(t,e,n){e=m.exec(e.slice(n));return e?(t.m=y.get(e[0].toLowerCase()),n+e[0].length):-1},B:function(t,e,n){e=g.exec(e.slice(n));return e?(t.m=_.get(e[0].toLowerCase()),n+e[0].length):-1},c:function(t,e,n){return k(t,r,e,n)},d:hv,e:hv,f:bv,g:uv,G:cv,H:_v,I:_v,j:gv,L:vv,m:pv,M:mv,p:function(t,e,n){e=c.exec(e.slice(n));return e?(t.p=u.get(e[0].toLowerCase()),n+e[0].length):-1},q:dv,Q:wv,s:Mv,S:yv,u:ov,U:av,V:sv,w:iv,W:lv,x:function(t,e,n){return k(t,i,e,n)},X:function(t,e,n){return k(t,o,e,n)},y:uv,Y:cv,Z:fv,"%":xv};function w(l,c){return function(t){var e,n,r,i=[],o=-1,a=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===l.charCodeAt(o)&&(i.push(l.slice(a,o)),null!=(n=X1[e=l.charAt(++o)])?e=l.charAt(++o):n="e"===e?" ":"0",(r=c[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(l.slice(a,o)),i.join("")}}function M(i,o){return function(t){var e,n,r=W1(1900,void 0,1);if(k(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=Q1(W1(r.y,0,1))).getUTCDay())||0===n?dy.ceil(e):dy(e),e=cy.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=q1(W1(r.y,0,1))).getDay())||0===n?iy.ceil(e):iy(e),e=ey.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?Q1(W1(r.y,0,1)).getUTCDay():q1(W1(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,Q1(r)):q1(r)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in X1?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=w(i,v),v.X=w(o,v),v.c=w(r,v),b.x=w(i,b),b.X=w(o,b),b.c=w(r,b),{format:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}ee("toString",Z1,Be),En("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},On),Kt("Uint32",function(r){return function(t,e,n){return r(this,t,e,n)}});var X1={"-":"",_:" ",0:"0"},$1=/^\s*\d+/,J1=/^%/,K1=/[\\^$*+?|[\]().{}]/g;function tv(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<n?new Array(n-t+1).join(e)+i:i)}function ev(t){return t.replace(K1,"\\$&")}function nv(t){return new RegExp("^(?:"+t.map(ev).join("|")+")","i")}function rv(t){return new Map(t.map(function(t,e){return[t.toLowerCase(),e]}))}function iv(t,e,n){e=$1.exec(e.slice(n,n+1));return e?(t.w=+e[0],n+e[0].length):-1}function ov(t,e,n){e=$1.exec(e.slice(n,n+1));return e?(t.u=+e[0],n+e[0].length):-1}function av(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.U=+e[0],n+e[0].length):-1}function sv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.V=+e[0],n+e[0].length):-1}function lv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.W=+e[0],n+e[0].length):-1}function cv(t,e,n){e=$1.exec(e.slice(n,n+4));return e?(t.y=+e[0],n+e[0].length):-1}function uv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.y=+e[0]+(68<+e[0]?1900:2e3),n+e[0].length):-1}function fv(t,e,n){e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return e?(t.Z=e[1]?0:-(e[2]+(e[3]||"00")),n+e[0].length):-1}function dv(t,e,n){e=$1.exec(e.slice(n,n+1));return e?(t.q=3*e[0]-3,n+e[0].length):-1}function pv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.m=e[0]-1,n+e[0].length):-1}function hv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.d=+e[0],n+e[0].length):-1}function gv(t,e,n){e=$1.exec(e.slice(n,n+3));return e?(t.m=0,t.d=+e[0],n+e[0].length):-1}function _v(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.H=+e[0],n+e[0].length):-1}function mv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.M=+e[0],n+e[0].length):-1}function yv(t,e,n){e=$1.exec(e.slice(n,n+2));return e?(t.S=+e[0],n+e[0].length):-1}function vv(t,e,n){e=$1.exec(e.slice(n,n+3));return e?(t.L=+e[0],n+e[0].length):-1}function bv(t,e,n){e=$1.exec(e.slice(n,n+6));return e?(t.L=Math.floor(e[0]/1e3),n+e[0].length):-1}function xv(t,e,n){e=J1.exec(e.slice(n,n+1));return e?n+e[0].length:-1}function wv(t,e,n){e=$1.exec(e.slice(n));return e?(t.Q=+e[0],n+e[0].length):-1}function Mv(t,e,n){e=$1.exec(e.slice(n));return e?(t.s=+e[0],n+e[0].length):-1}function kv(t,e){return tv(t.getDate(),e,2)}function jv(t,e){return tv(t.getHours(),e,2)}function Av(t,e){return tv(t.getHours()%12||12,e,2)}function Tv(t,e){return tv(1+ey.count(ly(t),t),e,3)}function zv(t,e){return tv(t.getMilliseconds(),e,3)}function Nv(t,e){return zv(t,e)+"000"}function Dv(t,e){return tv(t.getMonth()+1,e,2)}function Iv(t,e){return tv(t.getMinutes(),e,2)}function Sv(t,e){return tv(t.getSeconds(),e,2)}function Ev(t){t=t.getDay();return 0===t?7:t}function Lv(t,e){return tv(ry.count(ly(t)-1,t),e,2)}function Cv(t){var e=t.getDay();return 4<=e||0===e?oy(t):oy.ceil(t)}function Ov(t,e){return t=Cv(t),tv(oy.count(ly(t),t)+(4===ly(t).getDay()),e,2)}function Pv(t){return t.getDay()}function Fv(t,e){return tv(iy.count(ly(t)-1,t),e,2)}function Yv(t,e){return tv(t.getFullYear()%100,e,2)}function Rv(t,e){return tv((t=Cv(t)).getFullYear()%100,e,2)}function Uv(t,e){return tv(t.getFullYear()%1e4,e,4)}function Bv(t,e){var n=t.getDay();return tv((t=4<=n||0===n?oy(t):oy.ceil(t)).getFullYear()%1e4,e,4)}function Hv(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+tv(t/60|0,"0",2)+tv(t%60,"0",2)}function Zv(t,e){return tv(t.getUTCDate(),e,2)}function Gv(t,e){return tv(t.getUTCHours(),e,2)}function qv(t,e){return tv(t.getUTCHours()%12||12,e,2)}function Qv(t,e){return tv(1+cy.count(yy(t),t),e,3)}function Wv(t,e){return tv(t.getUTCMilliseconds(),e,3)}function Vv(t,e){return Wv(t,e)+"000"}function Xv(t,e){return tv(t.getUTCMonth()+1,e,2)}function $v(t,e){return tv(t.getUTCMinutes(),e,2)}function Jv(t,e){return tv(t.getUTCSeconds(),e,2)}function Kv(t){t=t.getUTCDay();return 0===t?7:t}function tb(t,e){return tv(fy.count(yy(t)-1,t),e,2)}function eb(t){var e=t.getUTCDay();return 4<=e||0===e?py(t):py.ceil(t)}function nb(t,e){return t=eb(t),tv(py.count(yy(t),t)+(4===yy(t).getUTCDay()),e,2)}function rb(t){return t.getUTCDay()}function ib(t,e){return tv(dy.count(yy(t)-1,t),e,2)}function ob(t,e){return tv(t.getUTCFullYear()%100,e,2)}function ab(t,e){return tv((t=eb(t)).getUTCFullYear()%100,e,2)}function sb(t,e){return tv(t.getUTCFullYear()%1e4,e,4)}function lb(t,e){var n=t.getUTCDay();return tv((t=4<=n||0===n?py(t):py.ceil(t)).getUTCFullYear()%1e4,e,4)}function cb(){return"+0000"}function ub(){return"%"}function fb(t){return+t}function db(t){return Math.floor(+t/1e3)}var pb,hb=(pb=V1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,gb=pb.parse,_b=parseFloat,mb=gb("%Y-%m-%d");function yb(e){var n=_b;return function(t){return void 0===t?n||_b:(n=t,e)}}function vb(e){var n=mb;return function(t){return void 0===t?n||mb:(n=t,e)}}function bb(t){var e=[],n={};return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var xb=Array.isArray;function wb(t){return t}function Mb(n){return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function kb(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n),n+=1,t},{})}function jb(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=n++,t},{})}function Ab(t,e,n,r){var i,o,a,s,l,c="dense"===r?(l=1,e[n?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=l++),t},{})):"fractional"===r?(a=kb(i=e,o=n),s=jb(i,o),Object.keys(a).reduce(function(t,e){return t[e]=(a[e]+s[e])/2,t},{})):("worst"===r?jb:kb)(e,n),r="ordinal"===r?function(t){return c[t]++}:function(t){return c[t]};return t.map(r)}function Tb(n){return n=n||Math.random,function(t,e){e=e-t+1;return Math.floor(n()*e)+t}}function zb(t,e){return t[Tb(e)(0,t.length-1)]}function Nb(t,e,n,r){var i=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=Tb(r);if(n||1===e){for(var a=[],s=0;s<e;s++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),s=0;s<l;s++){var c,u,f=o(s,i-1);f!==s&&(c=a[f],u=a[s],a[s]=c,a[f]=u)}return a.length=l,a}function Db(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function Ib(e,t){return xb(t)?t.map(function(t){return el(e,t)}):el(e,t)}function Sb(t){return-90<=t&&t<=90}function Eb(t){return-180<=t&&t<=180}function Lb(t,n,e){return t.length?e?n(t.min)&&n(t.max)?1:0:t.values.reduce(function(t,e){return t+n(e)},0)/t.length:null}function Cb(t,e,r){r=r||wb;var i=1/0,o=-1/0,a=null,s=0,l=[],c=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"number"!=typeof e||isNaN(e)?l.push(n):(t.push(e),i=Math.min(i,e),o=Math.max(o,e),s+=e),t},[])),e=Mb(t);return e.prop("enhanced_array",!0),e.prop("numeric_array",!0),e.prop("values",c),e.prop("min",c.length?i:null),e.prop("max",c.length?o:null),e.prop("sum",s),e.prop("mean",c.length?s/c.length:null),e.prop("range",c.length?o-i:null),e.prop("length",c.length),e.prop("dropped_indexes",Object.freeze(l)),e.method("extent",function(){return[this.min,this.max]}),e.getter("sorted_values",function(){var e,n;return a||(n=-1/0,c.every(function(t){if(n<=t)return n=t,!0})&&(a=c),e=1/0,a=c.every(function(t){if(t<=e)return e=t,!0})?Object.freeze(c.slice().reverse()):Object.freeze(c.slice().sort(Rs))),a}),t}var Ob,Pb,Fb,Yb=(Fb=Mb(Pb={}),(Ob=Fb).method("unsorted",function(){return this.values.slice()}),Ob.method("ascending",function(){return this.sorted_values.slice()}),Ob.method("descending",function(){return this.sorted_values.slice().reverse()}),Ob.method("unique",function(){return bb(this.values)}),Ob.method("uniqueAscending",function(){return bb(this.sorted_values)}),Ob.method("uniqueDescending",function(){return bb(this.sorted_values).reverse()}),(Ob=Fb).getter("variance",function(){return Qs(this.values)}),Ob.getter("sd",function(){return Math.sqrt(this.variance)}),Ob.getter("median",function(){return Ib(this.sorted_values,.5)}),Ob.getter("iqr",function(){var t=Ib(this.sorted_values,[.25,.75]);return t[1]-t[0]}),Ob.method("quantiles",function(t){return Ib(this.sorted_values,t)}),Ob.method("quartiles",function(){return Ib(this.sorted_values,[.25,.5,.75])}),(Ob=Fb).method("random",function(t){return zb(this.values,t)}),Ob.method("sample",function(t,e,n){return Nb(this.values,t,e,n)}),Fb.method("rank",function(t,e){return Ab(this.values,this.sorted_values,t,e)}),Fb.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Db(t=t||this.values,this.dropped_indexes,NaN)}),(Fb=Fb).method("latitudeScore",function(t){return Lb(this,Sb,t)}),Fb.method("longitudeScore",function(t){return Lb(this,Eb,t)}),Pb);function Rb(t,e){var n=Object.create(Yb);return Cb(n,t,e),n}var Ub=Object.freeze(["min","max","mean"]),Bb=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function Hb(t){return"number"!=typeof t?null:new Date(t)}function Zb(t,e,n){n=n||wb;var r=Rb(e.map(function(t){var e=n(t);return t=e,"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime())?null:e.getTime()})),i=Mb(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",function(){return Object.freeze(r.values.map(Hb))}),i.getter("sorted_values",function(){return Object.freeze(r.sorted_values.map(Hb))}),i.getter("median",function(){return Hb(r.median)}),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",function(){return r.rank(arguments)});var o=function(e,n){return function(){var t=e[n].apply(e,arguments);return Array.isArray(t)?t.map(Hb):Hb(t)}}.bind(null,r);return Ub.forEach(function(t){i.prop(t,Hb(r[t]))}),Bb.forEach(function(t){i.method(t,o(t))}),t}function Gb(t,e,r){r=r||wb;for(var n=null,i=[],o=0,a=null,s=0;null===a&&s<e.length;){var l=r(e[s++]);"string"==typeof l&&(a=l)}var c=a,u=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"string"==typeof e?(t.push(e),a=e<a?e:a,c=c<e?e:c,e||o++):i.push(n),t},[])),f=Mb(t);return f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",u),f.prop("min",a),f.prop("max",c),f.prop("length",u.length),f.prop("dropped_indexes",Object.freeze(i)),f.prop("n_empty",o),f.method("extent",function(){return[this.min,this.max]}),f.getter("sorted_values",function(){return n||(function(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(e<=t)return e=t,!0})}(u)&&(n=u),n=function(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(t<=e)return e=t,!0})}(u)?Object.freeze(u.slice().reverse()):Object.freeze(u.slice().sort())),n}),t}var qb,Qb,Wb,Vb,Xb=(Wb=Mb(Qb={}),(qb=Wb).method("unsorted",function(){return this.values.slice()}),qb.method("ascending",function(){return this.sorted_values.slice()}),qb.method("descending",function(){return this.sorted_values.slice().reverse()}),qb.method("unique",function(){return bb(this.values)}),qb.method("uniqueAscending",function(){return bb(this.sorted_values)}),qb.method("uniqueDescending",function(){return bb(this.sorted_values).reverse()}),(qb=Wb).method("random",function(t){return zb(this.values,t)}),qb.method("sample",function(t,e,n){return Nb(this.values,t,e,n)}),Wb.method("rank",function(t,e){return Ab(this.values,this.sorted_values,t,e)}),Wb.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Db(t=t||this.values,this.dropped_indexes)}),Qb);function $b(t,e,n){t=getComputedStyle(t.node()).fontFamily;return(n?n+" ":"")+(Vb(e)+"px ")+t}function Jb(t,e){return"translate("+t+","+e+")"}function Kb(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var tx=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function ex(t){return Math.floor(tx(Math.abs(t)))}function nx(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return ex(e)+1}function rx(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],o=e[1][0],a=t[0][1],s=t[1][1],l=e[0][1],t=e[1][1],e=(n-r)*(l-t)-(i-o)*(a-s);if(!e)return!(n<i&&n<o&&r<i&&r<o||i<n&&o<n&&i<r&&o<r||a<l&&a<t&&s<l&&s<t||l<a&&t<a&&l<s&&t<s);o=((n-i)*(l-t)-(a-l)*(i-o))/e;if(!(o<0||1<o)){e=-((n-r)*(a-l)-(a-s)*(n-i))/e;return e<0||1<e?void 0:1}}function ix(t){return t&&"number"==typeof t?0<t?1:-1:0}function ox(r){var i=r.type;(r=r.copy()).type=i;function n(t){var e,n=r(t);return!isNaN(n)&&Math.abs(n)!==1/0||(e=r.range(),n=-1e6*(("numeric"!==i?e[0]>e[1]:ix((t=r.domain())[1]-t[0])!==ix(e[1]-e[0]))?-1:1)),n}return["domain","range"].forEach(function(e){n[e]=function(){var t=r[e].apply(r,arguments);return t===r?n:t}}),n.copy=function(){return ox(r)},n.type=r.type,n.step=r.step,n}function ax(t){return"[object Date]"===Object.prototype.toString.call(t)}var sx="Input data must be an array or Flourish array";function lx(t,e){if(!t)throw new TypeError(sx);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(sx);for(var n,r,i=e||function(t){return t},o=0;o<t.length;o++){var a=i(t[o]),s=Zs(a);if("number"===s)return Rb(t,e);if("string"===s)return n=t,r=e,s=void 0,Gb(s=Object.create(Xb),n,r),s;if(ax(a))return void 0,Zb(a={},t,e),a}return Rb(t,e)}function cx(n){var r=lx([]);return function(t,e){return void 0===t?r:(r=lx(t,e),n)}}var ux="Testing";function fx(t){return t*(Math.PI/180)}function dx(t,e){var n;return t.filter(function(t){t=e(t);if(t!==n)return n=t,!0})}function px(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:Vb(1),p=t.max_lines,r=t.angle||0,h=document.createElement("canvas").getContext("2d");h.font=t.font;var r=fx(r),g=(e-n*Math.sin(r))/Math.cos(r);return function(t){var e=[],n=0,r=h.measureText(t).width;if(r<=g)e.push(t),n=r;else{for(var i=t.trim().split(/\s+/g),o="",a=0;a<i.length;a++){var s=i[a],l=o+(o?" ":"")+s,c=h.measureText(l).width;if(!(c<=g)){var u=e.length+1==p;if(!u&&o)if(e.push(o),h.measureText(s).width<=g){o=s;continue}for(var f=1,d=l;d=l.substring(0,l.length-f)+"…",c=h.measureText(d).width,g<c&&++f<l.length;);n=Math.max(n,c),o=d;break}o=l,n=Math.max(n,c)}e.push(o)}return{lines:e,text_width:n}}}function hx(i,o){var a=["px","rem","fraction"];o=o||"width";var s=.3,l="fraction";return function(t,e){return void 0===t?(n=i[o](),{px:r="px"===l?s:"rem"===l?Vb(s):s*n,rem:"rem"===l?s:r/Vb(1),fraction:"fraction"===l?s:r/n,unit:l}):(s=Math.max(t,0),l=-1!==a.indexOf(e)?e:"px",i);var n,r}}function gx(r,t,e){var b=t[e],i=e+"Data",o=e+"Format",a=e+"Ticks",s=Object.freeze([]),l=r.chart.select(".fl-y-axes"),e=function(){return s};return e._update=function(t){var h,g=r[i]().string_array?"string":"numeric",e=$b(G_(".fl-y-axes"),b.tick_label_size,b.tick_label_weight),_="default"===b.tick_label_position?+b.tick_label_angle:0,m=0,y=r[o]();l.append("text").style("opacity",0).style("font",e).each(function(){var t=G_(this).text(ux).node().getBoundingClientRect();h=t.height}).remove(),"object"===Zs(t[0])&&(t=dx(t,y));var n=Vb(b.tick_label_space);"auto"===b.tick_label_space_mode&&(n=r[a].autoLabelSpace().px);var v=px({text_height:h,max_space:n,font:e,angle:_,max_lines:_?1:b.tick_label_max_lines});return(s=t.map(function(t,e){var n,r,i,o,a,s,l=v(y(t)),c=l.lines,u=l.text_width,f=0,l=h*c.length+(c.length-1)*b.tick_label_line_height;0==_||90==_?(r=n=a=_?l:u,i=o=(s=_?u+Vb(.5):l)/2,0==_&&(f=c.length<2?0:(c.length-1)/2*(h*b.tick_label_line_height))):(d=fx(_),a=(n=l*(p=Math.sin(d)))+(r=u*(d=Math.cos(d))),s=(i=l*d)+(o=u*p)),m=Math.max(m,a);var d="numeric"==g?nx(t):null,p="numeric"==g?ex(t):null;return Object.freeze({index:e,value:t,lines:c,type:g,significant_digits:d,exponent:p,text_width:u,text_height:h,box_width:a,box_height:s,box_width_above:n,box_width_below:r,box_height_above:i,box_height_below:o,multiline_offset:f})})).type=g,s.max_box_width="fixed"===b.tick_label_space_mode?Vb(b.tick_label_space):m,Object.freeze(s),r},e.autoLabelSpace=hx(r),e}function _x(e,t){function n(){return e[r+"Scale"]({domain_only:!0}).ticks()}var r=1<arguments.length&&void 0!==t?t:"x",i=n;return function(t){return void 0===t?i:(i=null===t?n:t,e)}}function mx(e){var n="";return function(t){return void 0===t?n:(n=t,e)}}var yx=de.includes;function vx(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;e=t.chart.select(".fl-left-axis .fl-axis-title"),t=$b(e,n.title_size,n.title_weight),r=e.append("text").text(r).style("opacity",0).style("font",t),t=r.node().getBoundingClientRect().height;return r.remove(),t+2*Vb(n.title_padding)}function bx(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;e=t.chart.select(".fl-right-axis .fl-axis-title"),t=$b(e,n.title_size,n.title_weight),r=e.append("text").text(r).style("opacity",0).style("font",t),t=r.node().getBoundingClientRect().height;return r.remove(),t+2*Vb(n.title_padding)}function xx(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,o=0,a=0;return"top"!==r&&"bottom"!=r||(i=(r=t.xTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Vb(n.tick_length):0,a=r.max_box_height||0,o=r.length?Vb(n.tick_padding):0),i+o+a+(o=t,t=(a=e).x,e=o.xTitle(),"off"!==t.axis_visible&&e?(o=$b(a=o.chart.select(".fl-x-axis .fl-axis-title"),t.title_size,t.title_weight),e=a.append("text").text(e).style("opacity",0).style("font",o),o=e.node().getBoundingClientRect().height,e.remove(),o+2*Vb(t.title_padding)):0)}function wx(e,n){function t(){return{top:u,right:s,bottom:l,left:c}}var r,i,o,a,s,l,c,u=s=l=c=0;return t._calculated=function(){return{top:r,right:i,bottom:o,left:a}},t._update=function(t){t=t||{},r=function(t,e){var n=e.x,r=0,i=["top","float-above"].includes(n.axis_position);!t.xHide()&&i&&(r=xx(t,e));var o=0,a=0;(n=t.yHide()?[]:t.yTicks()).length&&(s=n[n.length-1],"default"==e.y.tick_label_position?o=.9*s.box_height_above:"above"==e.y.tick_label_position&&(o+=s.box_height)),"end"!==e.y.title_position||i||(o+=vx(t,e));var s=t.y2Hide()?[]:t.y2Ticks();return s.length&&(s=s[s.length-1],"default"==e.y2.tick_label_position?a=.9*s.box_height_above:"above"==e.y2.tick_label_position&&(a+=s.box_height)),"end"!==e.y2.title_position||i||(a+=bx(t,e)),a=Math.max(Vb(.25),o,a),Math.max(r,a)}(e,n),i=function(t,e){var n=e.y2,r=0;n.axis_visible&&(r=((i=t.y2Hide()?[]:t.y2Ticks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Vb(n.tick_length):0)+(i.length?Vb(n.tick_padding):0)+(i.max_box_width||0)+(!t.y2Hide()&&"side"===n.title_position?bx(t,e):0));var i=Vb(.25),n=0;return(t=t.xHide()?[]:t.xTicks()).length&&(t=t[t.length-1],"default"==e.x.tick_label_position?n=.9*t.box_width_right:"right"==e.x.tick_label_position&&(n=t.box_width),i=Math.max(i,n)),Math.max(r,i)}(e,n),o=function(t,e){var n=e.x,r=0,i=["bottom","float-below"].includes(n.axis_position);!t.xHide()&&i&&(r=xx(t,e));var o=0,a=0,s=t.yHide()?[]:t.yTicks();s.length&&(l=s[0],"default"==e.y.tick_label_position?o=.9*l.box_height_below:"below"==e.y.tick_label_position&&(o+=l.box_height)),"end"!==e.y.title_position||i||"off"===n.axis_position||(o+=vx(t,e));var l=t.y2Hide()?[]:t.y2Ticks();return l.length&&(l=l[0],"default"==e.y2.tick_label_position?a=.9*l.box_height_below:"below"==e.y2.tick_label_position&&(a+=l.box_height)),"end"!==e.y2.title_position||i||"off"===n.axis_position||(a+=bx(t,e)),a=Math.max(Vb(.25),o,a),Math.max(r,a)}(e,n),a=function(t,e){var n=e.y,r=0;n.axis_visible&&(r=((i=t.yHide()?[]:t.yTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Vb(n.tick_length):0)+(i.length?Vb(n.tick_padding):0)+(i.max_box_width||0)+(!t.yHide()&&"side"===n.title_position?vx(t,e):0));var i=Vb(.25),n=0;return(t=t.xHide()?[]:t.xTicks()).length&&(t=t[0],"default"==e.x.tick_label_position?n=.9*t.box_width_left:"left"==e.x.tick_label_position&&(n=t.box_width),i=Math.max(i,n)),Math.max(r,i)}(e,n),u=void 0!==t.top?t.top:r,s=void 0!==t.right?t.right:i,l=void 0!==t.bottom?t.bottom:o,c=void 0!==t.left?t.left:a},Object.defineProperty(t,"top",{get:function(){return u}}),Object.defineProperty(t,"right",{get:function(){return s}}),Object.defineProperty(t,"bottom",{get:function(){return l}}),Object.defineProperty(t,"left",{get:function(){return c}}),t}function Mx(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function kx(n){var r,i=n,o=n;function a(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}return 1===n.length&&(i=function(t,e){return n(t)-e},r=n,o=function(t,e){return Mx(r(t),e)}),{left:a,center:function(t,e,n,r){return r=a(t,e,n=null==n?0:n,(r=null==r?t.length:r)-1),n<r&&i(t[r-1],e)>-i(t[r],e)?r-1:r},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}}$t({target:"Array",proto:!0},{includes:function(t){return yx(this,t,1<arguments.length?arguments[1]:void 0)}}),Ee("includes");P=kx(Mx).right;kx(function(t){return null===t?NaN:+t}).center;var jx=P,Ax=Math.sqrt(50),Tx=Math.sqrt(10),zx=Math.sqrt(2);function Nx(t,e,n){var r,i,o,a=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(c=Dx(t,e,n))||!isFinite(c))return[];if(0<c){var s=Math.round(t/c),l=Math.round(e/c);for(s*c<t&&++s,e<l*c&&--l,o=new Array(i=l-s+1);++a<i;)o[a]=(s+a)*c}else{var c=-c,u=Math.round(t*c),l=Math.round(e*c);for(u/c<t&&++u,e<l/c&&--l,o=new Array(i=l-u+1);++a<i;)o[a]=(u+a)/c}return r&&o.reverse(),o}function Dx(t,e,n){t=(e-t)/Math.max(0,n),n=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,n);return 0<=n?(Ax<=t?10:Tx<=t?5:zx<=t?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(Ax<=t?10:Tx<=t?5:zx<=t?2:1)}function Ix(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),n=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/n;return Ax<=r?n*=10:Tx<=r?n*=5:zx<=r&&(n*=2),e<t?-n:n}function Sx(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ex=Symbol("implicit");function Lx(){var i,o,t=function t(){var o=new Map,a=[],r=[],i=Ex;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==Ex)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=new Map;var e,n=Na(t);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r+"";o.has(i)||o.set(i,a.push(r))}}catch(t){n.e(t)}finally{n.f()}return s},s.range=function(t){return arguments.length?(r=Array.from(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return t(a,r).unknown(i)},Sx.apply(s,arguments),s}().unknown(void 0),a=t.domain,s=t.range,l=0,c=1,u=!1,f=0,d=0,p=.5;function e(){var t=a().length,e=c<l,n=e?c:l,r=e?l:c;i=(r-n)/Math.max(1,t-f+2*d),u&&(i=Math.floor(i)),n+=(r-n-i*(t-f))*p,o=i*(1-f),u&&(n=Math.round(n),o=Math.round(o));t=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(t).map(function(t){return n+i*t});return s(e?t.reverse():t)}return delete t.unknown,t.domain=function(t){return arguments.length?(a(t),e()):a()},t.range=function(t){return arguments.length?(t=ja(t,2),l=t[0],c=t[1],l=+l,c=+c,e()):[l,c]},t.rangeRound=function(t){var t=t,t=ja(t,2);return l=t[0],c=t[1],l=+l,c=+c,u=!0,e()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(t){return arguments.length?(u=!!t,e()):u},t.padding=function(t){return arguments.length?(f=Math.min(1,d=+t),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.min(1,t),e()):f},t.paddingOuter=function(t){return arguments.length?(d=+t,e()):d},t.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},t.copy=function(){return Lx(a(),[l,c]).round(u).paddingInner(f).paddingOuter(d).align(p)},Sx.apply(e(),arguments)}function Cx(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Lx.apply(null,arguments).paddingInner(1))}function Ox(t){return+t}var Px=[0,1];function Fx(t){return t}function Yx(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Rx(t,e,n){var r=t[0],t=t[1],i=e[0],e=e[1],i=t<r?(r=Yx(t,r),n(e,i)):(r=Yx(r,t),n(i,e));return function(t){return i(r(t))}}function Ux(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Yx(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(t){var e=jx(n,t,1,r)-1;return o[e](i[e](t))}}function Bx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hx(){var n,r,e,i,o,a,s=Px,l=Px,c=zu,u=Fx;function f(){var e,n,t,r=Math.min(s.length,l.length);return u!==Fx&&(e=s[0],(n=s[r-1])<e&&(t=e,e=n,n=t),u=function(t){return Math.max(e,Math.min(n,t))}),i=2<r?Ux:Rx,o=a=null,d}function d(t){return isNaN(t=+t)?e:(o=o||i(s.map(n),l,c))(n(u(t)))}return d.invert=function(t){return u(r((a=a||i(l,s.map(n),Mu))(t)))},d.domain=function(t){return arguments.length?(s=Array.from(t,Ox),f()):s.slice()},d.range=function(t){return arguments.length?(l=Array.from(t),f()):l.slice()},d.rangeRound=function(t){return l=Array.from(t),c=Nu,f()},d.clamp=function(t){return arguments.length?(u=!!t||Fx,f()):u!==Fx},d.interpolate=function(t){return arguments.length?(c=t,f()):c},d.unknown=function(t){return arguments.length?(e=t,d):e},function(t,e){return n=t,r=e,f()}}function Zx(){return Hx()(Fx,Fx)}function Gx(c){var u=c.domain;return c.ticks=function(t){var e=u();return Nx(e[0],e[e.length-1],null==t?10:t)},c.tickFormat=function(t,e){var n=u();return function(t,e,n,r){var i,o=Ix(t,e,n);switch((r=Sf(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Uf(o,a))||(r.precision=i),Qf(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Bf(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Rf(o))||(r.precision=i-2*("%"===r.type))}return qf(r)}(n[0],n[n.length-1],null==t?10:t,e)},c.nice=function(t){null==t&&(t=10);var e,n,r=u(),i=0,o=r.length-1,a=r[i],s=r[o],l=10;for(s<a&&(n=a,a=s,s=n,n=i,i=o,o=n);0<l--;){if((n=Dx(a,s,t))===e)return r[i]=a,r[o]=s,u(r);if(0<n)a=Math.floor(a/n)*n,s=Math.ceil(s/n)*n;else{if(!(n<0))break;a=Math.ceil(a*n)/n,s=Math.floor(s*n)/n}e=n}return c},c}function qx(){var t=Zx();return t.copy=function(){return Bx(t,qx())},Sx.apply(t,arguments),Gx(t)}function Qx(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Wx(t){return Math.log(t)}function Vx(t){return Math.exp(t)}function Xx(t){return-Math.log(-t)}function $x(t){return-Math.exp(-t)}function Jx(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kx(e){return function(t){return-e(-t)}}function t2(t){var u,f,i=t(Wx,Vx),d=i.domain,p=10;function e(){var e,n;return u=(n=p)===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n}),f=10===(e=p)?Jx:e===Math.E?Math.exp:function(t){return Math.pow(e,t)},d()[0]<0?(u=Kx(u),f=Kx(f),t(Xx,$x)):t(Wx,Vx),i}return i.base=function(t){return arguments.length?(p=+t,e()):p},i.domain=function(t){return arguments.length?(d(t),e()):d()},i.ticks=function(t){var e=d(),n=e[0],r=e[e.length-1];(e=r<n)&&(s=n,n=r,r=s);var i,o,a,s=u(n),l=u(r),t=null==t?10:+t,c=[];if(!(p%1)&&l-s<t){if(s=Math.floor(s),l=Math.ceil(l),0<n){for(;s<=l;++s)for(o=1,i=f(s);o<p;++o)if(!((a=i*o)<n)){if(r<a)break;c.push(a)}}else for(;s<=l;++s)for(o=p-1,i=f(s);1<=o;--o)if(!((a=i*o)<n)){if(r<a)break;c.push(a)}2*c.length<t&&(c=Nx(n,r,t))}else c=Nx(s,l,Math.min(l-s,t)).map(f);return e?c.reverse():c},i.tickFormat=function(t,n){if("function"!=typeof(n=null==n?10===p?".0e":",":n)&&(n=qf(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,p*t/i.ticks().length);return function(t){var e=t/f(Math.round(u(t)));return e*p<p-.5&&(e*=p),e<=r?n(t):""}},i.nice=function(){return d(Qx(d(),{floor:function(t){return f(Math.floor(u(t)))},ceil:function(t){return f(Math.ceil(u(t)))}}))},i}var e2=36e5,n2=864e5,r2=365*n2;function i2(t){return new Date(t)}function o2(t){return t instanceof Date?+t:+new Date(+t)}function a2(){return Sx.apply(function t(a,e,n,r,i,o,s,l,c){var u=Zx(),f=u.invert,d=u.domain,p=c(".%L"),h=c(":%S"),g=c("%I:%M"),_=c("%I %p"),m=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y"),x=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,e2],[i,3,3*e2],[i,6,6*e2],[i,12,432e5],[r,1,n2],[r,2,2*n2],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[a,1,r2]];function w(t){return(s(t)<t?p:o(t)<t?h:i(t)<t?g:r(t)<t?_:e(t)<t?n(t)<t?m:y:a(t)<t?v:b)(t)}function M(t,e,n){if("number"!=typeof(t=null==t?10:t))return t;var r,i=Math.abs(n-e)/t,o=kx(function(t){return t[2]}).right(x,i);return(t=o===x.length?(r=Ix(e/r2,n/r2,t),a):o?(r=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(Ix(e,n,t),1),l)).every(r)}return u.invert=function(t){return new Date(f(t))},u.domain=function(t){return arguments.length?d(Array.from(t,o2)):d().map(i2)},u.ticks=function(t){var e,n=d(),r=n[0],i=n[n.length-1];return(n=i<r)&&(e=r,r=i,i=e),e=(e=M(t,r,i))?e.range(r,i+1):[],n?e.reverse():e},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var e=d();return(t=M(t,e[0],e[e.length-1]))?d(Qx(e,t)):u},u.copy=function(){return Bx(u,t(a,e,n,r,i,o,s,l,c))},u}(ly,ay,ry,ey,ty,Km,Jm,$m,hb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function s2(t,e){var n=e.edge_padding,t=e.flip?t.unique().reverse():t.unique(),n=Cx().domain(t).padding(n/100);return n.type="ordinal",n}function l2(t,e){var n,r,i,o,a=(n=t,i=(r=e).min,o=r.max,t=r.include_zero,e=r.nice,r=r.flip,null!==(i=i===o?o=null:i)&&null!==o?r?[o,i]:[i,o]:(n.range?(a=n.extent(),e&&(a=qx().domain(a).nice().domain()),t&&(0<=a[0]?a[0]=0:a[1]<0&&(a[1]=0),a=qx().domain(a).nice().domain())):a=n.length?0<(t=n.min)?[0,2*t]:t<0?[2*t,0]:[-50,50]:[0,100],null!==i?(a[0]=i,a[0]===a[1]&&(a[1]=i+(n.range||100))):null!==o&&(a[1]=o,a[0]===a[1]&&(a[0]=o-(n.range||100))),r?a.reverse():a)),a=qx().domain(a);return a.type="numeric",a}function c2(t,e){var n=e.min,r=e.max,i=e.nice,e=e.flip,t=t.extent();t[0]<=0&&(0<t[1]?t[0]=Math.min(1,t[1]/1e3):t[0]=1),t[1]<=t[0]&&(t[1]=1e3*t[0]);t=function t(){var e=t2(Hx()).domain([1,10]);return e.copy=function(){return Bx(e,t()).base(e.base())},Sx.apply(e,arguments),e}().domain(t);i&&t.nice();i=t.domain();return 0<(n=n===r?r=null:n)&&(i[0]=n),0<r&&(i[1]=r),t.domain(e?i.reverse():i),t.type="numeric",t}function u2(t,e){var n=e.min,r=e.max,i=e.format,o=e.nice,e=e.flip,t=t.extent(),t=a2().domain(t);o&&t.nice(),i&&t.tickFormat(null,i);o=t.domain();return(n=n===r?r=null:n)&&(o[0]=i(n)),r&&(o[1]=i(r)),t.domain(e?o.reverse():o),t.type="datetime",t}function f2(t,e){if(e.step)return e.step();var n=t.uniqueAscending().map(function(t){return e(t)}),r=n.length;if(r<2)return 0;for(var i=1/0,o=1;o<r;o++)var a=Math.abs(n[o]-n[o-1]),i=Math.min(i,a);return i}function d2(s,t){var l=t.x;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.xData(),n={nice:l.nice,flip:s.xFlipAxis()!==l.flip};e.string_array?(o=s2,n.edge_padding=l.edge_padding):e.datetime_array?(o=u2,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.xDatetimeParse()):"log"===l.numeric_scale_type?(o=c2,n.min=l.log_min,n.max=l.log_max):(o=l2,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.xZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_width,o=s.margins.left,e=function(t,e,n){var r={left:0,right:0},i=t.xData();if(i.string_array)return r;var o=(s=t.xPadding()).left,a=s.right,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{left:o,right:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,Aa(n))-Math.min.apply(Math,Aa(n)),n=t.plot_width/((n+(o+a)*u)/u),{left:o*n,right:a*n}}(s,l,r.domain()),n=e.left,o=o+n,e=[o,o+(i-(n+e.right))],a=t.global&&s.offsetLeft();return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function p2(s,t){var l=t.y;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.yData(),n={nice:l.nice,flip:s.yFlipAxis()!==l.flip};e.string_array?(o=s2,n.edge_padding=l.edge_padding):e.datetime_array?(o=u2,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.yDatetimeParse()):"log"===l.numeric_scale_type?(o=c2,n.min=l.log_min,n.max=l.log_max):(o=l2,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.yZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_height,o=s.margins.top,e=function(t,e,n){var r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;var o=(s=t.yPadding()).bottom,a=s.top,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{bottom:o,top:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,Aa(n))-Math.min.apply(Math,Aa(n)),n=t.plot_height/((n+(o+a)*u)/u),{bottom:o*n,top:a*n}}(s,l,r.domain()),n=e.bottom,e=e.top,n=i-(n+e),a=t.global&&s.offsetTop(),e=o+e,e=[e+n,e];return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function h2(s,t){var l=t.y2;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=s.y2Data(),n={nice:l.nice,flip:s.y2FlipAxis()!==l.flip};e.string_array?(o=s2,n.edge_padding=l.edge_padding):e.datetime_array?(o=u2,n.min=l.datetime_min,n.max=l.datetime_max,n.format=s.y2DatetimeParse()):"log"===l.numeric_scale_type?(o=c2,n.min=l.log_min,n.max=l.log_max):(o=l2,n.min=l.linear_min,n.max=l.linear_max,n.include_zero="off"!==l.zero_axis&&("on"===l.zero_axis||s.y2ZeroAxis()));var r=o(e,n);if(t.domain_only)return r;var i=s.plot_height,o=s.margins.top,e=function(t,e,n){var r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;var o=(s=t.y2Padding()).bottom,a=s.top,s=s.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==s)return r;if("px"===s||!o&&!a)return{bottom:o,top:a};var l=i.uniqueAscending(),c=l.length;if(c<2)return r;for(var u=1/0,f=1;f<c;f++)var d=Math.abs(l[f]-l[f-1]),u=Math.min(u,d);return n=Math.max.apply(Math,Aa(n))-Math.min.apply(Math,Aa(n)),n=t.plot_width/((n+(o+a)*u)/u),{bottom:o*n,top:a*n}}(s,l,r.domain()),n=e.bottom,e=e.top,n=i-(n+e),a=t.global&&s.offsetTop(),e=o+e,e=[e+n,e];return a&&(e=e.map(function(t){return t+a})),r.range(e)}}function g2(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function _2(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function m2(e){var n=!1,r=!1;return function(t){return void 0===t?!!n&&{keep_gridlines:r}:(n=!!t,r=!(!t||"object"!==Zs(t)||!t.keep_gridlines),e)}}function y2(t,e,n){var r,i,o,a,s=2<arguments.length&&void 0!==n?n:"x",l=e[s],n=t[s+"Scale"]({domain_only:!0}),e=t[s+"Data"]();return("x"===s?"off"===l.axis_position:!l.axis_visible)?[]:e.string_array?n.domain():"number"===l.tick_mode?n.ticks(l.tick_number):(e=e.datetime_array,s="custom"===l.tick_mode?(r=t[s+(e?"Datetime":"Number")+"Parse"](),l.tick_custom.split("\n").filter(function(t){return t}).map(function(t){return t.trim()}).map(function(t){return r(t)})):(a=t[s+"AutoTicks"](),Array.isArray(a)?a:a()),s=(a=s).length?ax(a[0])?Array.from(new Set(a.map(function(t){return t.getTime()}))).map(function(t){return new Date(t)}):Array.from(new Set(a)):a.slice(),n=n.domain(),i=Math.min.apply(Math,Aa(n)),o=Math.max.apply(Math,Aa(n)),e?s.filter(function(t){return ax(e=t)&&!isNaN(e.getTime())&&i<=t&&t<=o;var e}):s.filter(function(t){return!isNaN(t)&&i<=t&&t<=o}))}function v2(t,e){return function(){t.xTicks._update(y2(t,e,"x")),t.yTicks._update(y2(t,e,"y")),t.y2Ticks._update(y2(t,e,"y2"))}}function b2(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function x2(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function w2(){return document.body.getAttribute("dir")}function M2(_,m){var y,v,b,x,w,M,k,j,A,T,z,N,D,I,S,E,i,L,C,O,P=m.x;var F,Y,R,U,g,t,B,H,Z,n=(t=_.chart.select("g.fl-bottom-axis"),Y=t.select("g.fl-axis-line"),R=t.select("g.fl-axis-ticks"),U=t.select("g.fl-axis-title"),function(){var s=P.axis_position,t={pos:s},e=!_.xHide()&&-1!==["bottom","float-below"].indexOf(s),n=e?_.xTicks():[],r=_.y_bottom;void 0===F&&(F=r);var i=r+Vb(P.title_padding);function o(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===s&&(i+=A+n.max_box_height,t.extended_gridline=r+A+n.max_box_height);var a=F,l=r;"float-below"===s&&(a=o((O||v)(P.y_axis_position),F),l=o(v(P.y_axis_position),r));var c=Y.selectAll("line").data(e&&P.line_visible?[y.domain()]:[]);c.exit().style("stroke",x).style("stroke-width",w).transition().duration(b).attr("x1",N).attr("x2",I).attr("y1",l).attr("y2",l).style("opacity",0).remove();var u=c.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",w).attr("x1",S).attr("x2",E).attr("y1",a).attr("y2",a).style("opacity",0);c.merge(u).style("stroke",x).style("stroke-width",w).transition().duration(b).attr("x1",N).attr("x2",I).attr("y1",l).attr("y2",l).style("opacity",1);u=e?n:[];"numeric"===n.type&&"custom"!==P.tick_mode&&(u=n.slice().sort(b2));function f(t){var e="default"==P.tick_label_position?-P.tick_label_angle:-90,n=Kb(e,0,0);return"default"===P.tick_label_position?0==e?Jb(t.text_width/2,A+.66*j):-90==e?Jb(0,A)+" "+n+" "+Jb(0,.33*j-t.multiline_offset):Jb(0,A)+" "+n+" "+Jb(0,.66*j):(t="left"===P.tick_label_position?-.3:1,Jb(0,A)+" "+n+" "+Jb(0,j*t))}n=R.selectAll("g").data(u,function(t){return t.type+"-"+t.value}),u=n.exit();u.transition().duration(b).attr("transform",function(t){return Jb(C(t.value),l)}).style("opacity",0).remove(),u.each(function(){var t=G_(this);t.select("line").style("stroke",x).style("stroke-width",w).transition().duration(b).attr("y2",k),t.select("text").style("fill",M).style("font-size",j+"px").style("font-weight",P.tick_label_weight).attr("transform",f).transition().duration(b)});u=n.enter().append("g").style("opacity",0);u.attr("transform",function(t){return Jb(L(t.value),a)}),u.each(function(){var t=G_(this);t.append("line").attr("y2",k),t.append("text").attr("text-anchor","middle").attr("transform",f).call(x2)});u=n.merge(u);u.transition().duration(b).style("opacity",1).attr("transform",function(t){return Jb(y(t.value),l)});var d,p,h=(d=[],p=l+A,function(t){var e=y(t.value);if("float-below"===s){var n=y.range();if(m.y.axis_visible)if(e-t.box_width_left<n[0])return 0;if(m.y2.axis_visible)if(e+t.box_width_right>n[1])return 0}for(var n=[e,p],r=[n,[e+t.box_width_right,p+t.box_height_right]],i=[n,[e-t.box_width_left,p+t.box_height_left]],o=0;o<d.length;o++){var a=d[o];if(e<=a.x_anchor){if(rx(r,a.q))return 0}else if(rx(a.p,i))return 0}return d.push({x_anchor:e,p:r,q:i}),1}),g=w2();u.each(function(){var t=G_(this);t.select("line").style("stroke",x).style("stroke-width",w).transition().duration(b).attr("y2",k),t.select("text").each(function(){var t=G_(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?P.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","rtl"===g?"start":"end").style("fill",M).style("font-size",j+"px").style("font-weight",P.tick_label_weight).transition().duration(b).style("opacity",h).attr("transform",f)});e=U.selectAll("text").data(e&&z?[z]:[]);return e.exit().remove(),e.enter().append("text").attr("text-anchor","middle").style("font-size",T+"px").style("fill",P.title_color).style("font-weight",P.title_weight).call(x2).transition().duration(0).delay(b).text(function(t){return t}).attr("x",D).attr("y",i).attr("dy",T),e.text(function(t){return t}).style("fill",P.title_color).style("font-size",T+"px").style("font-weight",P.title_weight).transition().duration(b).attr("x",D).attr("y",i).attr("dy",T),F=r,"bottom"==s?t:null}),r=(t=_.chart.select("g.fl-top-axis"),B=t.select("g.fl-axis-line"),H=t.select("g.fl-axis-ticks"),Z=t.select("g.fl-axis-title"),function(){var s=P.axis_position,t={pos:s},e=!_.xHide()&&-1!==["top","float-above"].indexOf(s),n=e?_.xTicks():[],r=_.y_top;void 0===g&&(g=r);var i=r-Vb(P.title_padding);"top"===s&&(i-=A+n.max_box_height,t.extended_gridline=r-(A+n.max_box_height));var o="float-above"===s?(O||v)(P.y_axis_position):g,a="float-above"===s?v(P.y_axis_position):r,l=B.selectAll("line").data(e&&P.line_visible?[y.domain()]:[]);l.exit().style("stroke",x).style("stroke-width",w).transition().duration(b).attr("x1",N).attr("x2",I).attr("y1",a).attr("y2",a).style("opacity",0).remove();var c=l.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",w).attr("x1",S).attr("x2",S).attr("y1",o).attr("y2",o).style("opacity",0);l.merge(c).style("stroke",x).style("stroke-width",w).transition().duration(b).attr("x1",N).attr("x2",I).attr("y1",a).attr("y2",a).style("opacity",1);c=[];e&&(c="numeric"===n.type?n.slice().sort(b2):n);function u(t){var e="default"==P.tick_label_position?-P.tick_label_angle:-90,n=Kb(e,0,0);return"default"===P.tick_label_position?0==e?Jb(-t.text_width/2,-(A+.33*j)):-90==e?Jb(0,-A)+" "+n+" "+Jb(0,.33*j-t.multiline_offset):Jb(0,-A)+" "+n+Jb(0,-t.multiline_offset):(t="left"===P.tick_label_position?-.3:1,Jb(0,-A)+" "+n+" "+Jb(0,j*t))}n=H.selectAll("g").data(c,function(t){return t.type+"-"+t.value}),c=n.exit();c.transition().duration(b).attr("transform",function(t){return Jb(C(t.value),a)}).style("opacity",0).remove(),c.each(function(){var t=G_(this);t.select("line").style("stroke",x).style("stroke-width",w).transition().duration(b).attr("y2",-k),t.select("text").style("fill",M).style("font-size",j+"px").style("font-weight",P.tick_label_weight).attr("transform",u).transition().duration(b)});c=n.enter().append("g").style("opacity",0);c.attr("transform",function(t){return Jb(L(t.value),o)}),c.each(function(){var t=G_(this);t.append("line").attr("y2",-k),t.append("text").attr("text-anchor","middle").attr("transform",u).call(x2)});c=n.merge(c);c.transition().duration(b).style("opacity",1).attr("transform",function(t){return Jb(y(t.value),a)});var f,d,p=(f=[],d=a+A,function(t){var e=y(t.value);if("float-above"===s){var n=y.range();if(m.y.axis_visible)if(e-t.box_width_left<n[0])return 0;if(m.y2.axis_visible)if(e+t.box_width_right>n[1])return 0}for(var n=[e,d],r=[n,[e-t.box_width_left,d-t.box_height_left]],i=[n,[e+t.box_width_right,d-t.box_height_right]],o=0;o<f.length;o++){var a=f[o];if(e<=a.x_anchor){if(rx(i,a.p))return 0}else if(rx(r,a.q))return 0}return f.push({x_anchor:e,p:r,q:i}),1}),h=w2();c.each(function(){var t=G_(this);t.select("line").style("stroke",x).style("stroke-width",w).transition().duration(b).attr("y2",-k),t.select("text").each(function(){var t=G_(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?P.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","rtl"===h?"end":"start").style("fill",M).style("font-size",j+"px").style("font-weight",P.tick_label_weight).transition().duration(b).style("opacity",p).attr("transform",u)});e=Z.selectAll("text").data(e&&z?[z]:[]);return e.exit().remove(),e.enter().append("text").attr("text-anchor","middle").style("font-size",T+"px").style("fill",P.title_color).style("font-weight",P.title_weight).call(x2).transition().duration(0).delay(b).text(function(t){return t}).attr("x",D).attr("y",i).attr("dy",-.33*T),e.text(function(t){return t}).style("fill",P.title_color).style("font-size",T+"px").style("font-weight",P.title_weight).transition().duration(b).attr("x",D).attr("y",i).attr("dy",-.33*T),g=r,"top"==s?t:null});return function(){!function(){y=ox(_.xScale()),v=ox(_.yScale()),b=i?_.animationDuration():0,N=_.x_left,I=_.x_right,D=(N+I)/2,void 0===S&&(S=N),L=(i=i||y).type===y.type&&"ordinal"!==y.type?i:y,C=i.type===y.type&&"ordinal"!==i.type?y:i,x=P.line_and_tick_color,w=Vb(P.line_and_tick_width,!0),M=P.tick_label_color;var t="default"===P.tick_label_position,e=_.xTicks(),n=e.max_box_height,r=e.length?Vb(P.tick_padding):0;"top"!=P.axis_position&&"bottom"!=P.axis_position||(n+=r),e="out"===P.tick_side,k=t?Vb(P.tick_length)*(e?1:-1):n,j=Vb(P.tick_label_size),A=(e&&t?k:0)+r,T=Vb(P.title_size),z=_.xTitle()}();var t=n(),e=r();return i=y,O=v,S=N,E=I,t||e}}function k2(z,N){var D,I,S,E,L,t=z.chart.select("g.fl-left-axis"),C=t.select("g.fl-axis-line"),O=t.select("g.fl-axis-ticks"),P=t.select("g.fl-axis-title"),F=N.y;return function(){var t={},e=F.axis_visible&&!z.yHide(),n=ox(z.xScale()),s=ox(z.yScale()),i=e?z.yTicks():[],r=D?z.animationDuration():0;D=D||n;var o=(I=I||s).type===s.type&&"ordinal"!==s.type?I:s,a=I.type===s.type&&"ordinal"!==I.type?s:I,l=z.y_bottom,c=z.y_top;void 0===S&&(S=l),void 0===E&&(E=c);var u=z.x_left;void 0===L&&(L=u);var f=F.line_and_tick_color,d=Vb(F.line_and_tick_width,!0),p=F.tick_label_color,h="default"===F.tick_label_position,g="out"===F.tick_side,_=Vb(F.tick_padding),m=z.yTicks().max_box_width+_,y=h?Vb(F.tick_length)*(g?1:-1):m,v=Vb(F.tick_label_size),b=(g&&h?y:0)+_,m=z.yTitle(),g=Vb(F.title_size),x=b+i.max_box_width+Vb(F.title_padding)+.33*g;t.extended_gridline=u-(b+i.max_box_width);var w=(c+l)/2,h=C.selectAll("line").data(e&&F.line_visible?[s.domain()]:[]);h.exit().style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",0).remove();_=h.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",L).attr("x2",L).attr("y1",S).attr("y2",E).style("opacity",0);h.merge(_).style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",1);h=e?i:[];function M(t){if("default"!==F.tick_label_position)return Jb(-b-(i.max_box_width-t.box_width),("above"===F.tick_label_position?-.3:1)*v);var e=-F.tick_label_angle;if(0==e)return Jb(-b,.33*v-t.multiline_offset);var n=Jb(-b,0)+" "+Kb(e);return-90==e&&(n+=" "+Jb(t.text_width/2,0)),n}"numeric"===i.type&&"custom"!==F.tick_mode&&(h=i.slice().sort(b2));_=O.selectAll("g").data(h,function(t){return t.type+"-"+t.value}),h=_.exit();h.transition().duration(r).attr("transform",function(t){return Jb(u,a(t.value))}).style("opacity",0).remove(),h.each(function(){var t=G_(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").style("fill",p).style("font-size",v+"px").style("font-weight",F.tick_label_weight).attr("transform",M).transition().duration(r)});h=_.enter().append("g").style("opacity",0);h.attr("transform",function(t){return Jb(L,o(t.value))});var k="rtl"===w2()?"start":"end";h.each(function(){var t=G_(this);t.append("line").attr("x2",-y),t.append("text").attr("text-anchor",k).attr("transform",M).call(x2)});h=_.merge(h);h.transition().duration(r).style("opacity",1).attr("transform",function(t){return Jb(u,s(t.value))});var j,A,T=(j=[],A=u-b,function(t){for(var e=s(t.value),n=[A,e],r=[n,[A-t.box_width_above,e-t.box_height_above]],i=[n,[A-t.box_width_below,e+t.box_height_below]],o=0;o<j.length;o++){var a=j[o];if(e>=a.y_anchor){if(rx(r,a.q))return 0}else if(rx(a.p,i))return 0}return j.push({y_anchor:e,p:r,q:i}),1});h.each(function(){var t=G_(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").each(function(){var t=G_(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?F.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",p).style("font-size",v+"px").style("font-weight",F.tick_label_weight).attr("text-anchor",k).transition().duration(r).style("opacity",T).attr("transform",M)});e=P.selectAll("text").data(e&&m?[m]:[]);e.exit().remove();m=function(){if("side"===F.title_position)return Jb(u,w)+" "+Kb(-90)+" "+Jb(0,-x);var t,e=u-z.margins._calculated().left,n=["top","float-above"].includes(N.x.axis_position),r=Vb(F.title_padding);return Jb(e,n?(n=i[0].box_height_below,t=Vb(.66*F.title_size),l+(n+r+t)):(t=i[i.length-1].box_height_above,c-(t+r)))};return e.enter().append("text").attr("text-anchor","side"===F.title_position?"middle":"start").style("font-size",g+"px").style("fill",F.title_color).style("font-weight",F.title_weight).call(x2).transition().duration(0).delay(r).text(function(t){return t}).attr("transform",m),e.text(function(t){return t}).attr("text-anchor","side"===F.title_position?"middle":"start").style("fill",F.title_color).style("font-size",g+"px").style("font-weight",F.title_weight).transition().duration(r).attr("transform",m),D=n,I=s,S=l,E=c,L=u,t}}function j2(z,N){var D,I,S,E,L,t=z.chart.select("g.fl-right-axis"),C=t.select("g.fl-axis-line"),O=t.select("g.fl-axis-ticks"),P=t.select("g.fl-axis-title"),F=N.y2;return function(){var t={},e=F.axis_visible&&!z.y2Hide(),n=ox(z.xScale()),s=ox(z.y2Scale()),i=e?z.y2Ticks():[],r=D?z.animationDuration():0;D=D||n;var o=(I=I||s).type===s.type&&"ordinal"!==s.type?I:s,a=I.type===s.type&&"ordinal"!==I.type?s:I,l=z.y_bottom,c=z.y_top;void 0===S&&(S=l),void 0===E&&(E=c);var u=z.x_right;void 0===L&&(L=u);var f=F.line_and_tick_color,d=Vb(F.line_and_tick_width,!0),p=F.tick_label_color,h="default"===F.tick_label_position,g="out"===F.tick_side,_=Vb(F.tick_padding),m=z.y2Ticks().max_box_width+_,y=h?Vb(F.tick_length)*(g?1:-1):m,v=Vb(F.tick_label_size),b=(g&&h?y:0)+_,x=z.y2Title(),m=Vb(F.title_size),w=b+i.max_box_width+Vb(F.title_padding)+.85*m;t.extended_gridline=u+b+i.max_box_width;var M=(l+c)/2,g=C.selectAll("line").data(e&&F.line_visible?[s.domain()]:[]);g.exit().style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",0).remove();h=g.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",d).attr("x1",L).attr("x2",L).attr("y1",S).attr("y2",E).style("opacity",0);g.merge(h).style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x1",u).attr("x2",u).attr("y1",l).attr("y2",c).style("opacity",1);_="numeric"===i.type?i.slice().sort(b2):i;function k(t){if("default"!==F.tick_label_position)return Jb(b+(i.max_box_width-t.box_width),("above"===F.tick_label_position?-.3:1)*v);var e=-F.tick_label_angle;if(0==e)return Jb(b,.33*v-t.multiline_offset);var n=Jb(b,0)+" "+Kb(e);return-90==e&&(n+=" "+Jb(t.text_width/2,0)),n}g=O.selectAll("g").data(_,function(t){return t.type+"-"+t.value}),h=g.exit();h.transition().duration(r).attr("transform",function(t){return Jb(u,a(t.value))}).style("opacity",0).remove(),h.each(function(){var t=G_(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x2",-y),t.select("text").style("fill",p).style("font-size",v+"px").style("font-weight",F.tick_label_weight).attr("transform",k).transition().duration(r)});_=g.enter().append("g").style("opacity",0);_.attr("transform",function(t){return Jb(L,o(t.value))});h=w2();_.each(function(){var t=G_(this);t.append("line").attr("x2",y),t.append("text").attr("transform",k).call(x2)});_=g.merge(_);_.transition().duration(r).style("opacity",1).attr("transform",function(t){return Jb(u,s(t.value))}).attr("text-anchor","rtl"===h?"end":"start");var j,A,T=(j=[],A=u+b,function(t){for(var e=s(t.value),n=[A,e],r=[n,[A-t.box_width_above,e-t.box_height_above]],i=[n,[A-t.box_width_below,e+t.box_height_below]],o=0;o<j.length;o++){var a=j[o];if(e>=a.y_anchor){if(rx(r,a.q))return 0}else if(rx(a.p,i))return 0}return j.push({y_anchor:e,p:r,q:i}),1});_.each(function(){var t=G_(this);t.select("line").style("stroke",f).style("stroke-width",d).transition().duration(r).attr("x2",y),t.select("text").each(function(){var t=G_(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?F.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",p).style("font-size",v+"px").style("font-weight",F.tick_label_weight).transition().duration(r).style("opacity",T).attr("transform",k)});e=P.selectAll("text").data(e&&x?[x]:[]);e.exit().remove();x=function(){if("side"===F.title_position)return Jb(u,M)+" "+Kb(-90)+" "+Jb(0,w);var t,e=u+z.margins._calculated().right,n=["top","float-above"].includes(N.x.axis_position),r=Vb(F.title_padding);return Jb(e,n?(n=i[0].box_height_below,t=Vb(.66*F.title_size),l+(n+r+t)):(t=i[i.length-1].box_height_above,c-(t+r)))};return e.enter().append("text").attr("text-anchor","side"===F.title_position?"middle":"end").style("font-size",m+"px").style("fill",F.title_color).style("font-weight",F.title_weight).call(x2).transition().duration(0).delay(r).text(function(t){return t}).attr("transform",x),e.text(function(t){return t}).attr("text-anchor","side"===F.title_position?"middle":"end").style("fill",F.title_color).style("font-size",m+"px").style("font-weight",F.title_weight).transition().duration(r).attr("transform",x),D=n,I=s,S=l,E=c,L=u,t}}var A2={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function T2(t){if("solid"===t)return null;var e=Vb(1)/4;return A2[t].map(function(t){return t*e}).join(" ")}function z2(i,t){var e,n,l,c,u,f,d,p,h,g,_,o,a,s,m,y,r,v,b,x,w,M,k,j,A,T,z,N,D,I,S,E,L,C,O,P=(n=(e=i).chart.select("rect.fl-chart-debug-rectangle"),function(){n.attr("width",e.width()).attr("height",e.height()).style("stroke",e.debugColor()).style("display",e.debug()?null:"none")}),F=v2(i,t),Y=(c=t,u=(l=i).chart.select("clipPath.fl-data-clip-path"),f=u.select("rect"),d=l.chart.select("clipPath.fl-grid-clip-path"),p=d.select("rect"),h=l.chart.select(".fl-data-background"),g=l.chart.select(".fl-data-foreground"),_=l.chart.select(".fl-gridlines"),function(){var t=l.identifier()+"-clip-path",e="url(#"+t+")";u.attr("id",t);var n=l.identifier()+"-grid-clip-path",r="url(#"+n+")";d.attr("id",n),h.attr("clip-path",e),g.attr("clip-path",e),_.attr("clip-path",r);var i=l.x_left,o=l.x_right,a=l.y_top,s=l.y_bottom,t=l.clip(),n=t.left?i:0,e=t.top?a:0,r=Math.max((t.right?o:l.width())-n,1),t=Math.max((t.bottom?s:l.height())-e,1);f.attr("x",n).attr("y",e).attr("width",r).attr("height",t);r=Vb(c.x.gridline_width,!0),t=Vb(c.y.gridline_width,!0);p.transition().duration(l.animationDuration()).attr("x",i-r).attr("y",a-t).attr("width",o-i+2*r).attr("height",s-a+2*t)}),R=(o=i,a=t.background,s=o.chart.select("rect.fl-chart-fill"),m=o.chart.select("image.fl-chart-image"),y=o.chart.select("rect.fl-chart-interaction"),function(){var t=o.x_left,e=o.y_top,n=Math.max(o.plot_width,1),r=Math.max(o.plot_height,1);s.attr("x",t).attr("y",e).attr("width",n).attr("height",r).attr("fill",a.background_color_enabled?a.background_color:"none"),m.attr("x",t).attr("y",e).attr("width",n).attr("height",r).attr("xlink:href",a.background_image_enabled?a.background_image_src:null).attr("preserveAspectRatio",function(){return"stretch"==a.background_image_size?"none":a.background_image_position+" "+a.background_image_size}),y.attr("x",t).attr("y",e).attr("width",n).attr("height",r)}),U=(b=M2(r=i,v=t),x=k2(r,v),w=j2(r,v),function(){return{x:b(),y:x(),y2:w()}}),B=(M=i,S=(k=t).x,E=k.y,L=k.y2,C=M.chart.select("g.fl-gridlines-vertical"),O=M.chart.select("g.fl-gridlines-horizontal"),function(r){var e=ox(M.xScale()),n=ox(M.yScale()),i=ox(M.y2Scale()),t=M.x_left,o=M.x_right;void 0===z&&(z=t),void 0===N&&(N=o);var a=M.y_bottom,s=M.y_top;void 0===D&&(D=a),void 0===I&&(I=s),A=A||n,T=T||i;var l,c=(j=j||e).type===e.type&&"ordinal"!==e.type?j:e,u=j.type===e.type&&"ordinal"!==j.type?e:j,f=A.type===n.type&&"ordinal"!==n.type?A:n,d=A.type===n.type&&"ordinal"!==A.type?n:A,p=T.type===i.type&&"ordinal"!==T.type?T:i,h=T.type===i.type&&"ordinal"!==T.type?i:T,g=j?M.animationDuration():0,_=function(t){if("x"===t&&"off"===k.x.axis_position)return[];if("x"!==t&&!k[t].axis_visible)return[];if(!k[t].gridlines_visible)return[];var e=M[t+"Hide"]();return e&&!e.keep_gridlines?[]:M[t+"Ticks"]()},m=_("x"),y=_("y"),_=_("y2"),m=m.map(function(t){return{type:t.type,value:t.value,dasharray:T2(S.gridline_style),stroke:S.gridline_color,width:Vb(S.gridline_width,!0),x_enter:c(t.value),x:e(t.value)}});S.gridline_category_dividers&&e.step&&(l=e.step(),m.pop(),m.forEach(function(t){var e,n;t.x_enter+=l/2,t.x+=l/2,S.gridline_category_dividers_extend&&(e=r.x&&"top"==r.x.pos,n=r.x&&"bottom"==r.x.pos,e?t.y2=r.x.extended_gridline:n&&(t.y1=r.x.extended_gridline))}));var v,y=y.map(function(t){return{axis:"y",type:t.type,value:t.value,dasharray:T2(E.gridline_style),stroke:E.gridline_color,width:Vb(E.gridline_width,!0),y_enter:f(t.value),y:n(t.value)}});E.gridline_category_dividers&&n.step&&(v=n.step(),y.pop(),y.forEach(function(t){t.y_enter-=v/2,t.y-=v/2,E.gridline_category_dividers_extend&&(t.x1=r.y.extended_gridline)}));var b,_=_.map(function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:T2(L.gridline_style),stroke:L.gridline_color,width:Vb(L.gridline_width),y_enter:p(t.value),y:i(t.value)}});L.gridline_category_dividers&&i.step&&(b=i.step(),_.pop(),_.forEach(function(t){t.y_enter-=b/2,t.y-=b/2,L.gridline_category_dividers_extend&&(t.x2=r.y2.extended_gridline)}));y=y.concat(_),_=C.selectAll("line").data(m,function(t){return t.type+"-"+t.value});_.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",function(t){return u(t.value)}).attr("x2",function(t){return u(t.value)}).attr("y1",a).attr("y2",s).style("opacity",0).remove();m=_.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x_enter}).attr("x2",function(t){return t.x_enter}).attr("y1",D).attr("y2",I).style("opacity",0);_.merge(m).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",function(t){return t.x}).attr("x2",function(t){return t.x}).attr("y1",a).attr("y2",s).style("opacity",1);s=O.selectAll("line").data(y,function(t){return t.axis+"-"+t.type+"-"+t.value});s.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",t).attr("x2",o).attr("y1",function(t){return("y"===t.axis?d:h)(t.value)}).attr("y2",function(t){return("y"===t.axis?d:h)(t.value)}).style("opacity",0).remove();y=s.enter().append("line").style("shape-rendering","crispEdges").attr("x1",z).attr("x2",N).attr("y1",function(t){return t.y_enter}).attr("y2",function(t){return t.y_enter}).style("opacity",0);s.merge(y).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(g).attr("x1",t).attr("x2",o).attr("y1",function(t){return t.y}).attr("y2",function(t){return t.y}).style("opacity",1),j=e,A=n,T=i,z=t,N=o});return function(t){var n,r,e;if(t=t||{},n=parseFloat(getComputedStyle(document.documentElement).fontSize),r=window.devicePixelRatio,Vb=function(t,e){return t?e?Math.max(Math.round(t*n*r),1)/r:t*n:0},e=null,(i.offsetLeft()||i.offsetTop())&&(e="translate("+i.offsetLeft()+","+i.offsetTop()+")"),i.chart.attr("transform",e),P(),F(),e=t.margins,i.margins._update(e),t.skip_rendering)return i;Y(),R();t=U();return B(t),i}}function N2(t,e){e=Lh(e);var n,r,i,o,a,s,l,c,u,f,d,p={},h=function(t){var e=t&&t.select&&t.selectAll?G_(t.node()):G_(t),n=e.node();if(!n)throw new Error("Chart layout instance must have a target");var r=q_(n);return{container:e,getSvg:function(){if(r)return e;for(var t=n.parentNode;t&&!q_(t);)t=t.parentNode;if(!q_(t))throw new Error("target must be an SVG or a descendant of an SVG");return G_(t)}}}(t);Object.defineProperty(p,"svg",{get:h.getSvg}),p.container=h.container,p.chart=((et=(n=p).container.append("g").attr("class","fl-chart")).append("rect").attr("class","fl-chart-debug-rectangle").attr("x",0).attr("y",0).style("stroke-width","1px").style("fill","none").style("display","none"),et.append("clipPath").attr("class","fl-data-clip-path").append("rect"),et.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),(t=(t=et).append("g").attr("class","fl-chart-background")).append("rect").attr("class","fl-chart-fill"),t.append("image").attr("class","fl-chart-image"),t.append("rect").attr("class","fl-chart-interaction").style("opacity",0),et.append("g").attr("class","fl-data-background"),(h=(h=et).append("g").attr("class","fl-gridlines").style("pointer-events","none")).append("g").attr("class","fl-gridlines-vertical"),h.append("g").attr("class","fl-gridlines-horizontal"),t=(n=et).append("g").attr("class","fl-axes"),h=t.append("g").attr("class","fl-x-axes"),n=t.append("g").attr("class","fl-y-axes"),(t=h.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis")).append("g").attr("class","fl-axis-line"),t.append("g").attr("class","fl-axis-ticks"),t.append("g").attr("class","fl-axis-title"),(h=h.append("g").attr("class","fl-axis fl-x-axis fl-top-axis")).append("g").attr("class","fl-axis-line"),h.append("g").attr("class","fl-axis-ticks"),h.append("g").attr("class","fl-axis-title"),(h=n.append("g").attr("class","fl-axis fl-y-axis fl-left-axis")).append("g").attr("class","fl-axis-line"),h.append("g").attr("class","fl-axis-ticks"),h.append("g").attr("class","fl-axis-title"),(n=n.append("g").attr("class","fl-axis fl-y-axis fl-right-axis")).append("g").attr("class","fl-axis-line"),n.append("g").attr("class","fl-axis-ticks"),n.append("g").attr("class","fl-axis-title"),et.append("g").attr("class","fl-data-foreground"),et),p.data_background=p.chart.select("g.fl-data-background"),p.data_foreground=p.chart.select("g.fl-data-foreground"),p.identifier=(r=p,i="fl-chart-layout-"+Q_++,function(t){return void 0===t?i:(i=t,r)}),p.debug=(o=p,a=!1,function(t){return void 0===t?a:(a=!!t,o)}),p.debugColor=(s=p,l="red",function(t){return void 0===t?l:(l=t,s)}),p.clip=(c=p,u=W_,function(t){return void 0===t?u:(u=t?"object"!==Zs(t)?W_:Object.freeze({left:!!t.left,top:!!t.top,right:!!t.right,bottom:!!t.bottom}):V_,c)}),p.animationDuration=(f=p,d=0,function(t){return void 0===t?d:(d=t,f)});var g,_,m,y,v,b,x,w,M,k,j,A,T,z,N,D,I,S,E,L,C,O,P,F,Y,R,U,B,H,Z,G,q,Q,W,V,X,$,J,K,tt,et=(g=p,v=y=m=null,(_={}).width=function(t){return void 0===t?null!==m?m:g.svg.node().getBoundingClientRect().width:(m=t,g)},_.height=function(t){return void 0===t?null!==y?y:null!==v?_.plotHeight()+g.margins.top+g.margins.bottom:g.svg.node().getBoundingClientRect().height:(y=t,v=null,g)},_.plotAspect=function(t){return void 0===t?null!==v?v:_.plotWidth()/_.plotHeight():(y=null,v=t,g)},_.plotWidth=function(){return g.width()-(g.margins.right+g.margins.left)},_.plotHeight=function(){return null===v?_.height()-(g.margins.top+g.margins.bottom):_.plotWidth()/v},_.xLeft=function(){return g.margins.left},_.xRight=function(){return g.width()-g.margins.right},_.yBottom=function(){return g.height()-g.margins.bottom},_.yTop=function(){return g.margins.top},_);return p.width=et.width,p.height=et.height,p.plotAspect=et.plotAspect,Object.defineProperty(p,"plot_width",{get:et.plotWidth}),Object.defineProperty(p,"plot_height",{get:et.plotHeight}),Object.defineProperty(p,"x_left",{get:et.xLeft}),Object.defineProperty(p,"x_right",{get:et.xRight}),Object.defineProperty(p,"y_bottom",{get:et.yBottom}),Object.defineProperty(p,"y_top",{get:et.yTop}),p.offsetLeft=(b=p,x=0,function(t){return void 0===t?x:(x=t,b)}),p.offsetTop=(w=p,M=0,function(t){return void 0===t?M:(M=t,w)}),p.margins=wx(p,e),p.xData=cx(p),p.yData=cx(p),p.y2Data=cx(p),p.xFormat=qm(p),p.yFormat=qm(p),p.y2Format=qm(p),p.xNumberParse=yb(p),p.yNumberParse=yb(p),p.y2NumberParse=yb(p),p.xDatetimeParse=vb(p),p.yDatetimeParse=vb(p),p.y2DatetimeParse=vb(p),p.xTitle=(j=e,(k=p).xAutoTitle=mx(k),k.xAutoTitle("X"),function(){return("auto"===j.x.title_mode?k.xAutoTitle():j.x.title).trim()}),p.yTitle=(T=e,(A=p).yAutoTitle=mx(A),A.yAutoTitle("Y"),function(){return("auto"===T.y.title_mode?A.yAutoTitle():T.y.title).trim()}),p.y2Title=(N=e,(z=p).y2AutoTitle=mx(z),z.y2AutoTitle("Y2"),function(){return("auto"===N.y2.title_mode?z.y2AutoTitle():N.y2.title).trim()}),p.xTicks=(D=p,I=(et=e).x,S=Object.freeze([]),E=D.chart.select(".fl-x-axes"),(et=function(){return S})._update=function(t){var g,_=D.xData().string_array?"string":"numeric",e=$b(G_(".fl-x-axes"),I.tick_label_size,I.tick_label_weight),m="default"===I.tick_label_position?+I.tick_label_angle:90,y=0,v=D.xFormat(),b=Vb(I.tick_label_size);E.append("text").style("opacity",0).style("font",e).each(function(){var t=G_(this).text(ux).node().getBoundingClientRect();g=t.height}).remove(),"object"===Zs(t[0])&&(t=dx(t,v));var n=Vb(I.tick_label_space);"auto"===I.tick_label_space_mode&&(n=D.xTicks.autoLabelSpace().px);var x=px({text_height:g,max_space:n,font:e,angle:90-m,max_lines:I.tick_label_max_lines});return(S=t.map(function(t,e){var n,r,i,o,a,s,l=x(v(t)),c=l.lines,u=l.text_width,f=0,d=g*c.length+(c.length-1)*I.tick_label_line_height;0==m||90==m?(n=r=(a=0==m?u+Vb(.5):d)/2,o=i=s=0==m?d:u,90==m&&(f=c.length<2?0:(c.length-1)/2*(b*I.tick_label_line_height))):(p=fx(m),l=Math.sin(p),a=(n=u*(p=Math.cos(p)))+(r=d*l),s=(i=u*l)+(o=d*p)),"top"!==I.axis_position&&"float-above"!==I.axis_position||(h=n,n=r,r=h,h=i,i=o,o=h,0!=m&&90!=m&&(f=c.length<2?0:(c.length-1)*(b*I.tick_label_line_height))),y=Math.max(y,s);var p="numeric"==_?nx(t):null,h="numeric"==_?ex(t):null;return Object.freeze({index:e,value:t,lines:c,significant_digits:p,exponent:h,text_width:u,text_height:g,box_width:a,box_height:s,box_width_left:n,box_width_right:r,box_height_left:i,box_height_right:o,multiline_offset:f})})).type=_,S.max_box_height="fixed"===I.tick_label_space_mode?Vb(I.tick_label_space):y,Object.freeze(S),D},et.autoLabelSpace=hx(D,"height"),et),p.yTicks=gx(p,e,"y"),p.y2Ticks=gx(p,e,"y2"),p.xAutoTicks=(L=_x(p,"x"),function(t){return L(t)}),p.yAutoTicks=(C=_x(p,"y"),function(t){return C(t)}),p.y2AutoTicks=(O=_x(p,"y2"),function(t){return O(t)}),p.xScale=d2(p,e),p.yScale=p2(p,e),p.y2Scale=h2(p,e),p.xPadding=(P=p,F=["px","steps"],R=Y=0,U="px",function(t){if(void 0===t)return{left:Y,right:R,unit:U};var e=t.unit;if(e&&!F.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.left;Y=void 0===e?Y:e;e=t.right;R=void 0===e?R:e;t=t.unit;return U=void 0===t?U:t,P}),p.yPadding=(B=p,H=["px","steps"],G=Z=0,q="px",function(t){if(void 0===t)return{bottom:Z,top:G,unit:q};var e=t.unit;if(e&&!H.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.bottom;Z=void 0===e?Z:e;e=t.top;G=void 0===e?G:e;t=t.unit;return q=void 0===t?q:t,B}),p.y2Padding=(Q=p,W=["px","steps"],X=V=0,$="px",function(t){if(void 0===t)return{bottom:V,top:X,unit:$};var e=t.unit;if(e&&!W.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));e=t.bottom;V=void 0===e?V:e;e=t.top;X=void 0===e?X:e;t=t.unit;return $=void 0===t?$:t,Q}),p.xMinStep=(J=p,function(){return f2(J.xData(),J.xScale())}),p.yMinStep=(K=p,function(){return f2(K.yData(),K.yScale())}),p.y2MinStep=(tt=p,function(){return f2(tt.y2Data(),tt.y2Scale())}),p.xFlipAxis=_2(p),p.yFlipAxis=_2(p),p.y2FlipAxis=_2(p),p.xZeroAxis=g2(p),p.yZeroAxis=g2(p),p.y2ZeroAxis=g2(p),p.xHide=m2(p),p.yHide=m2(p),p.y2Hide=m2(p),p.y2Hide(!0),p.update=z2(p,e),p}var D2={render_mode:"svg",height_mode:"auto",facet_aspect:62,beeswarm_plot:!1,box_plot:!1,box_line_width:.1,box_line_color:"#333333",box_opacity:.7,box_color:"#ffffff",box_whisker_type:"tukey",box_whisker_multiplier:1.5,violin_plot:!1,violin_bandwidth:null,violin_color:"#DADADA",violin_opacity:.8,violin_sizing:"area",violin_samples:50,facet_min_w:150,facet_min_h:100,facet_fixed_cols:!1,facet_cols:2,facet_gutter_w:1,facet_gutter_h:1,facet_header_color:"#888888",facet_header_font_size:1.25,facet_title_align:"auto",popup:{popup_width:16,panel_vertical_position:"center"},color:{},legend_container:{},legend_position:"above",legend_filtering_mode:"filter_out",text_legend:"off",text_legend_title:!0,text_legend_subtitle:!0,text_legend_bold:!0,legend_filter:[],categorical_legend:{swatch_width:1,swatch_radius:10,max_width:100},continuous_legend:{},lines_show:!0,line_width:.1,line_opacity:1,line_curve:"curveLinear",line_color_mode:"by_dot",line_color:"#000000",line_animate_in:!0,line_animate_out:!1,line_per_facet:!0,line_arrows:!1,line_arrow_size:5,line_arrow_color_mode:"auto",line_arrow_color:"#000000",show_dots:!0,data_point_default_size:50,data_point_min_size:5,data_point_max_size:500,fill_opacity:.8,stroke_opacity:0,stroke_width:1,default_color:"#188ce5",default_shape:"symbolCircle",responsive_dots:!0,stroke_mode:"auto",stroke_color:"#1D6996",labels_show:!1,labels_selective:!1,labels_selected:[],label_color:null,label_color_type:"auto",label_font_size:12,labels_responsive:"chart",label_font_size_min:9,label_font_size_max:12,label_bg_size:20,label_align:"auto",label_offset:"top",animation_duration:1,animation_stagger:0,margin_top:1,margin_right:0,margin_bottom:0,margin_left:0,x:{},x_matching:!0,x_single_row:!0,y:{},y_matching:!0,y_single_col:!0,chart_bg:{},controls_container:{},filter:{sort:!1},filter_updates_axes:"both",filter_show_all:!0,filter_show_all_text:"All",slider:{control_type:"slider",control_styles:!0},slider_updates_axes:"off",controls_style:{},button_style:{},dropdown_style:{},fit_type:"none",fit_force_origin:!1,fit_line_color:"#999999",fit_line_width:.1,fit_line_dash:0,annotations:{},axes_highlights:{},time_label_show:!0,time_label_font_size:100,time_label_color:null,time_label_opacity:.1,sort_categories:"spreadsheet",layout:{margin:10},x_formatting:{},y_formatting:{},color_formatting:{},url_state:{}};function I2(t){return N2(t,{x:D2.x,y:D2.y,background:D2.chart_bg})}function S2(t,e,n,r){t=t.map(function(t,e){return{value:t,options_index:e,parsed:n(t),display:r(t)}});return e?t.sort(function(t,e){return t=t.parsed,e=e.parsed,t<e?-1:e<t?1:e<=t?0:NaN}):t}var E2=!1;function L2(){var t,e,n;E2||"undefined"==typeof document||((n=new il).select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),n.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),n.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),n.select(".slider-holder").style("margin-bottom","20px"),n.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),n.select(".slider-play svg").style("height","100%").style("width","100%").style("display","block").style("cursor"," pointer",""),n.select(".fl-controls-slider svg").style("display","block"),n.select(".slider-play:hover").style("opacity","0.6"),n.select(".fl-control-slider").style("width","100%").style("bottom","0").style("align-items","center"),n.select(".fl-control").style("position","relative"),n.select(".fl-control.hidden").style("display","none"),n.select(".fl-control .button").style("display","inline-flex").style("align-items","center").style("background","#eee").style("padding","0 0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em").style("box-sizing","border-box"),n.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("vertical-align","middle").style("margin","0").style("text-align","center"),n.select(".fl-control .button.selected").style("background","#ddd"),n.select(".fl-control-dropdown").style("line-height","1em").style("position","relative"),n.select(".fl-control-dropdown::after").style("display","block").style("content","''").style("width","10px").style("height","10px").style("background","transparent").style("position","absolute").style("right","5px").style("left","auto").style("top","50%").style("pointer-events","none").style("transform","translateY(calc(-50% + 3px))").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-top","5px solid").style("box-sizing","border-box"),n.select(".is-rtl .fl-control-dropdown::after").style("left","5px").style("right","auto"),n.select(".fl-control-dropdown select").style("-webkit-appearance","none").style("-webkit-border-radius","0px").style("width","100%"),t=n.print(),e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),E2=!0)}var C2,O2,P2=(C2=document.createElement("canvas").getContext("2d"),function(t,e){return C2.font=e||"10px sans-serif",C2.measureText(t).width});function F2(o,a,n){function s(t){var e="100%";"auto"==a.dropdown_width_mode?e=Math.min(t+40,O2(20))+O2(1)+"px":"fixed"==a.dropdown_width_mode&&(e=O2(a.dropdown_width_fixed)+"px"),n.style.width="full"==a.dropdown_width_mode?e:"",r.style("width",e).style("display","full"!==a.dropdown_width_mode?"inline-table":null)}function l(){r.style("display","none")}var c={},r=Fs(n).append("div").attr("class","fl-control fl-control-dropdown").style("display","none"),u=r.append("select").on("change",function(){var t=u.select("option:checked").datum().options_index;o.index(t),o.trigger("change")});return c.show=s,c.hide=l,c.update=function(t){var e=window.getComputedStyle(u.node()).fontSize;if(!o.n_options||"dropdown"!==a.control_type)return l(),c;var n=u.selectAll("option").data(t,function(t){return t.value});n.exit().remove();var t=n.enter().append("option").text(function(t){return t.display}).attr("value",function(t){return t.value}),r=0,i=e+" sans-serif";return"auto"===a.dropdown_width_mode&&n.merge(t).each(function(t){t=P2(t.display,i);r=Math.max(r,t)}),s(r),c},c}function Y2(i,o,t){function a(){c.classed("hidden",!1)}function s(){c.classed("hidden",!0)}var l={},c=Fs(t).append("div").attr("class","fl-control fl-control-buttons");return l.show=a,l.hide=s,l.update=function(t){if(!i.n_options||"buttons"!==o.control_type)return s(),l;var e=i.index();c.classed("grouped",o.button_group),c.classed("fixed-width","fixed"==o.button_group_width_mode||"full"==o.button_group_width_mode),c.style("width",o.button_group&&"fixed"==o.button_group_width_mode?O2(o.button_group_width_fixed)+"px":"full"==o.button_group_width_mode?"100%":null);function n(t){(t=t.options_index)!==i.index()&&(i.index(t),i.trigger("change"))}var r=c.selectAll(".button").data(t,function(t){return t.display}),t=r.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",function(t){n(t)}).on("keyup",function(t){"Space"!==Ns.code&&"Enter"!==Ns.code||(Ns.preventDefault(),n(t))});t.append("span").text(function(t){return t.display}),a(),r.merge(t).classed("selected",function(t){return t.options_index===e}).attr("aria-pressed",function(t){return t.options_index===e}),r.exit().remove(),a()},l}function R2(t,e,n,r){var i=We(u(t)),t="<"+e;return""!==n&&(t+=" "+n+'="'+B2(We(r),U2,"&quot;")+'"'),t+">"+i+"</"+e+">"}var U2=/"/g,B2=v("".replace),sy=function(e){return _(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})};$t({target:"String",proto:!0,forced:sy("anchor")},{anchor:function(t){return R2(this,"a","name",t)}});var H2=Array.prototype.slice;function Z2(t){return t}var G2=1,q2=2,Q2=3,W2=4,V2=1e-6;function X2(t){return"translate("+(t+.5)+",0)"}function $2(t){return"translate(0,"+(t+.5)+")"}function J2(e){return function(t){return+e(t)}}function K2(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}function tw(){return!this.__axis}function ew(t){return h=t,g=[],m=_=null,v=y=6,b=3,x=(p=Q2)===G2||p===W2?-1:1,w=p===W2||p===q2?"x":"y",M=p===G2||p===Q2?X2:$2,e.scale=function(t){return arguments.length?(h=t,e):h},e.ticks=function(){return g=H2.call(arguments),e},e.tickArguments=function(t){return arguments.length?(g=null==t?[]:H2.call(t),e):g.slice()},e.tickValues=function(t){return arguments.length?(_=null==t?null:H2.call(t),e):_&&_.slice()},e.tickFormat=function(t){return arguments.length?(m=t,e):m},e.tickSize=function(t){return arguments.length?(y=v=+t,e):y},e.tickSizeInner=function(t){return arguments.length?(y=+t,e):y},e.tickSizeOuter=function(t){return arguments.length?(v=+t,e):v},e.tickPadding=function(t){return arguments.length?(b=+t,e):b},e;function e(t){var e=null==_?h.ticks?h.ticks.apply(h,g):h.domain():_,n=null==m?h.tickFormat?h.tickFormat.apply(h,g):Z2:m,r=Math.max(y,0)+b,i=h.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(h.bandwidth?K2:J2)(h.copy()),l=t.selection?t.selection():t,c=l.selectAll(".domain").data([null]),u=(d=l.selectAll(".tick").data(e,h).order()).exit(),f=d.enter().append("g").attr("class","tick"),i=d.select("line"),e=d.select("text"),c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),d=d.merge(f),i=i.merge(f.append("line").attr("stroke","currentColor").attr(w+"2",x*y)),e=e.merge(f.append("text").attr("fill","currentColor").attr(w,x*r).attr("dy",p===G2?"0em":p===Q2?"0.71em":"0.32em"));t!==l&&(c=c.transition(t),d=d.transition(t),i=i.transition(t),e=e.transition(t),u=u.transition(t).attr("opacity",V2).attr("transform",function(t){return isFinite(t=s(t))?M(t):this.getAttribute("transform")}),f.attr("opacity",V2).attr("transform",function(t){var e=this.parentNode.__axis;return M(e&&isFinite(e=e(t))?e:s(t))})),u.remove(),c.attr("d",p===W2||p==q2?v?"M"+x*v+","+o+"H0.5V"+a+"H"+x*v:"M0.5,"+o+"V"+a:v?"M"+o+","+x*v+"V0.5H"+a+"V"+x*v:"M"+o+",0.5H"+a),d.attr("opacity",1).attr("transform",function(t){return M(s(t))}),i.attr(w+"2",x*y),e.attr(w,x*r).text(n),l.filter(tw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",p===q2?"start":p===W2?"end":"middle"),l.each(function(){this.__axis=s})}var p,h,g,_,m,y,v,b,x,w,M}var H0=Array.prototype,nw=H0.map,rw=H0.slice;function iw(t){return+t}var ow=[0,1];function aw(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=n,function(){return t});var t}function sw(t,e,n,r){var i=t[0],t=t[1],o=e[0],e=e[1],o=t<i?(i=n(t,i),r(e,o)):(i=n(i,t),r(o,e));return function(t){return o(i(t))}}function lw(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=Hs(n,t,1,i)-1;return a[e](o[e](t))}}function cw(e,n){var r,o,a,s=ow,l=ow,c=zu,u=!1;function i(){return r=2<Math.min(s.length,l.length)?lw:sw,o=a=null,t}function t(t){return(o=o||r(s,l,u?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,c))(+t);var i}return t.invert=function(t){return(a=a||r(l,s,aw,u?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n))(+t);var i},t.domain=function(t){return arguments.length?(s=nw.call(t,iw),i()):s.slice()},t.range=function(t){return arguments.length?(l=rw.call(t),i()):l.slice()},t.rangeRound=function(t){return l=rw.call(t),c=Nu,i()},t.clamp=function(t){return arguments.length?(u=!!t,i()):u},t.interpolate=function(t){return arguments.length?(c=t,i()):c},i()}function uw(s){var l=s.domain;return s.ticks=function(t){var e=l();return Js(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],o=t[t.length-1],a=tl(i,o,null==e?10:e);switch((n=Sf(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Uf(a,s))||(n.precision=r),Qf(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=Bf(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Rf(a))||(n.precision=r-2*("%"===n.type))}return qf(n)}(l(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=Ks(o,a,t))?e=Ks(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=Ks(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,l(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,l(n)),s},s}function fw(){var e=cw(aw,Mu);return e.copy=function(){return t=e,fw().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp());var t},uw(e)}function dw(t){this.container=Fs(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}for(var pw in new dw)!function(e){0<e.length&&"_"==e.charAt(0)&&(dw.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}(pw);function hw(t,e){return"boolean"==typeof t?t?Math.round(e):e:function t(e,n,r,i){if((i=void 0===i?e.length:i)-(r=void 0===r?0:r)==0)return n;if(i-r==1)return e[r];if(i-r==2)return Math.abs(e[r]-n)<=Math.abs(e[r+1]-n)?e[r]:e[r+1];var o=r+Math.floor((i-r)/2),a=e[o],s=e[o-1];return s<=n&&n<=a?Math.abs(s-n)<=Math.abs(a-n)?s:a:a<=n?t(e,n,o,i):t(e,n,r,o)}(t,e)}function gw(t){return new dw(t)}function _w(o,a,t){function s(t){(t=l[t]).options_index!==o.index()&&(o.index(t.options_index),o.trigger("change"))}function i(){d.classed("playing",!0),p.html(n),v(),o._isPlaying_(!0),u=!0}var e,n,r,l,c,u,f={},d=Fs(t).append("div").attr("class","fl-control fl-control-slider animatable"),p=d.append("div").attr("class","slider-play"),h=d.append("div").attr("class","fl-controls-slider"),g=null,_=function(){clearTimeout(g),g=null},m=gw(h.node()).snap(!0).on("change",function(t){var e=null!==g;e&&_(),s(t),e&&v()}),y=function(){_(),d.classed("playing",!1),p.html(e),o._isPlaying_(!1),u=!1},v=function t(){var e=o.getSortedIndex(),n=c[e],r=o.n_options-1,i=e<r?e+1:0;g=setTimeout(function(){s(i),(a.slider_loop||i<r?t:y)()},n)};p.on("click",function(){(null===g?i:y)()});function b(){return d.style("display","inline-flex"),function(){var t=Math.round(O2(a.slider_handle_height)/2);d.style("width",Math.round(O2(a.slider_width))+"px"),p.style("height",2*t+"px").style("width",2*t+"px").style("display",a.slider_play_button?null:"none");var e=d.node().getBoundingClientRect().width,n=a.slider_play_button?2*t:0;h.style("width",Math.max(e-n,1)+"px").style("height",2*t+"px"),m.handleRadius(t).margin({left:t+5,right:t+O2(a.slider_margin),top:t})}(),a.slider_play_button?d.classed("animatable",!0):(y(),d.classed("animatable",!1)),r!==a.slider_handle_color&&(m.update(),r=a.slider_handle_color||"currentColor",d.select(".slider-handle").style("fill",r),e='<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+r+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',n='<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+r+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',p.html(g?n:e)),f}function x(){return y(),d.style("display","none"),f}return f.show=b,f.hide=x,f.update=function(t){if(l=t,!o.n_options||"slider"!==a.control_type)return x(),f;b();var n=o.n_options,r=a.slider_loop;c=l.map(function(t,e){return 1e3*(a.slider_step_time+(r&&e===n-1?a.slider_restart_pause:0))});var e=o.getSortedIndex(),t=l[e];return m.domain([0,n-1]).value(e).endLabel(t.display).channelHeight(Math.round(O2(a.slider_track_height))).channelFill(a.slider_background_color).update(),m.container.select("svg").attr("fill","currentColor"),h.select("text.slider-end-labels").style("fill",a.slider_font_color).attr("y","0").attr("dy","0.25em"),o._isPlaying_()&&!u?i():!o._isPlaying_()&&u&&y(),f},f}dw.prototype.margin=function(t){if(!t)return this._margin;for(pw in t){if(!(pw in this._margin))throw"Slider.margin: unrecognised option "+pw;this._margin[pw]=t[pw]}return this},dw.prototype.on=function(t,e){if(!(t in this.handlers))throw"Slider.on: No such event: "+t;return this.handlers[t].push(e),this},dw.prototype.fire=function(t,e){if(!(t in this.handlers))throw"Slider.fire: No such event: "+t;for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},dw.prototype.draw=function(){var e=this,t=this._width,n=this._height,r=this.container.node();if(!t){var i=r.getBoundingClientRect();if(!i||0==i.width)return this;t=i.width,n=i.height}var o=null==this._channelRadius?this._channelHeight/2:this._channelRadius,a=null==this._margin.left?Math.max(this._handleRadius,o):this._margin.left,s=null==this._margin.right?Math.max(this._handleRadius,o):this._margin.right,l=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,c=t-a-s,i=c+2*o,s=1.5*this._labelSize;null!=this._label&&null==this._margin.top&&(l+=s),"http://www.w3.org/2000/svg"==r.namespaceURI?u=this.container:((u=this.container.selectAll("svg").data([{width:t,height:n}])).exit().remove(),(u=u.enter().append("svg").merge(u)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var u=u.selectAll("g.slider-container").data([{left:a,top:l,id:this._id}]);u.exit().remove(),(u=u.enter().append("g").attr("class","slider-container").merge(u)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():fw()).domain(this._domain).range([0,c]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=hw(this._snap,this._value));a=[];this._axis&&(l="boolean"!=typeof this._axis?this._axis(this.scale):ew().scale(this.scale).tickPadding(6),this._ticks&&l.ticks(this._ticks),this._tickFormat&&l.tickFormat(this._tickFormat),this._tickSize?l.tickSize(this._tickSize):l.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),a.push(l));var f,d,p,a=u.selectAll(".slider-axis").data(a).enter();function h(){document.removeEventListener("mouseup",h,!1),document.removeEventListener("mousemove",g,!1)}function g(t){y(t.clientX-d)}function _(){document.removeEventListener("touchend",_,!1),document.removeEventListener("touchmove",m,!1)}function m(t){1==t.touches.length&&y(t.touches[0].clientX-d)}function y(t){t=p+t,t=Math.max(0,Math.min(c,t)),t=e.scale.invert(t);e._snap&&(t=hw(e._snap,t)),f.attr("cx",e.scale(t)),t!=e._value&&(e._value=t,e.fire("change",e._value))}a.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(Fs(this))}),a.select(".domain").attr("fill","none"),a.selectAll(".tick line").attr("stroke","black"),a.exit().remove(),(i=u.selectAll(".slider-channel").data([{width:i,height:this._channelHeight,channel_r:o}])).exit().remove(),(i=i.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(c,Ys(this)[0]));e._value=e.scale.invert(t),e._snap&&(e._value=hw(e._snap,e._value)),f.attr("cx",e.scale(e._value)),e.fire("change",e._value)}).merge(i)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(f=(f=u.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(f)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){var t;Ns.preventDefault(),t=Ns,document.addEventListener("mouseup",h,!1),document.addEventListener("mousemove",g,!1),d=t.clientX,p=e.scale(e._value)}).on("touchstart",function(){var t;Ns.preventDefault(),1==(t=Ns).touches.length&&(document.addEventListener("touchend",_,!1),document.addEventListener("touchmove",m,!1),d=t.touches[0].clientX,p=e.scale(e._value))});i=[];this._label&&i.push({label:this._label,x:c/2,y:-s,font_size:this._labelSize});i=u.selectAll(".slider-label").data(i);i.exit().remove(),(i=i.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(i)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);i=[];this._startLabel&&i.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&i.push({label:this._endLabel,x:this._endLabelBelow?c:c+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});i=u.selectAll(".slider-end-labels").data(i);return i.exit().remove(),(i=i.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(i)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},dw.prototype.update=dw.prototype.draw,gw.version="1.4.2";var mw=Object.freeze({alignment:"start",controls_spacing:1});function yw(t){for(var e in this._state=t,mw)void 0===this._state[e]&&(this._state[e]=mw[e]);return this}yw.prototype.appendTo=function(t){return this._container=Fs(t).append("div").node(),this},yw.prototype.add=function(t){return this._controls=Array.isArray(t)?t:[t],this._controls.forEach(function(t){t&&"function"==typeof t.appendTo?t.appendTo(this._container):console.warn("Please pass valid controls instances to .add()")},this),this},yw.prototype.update=function(){this._controls.forEach(function(t){t&&"function"==typeof t.update&&t.update()});var t=this._state.alignment,e="center"==t?t:"flex-"+t,n=window.template||void 0,n=n?n.state.layout:void 0,n=n&&n.read_direction||Fs("body").node().dir||"ltr",t="rtl"===n&&"center"!==t?"start"===t?"end":"start":t;Fs(this._container).classed("is-rtl","rtl"==n).style("display","flex").style("flex-wrap","wrap").style("justify-content",e);var r,i,e=Fs(this._container).selectAll(".fl-controls-container"),o=this._state.controls_spacing;switch(t){case"end":r=o+"em",i=0;break;case"center":i=r=.5*o+"em";break;default:r=0,i=o+"em"}return e.style("margin-left",r).style("margin-right",i),this};var vw=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:!1,_index_:null,_is_playing_:!1});function bw(t){return t}function xw(t){return null==t?"":t.toString()}function ww(i){var r={},n=bw,o=xw,a=[],s=[],l=[],c=document.createElement("div");c.setAttribute("class","fl-controls-container");var t,u=Fs(c).append("div").attr("class","fl-controls-title"),f=F2(r,i,c),d=Y2(r,i,c),p=_w(r,i,c);for(t in vw)void 0===i[t]&&(i[t]=vw[t]);var h=i._index_;r.appendTo=function(t){return L2(),Fs(t).node().appendChild(c),r};r.remove=function(){return c.parentElement&&c.parentElement.removeChild(c),r},r.options=function(t){if(void 0===t)return a.slice();if(!Array.isArray(t))return r;var e=(a=t.slice()).length,t=g();return e?(null===t||e<=t)&&g(0):g(null),r},Object.defineProperty(r,"n_options",{get:function(){return a.length}});var g=function(t){return void 0===t?h=i._is_playing_?h:i._index_:(null===t||(e=t,a.length&&0<=e&&e<a.length)?(h=t,i._is_playing_||(i._index_=h)):console.warn("Invalid index, ignoring update call"),r);var e};r.index=g,r.getSortedIndex=function(){var n,r=g();return"unsorted"==i.sort?r:(s.some(function(t,e){if(t.options_index===r)return n=e,!0}),n)},r.value=function(t){if(void 0===t)return a[g()];t=a.indexOf(t);return-1!==t&&g(t),r},r.on=function(t,e){return"change"===t&&l.push(e.bind(r)),r},r.parser=function(t){return void 0===t?n:(n=null===t?bw:t,r)},r.formatter=function(t){return void 0===t?o:(o=null===t?xw:t,r)},r.update=function(){var e,t;return e=parseFloat(getComputedStyle(document.documentElement).fontSize)||16,O2=function(t){return t*e},s=S2(a,i.sort,n,o),t=s,c.style.display=1<t.length?null:"none",c.style.width="",u.node().innerHTML=i.control_title,u.node().style.display=""===i.control_title?"none":"inline-block",p.update(t),f.update(t),d.update(t),r},r.trigger=function(t){var e,n;return"change"===t&&(e=g(),n=a[e],l.forEach(function(t){t(n,e)})),r},r.getNode=function(){return c};return r._isPlaying_=function(t){if(void 0===t)return i._is_playing_;i._is_playing_=!!t,t||g(h)},r}var Mw,kw={},jw="$-&^:*%";function Aw(t,e,n){return{x:"filter"in kw.data.column_names&&("both"==D2.filter_updates_axes||"x"==D2.filter_updates_axes),y:"filter"in kw.data.column_names&&("both"==D2.filter_updates_axes||"y"==D2.filter_updates_axes)}[e]&&(t=t.filter(Tw)),{x:"slider"in kw.data.column_names&&("both"==D2.slider_updates_axes||"x"==D2.slider_updates_axes),y:"slider"in kw.data.column_names&&("both"==D2.slider_updates_axes||"y"==D2.slider_updates_axes)}[e]&&(t=t.filter(zw)),"string"!=n?Ws(t,function(t){return t[e]}):yc(t.map(function(t){return t[e]}).filter(function(t){return null!=t})).values()}function Tw(t){var e=l7.value();return(null==e||e==t.filter||D2.filter_show_all&&e==D2.filter_show_all_text)&&("off"==D2.legend_filtering_mode||-1==D2.legend_filter.indexOf(t.color))}function zw(t){var e=c7.value();return null==e||p7(e)==p7(t.slider)}var Nw,Dw,Iw,Sw,Ew,Lw,Cw,Ow,Pw,Fw,Yw=[];function Rw(d){if(!kw.data.processed||Dw!=c7.value()||Nw!=l7.value()||Sw!=D2.box_plot||Ew!=D2.violin_plot||Iw!=D2.beeswarm_plot||Lw!=D2.box_whisker_multiplier||Yw!==D2.legend_filter.join(jw)||Cw!==D2.legend_filtering_mode||Ow!==D2.filter_updates_axes||Pw!==D2.slider_updates_axes||Fw!==D2.line_per_facet){var a=kw.data.metadata,s=!("x"in kw.data.column_names),l=!("y"in kw.data.column_names),p=kw.data.map(function(t,e){var n,r,i=(n=t,r={},Object.keys(n).forEach(function(t){Array.isArray(n[t])?r[t]=n[t].map(function(t){return t}):r[t]=n[t]}),r);if(i.row=e,s?i.x="":null===i.x&&"number"==a.x.type&&(i.x=NaN),l?i.y="":null===i.y&&"number"==a.y.type&&(i.y=NaN),null===i.size&&"number"==a.size.type&&(i.size=NaN),i.name.length){i.id="";for(var o=0;o<i.name.length;o++)i.id+=i.name[o]+(o<i.name.length-1?", ":"")}return i});p.column_names=kw.data.column_names;for(var t=0;t<d.length;t++){var e,n=d[t];void 0!==p.column_names[n]&&(e=a[n]?a[n].type:"string",p[n+"_type"]=e,p[n+"_domain"]=Aw(p,n,e))}if(s&&(p.x_type="string",p.x_domain=[""]),l&&(p.y_type="string",p.y_domain=[""]),"number"===p.x_type||"number"===p.y_type){for(var t=0,r=0;t<p.length;t++){var i=p[t],o="number"===i.x_type&&isNaN(i.x),c="number"===i.y_type&&isNaN(i.y);o||c||(p[r++]=i)}p.length=r}var h=null,g=null,_="string"==p.x_type&&"number"==p.y_type||"number"==p.x_type&&"string"==p.y_type,m=D2.box_plot||D2.violin_plot||D2.beeswarm_plot;m&_&&("string"==p.x_type?(h="x",g="y"):"number"==p.x_type&&(h="y",g="x"));for(var u,f=p.filter(Tw),t=0;t<f.length;t++)f[t].row_filtered=t;for(u in p)"string"!=typeof p[u]&&!Array.isArray(p[u])&&"column_names"!=u||(f[u]=p[u]);var y,v=dc().key(function(t){return t.facet||""}).sortKeys(function(t,e){return Rs(p.facet_domain.indexOf(t),p.facet_domain.indexOf(e))}).entries(f),b={},x=[],w=[];for(y in v.forEach(function(t,e){t.name=t.key,t.values_slider=t.values.filter(zw);for(var n=0;n<d.length;n++){var r=d[n];t[r+"_domain"]=Aw(t.values,r,p[r+"_type"])}if(m&_){for(var i,o={},n=0;n<t.values_slider.length;n++){var a=t.values_slider[n];a[h]in o||(o[a[h]]=[]),o[a[h]].push(a)}for(i in o){var s={};s.data_points=o[i];var l,c=o[i].map(function(t){return t[g]}).filter(function(t){return!isNaN(t)}).sort(Rs);c.length<2||(s.facet_index=e,s.values=c,s.category=i,s.category_col=h,s.value_col=g,s.bottom=el(c,.25),s.mid=el(c,.5),s.top=el(c,.75),s.whisker_bottom=c[0],s.whisker_top=c[c.length-1],l=s.top-s.bottom,s.whisker_tukey_bottom=Math.min(c[Hs(c,s.bottom-D2.box_whisker_multiplier*l)],s.bottom),s.whisker_tukey_top=Math.max(c[Gs(c,s.top+D2.box_whisker_multiplier*l)-1],s.top),isNaN(s.whisker_tukey_bottom)&&(s.whisker_tukey_bottom=s.mid),isNaN(s.whisker_tukey_top)&&(s.whisker_tukey_top=s.mid),w.push(s))}}for(n=0;n<t.values.length;n++){var u,f=t.values[n];f.facet_index=e,f.facet=t,"series"in p.column_names&&(u=("line-"+f.series).replace(/\s/g,"-"),D2.line_per_facet&&(u+=("-facet-"+t.name).replace(/\s/g,"-")),""!=f.series&&(u in b||(b[u]=[]),"number"==typeof f.x&&isNaN(f.x)||"number"==typeof f.y&&isNaN(f.y)||b[u].push(f),b[u].id=u,b[u].facet_index=e))}}),b)1<b[y].length&&x.push(b[y]);m&&(w.category_col=h,w.value_col=g);for(var M=[],t=0;t<v.length;t++)0<v[t].values.length&&M.push(v[t]);(Mw={facets:M,data_points:f,boxes:w,lines:x}).discrete_vs_numerical=_,Mw.has_facet_binding="facet"in kw.data.column_names,Nw=l7.value(),Dw=c7.value(),Iw=D2.beeswarm_plot,Sw=D2.box_plot,Ew=D2.violin_plot,Lw=D2.box_whisker_multiplier,Yw=D2.legend_filter.join(jw),Cw=D2.legend_filtering_mode,Ow=D2.filter_updates_axes,Pw=D2.slider_updates_axes,Fw=D2.line_per_facet,kw.data.processed=!0}}var Uw=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),Bw=360/((1+Math.sqrt(5))/2),Hw="#FF0000";function Zw(l,c,u){return function(t,e){Array.isArray(t)||(t=t?[t]:[Hw]),e=void 0!==e?e:Bw;var n=t.map(function(t){return l(t)}).filter(function(t){return!isNaN(t[c])&&!isNaN(t[u])});n.length||(n=[l(Hw)]);for(var r,t=n.length,i=n.reduce(function(t,e){return t+e[c]},0)/t,o=n.reduce(function(t,e){return t+e[u]},0)/t,a=t;r=n[--a].h,isNaN(r)&&0<a;);var s=0;return function(){var t=++s*e;return Li(l((r+t)%360,i,o)).hex()}}}var Gw={hcl:Zw(uo,"c","l"),hsl:Zw(Gi,"s","l")};function qw(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Qw(t){return Bc(t[t.length-1])}tt=Qw(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qw)),Y=Qw(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qw)),R=Qw(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qw)),fe=Qw(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qw)),Re=Qw(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qw)),h=Qw(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qw)),My=Qw(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qw)),Ty=Qw(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qw)),qt=Qw(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qw)),Bt=Qw(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qw)),O=Qw(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qw)),Yt=Qw(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qw)),we=Qw(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qw)),Rt=Qw(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qw)),s=Qw(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qw)),Ue=Qw(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qw)),F=Qw(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qw)),te=Qw(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qw)),tn=Qw(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qw)),w1=Qw(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qw)),Pe=Qw(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qw)),nt=Qw(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qw)),g=Qw(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qw)),mu=Qw(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qw)),$e=Qw(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qw)),S_=Qw(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qw)),ee=Qw(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qw)),Be=Gu(Do(300,.5,0),Do(-240,.5,1)),En=Gu(Do(-100,.75,.35),Do(80,1.5,.8)),On=Gu(Do(260,.75,.35),Do(80,1.5,.8));function Ww(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}Do();de=Ww(qw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ee=Ww(qw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),P=Ww(qw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),H0=Ww(qw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Vw(t,e,n,r){var i,o=e[0],a=e[e.length-1],s=[];"custom"==t.bin_mode?l=(i=t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)}).sort(Xw)).length+1:(l=Math.floor(t.bin_count),i=[]);var l=function(t,e,n){for(var r=1/e,i=[],o=0;o<e;o++){var a=o/e+r/2,a=n[0]+a*(n[n.length-1]-n[0]);i.push(a)}t=i.map(t);return{positions:i,colors:t}}(r,l,e),c="fixed"==t.bin_mode?function t(){var e,n=0,r=1,i=1,o=[.5],a=[0,1];function s(t){return t<=t?a[Hs(o,t,0,i)]:e}function l(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return s}return s.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},s.range=function(t){return arguments.length?(i=(a=bc.call(t)).length-1,l()):a.slice()},s.invertExtent=function(t){return(t=a.indexOf(t))<0?[NaN,NaN]:t<1?[n,o[0]]:i<=t?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(t){return arguments.length&&(e=t),s},s.thresholds=function(){return o.slice()},s.copy=function(){return t().domain([n,r]).range(a).unknown(e)},Nl.apply(Hf(s),arguments)}().domain([o,a]):"quantile"==t.bin_mode?td().domain(n):function t(){var e,n=[.5],r=[0,1],i=1;function o(t){return t<=t?r[Hs(n,t,0,i)]:e}return o.domain=function(t){return arguments.length?(n=bc.call(t),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(t){return arguments.length?(r=bc.call(t),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(t){return t=r.indexOf(t),[n[t-1],n[t]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(r).unknown(e)},Nl.apply(o,arguments)}().domain(i);c.range(l.colors),i.length||l.colors.forEach(function(t,e){e&&i.push(c.invertExtent(t)[0])}),i.forEach(function(t,e){e<i.length-1&&s.push((i[e+1]+t)/2)});l=function(t){return isNaN(t)?null:c(t)};return l.domain=Object.freeze(e),l.thresholds=Object.freeze(i),l.centers=Object.freeze(s),l}function Xw(t,e){return t-e}function $w(t){return Array.isArray(t)?Ws(t):[0,1]}var Gu=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),Jw=Object.freeze({Blues:nt,BuGn:Bt,BuPu:O,Carrots:Bc(Gu),Cool:On,CubehelixDefault:Be,GnBu:Yt,Greens:g,Greys:mu,Inferno:P,Magma:Ee,Oranges:ee,OrRd:we,Plasma:H0,PuBu:s,PuBuGn:Rt,PuRd:Ue,Purples:$e,RdPu:F,Reds:S_,Viridis:de,Warm:En,YlGn:tn,YlGnBu:te,YlOrBr:w1,YlOrRd:Pe}),Kw={hcl:Hu,hsl:Le,lab:Uu,rgb:zc};function t3(i,t){function e(t){return isNaN(t)?null:r(t)}var n=i.sequential_custom_domain&&!i.binning?[i.sequential_domain_min,i.sequential_domain_max]:$w(t),r=nd(function(t){var e,n,r,e=Jw[i.sequential_palette]||(n=(e=i).sequential_color_space,r=i.sequential_custom_min,e=i.sequential_custom_max,Kw[n](r,e));return i.sequential_reverse?e(1-t):e(t)}).domain(n);return e.domain=Object.freeze(n),i.binning?Vw(i,n,t,e):e}var e3=Object.freeze({BrBG:tt,PiYG:R,PRGn:Y,PuOr:fe,RdBu:Re,RdGy:h,RdYlBu:My,RdYlGn:Ty,Spectral:qt}),n3={hcl:Hu,hsl:Le,lab:Uu,rgb:zc};function r3(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,t=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(n3[e],[n,r,t])}var i3,o3=function(l){var t,c=null;for(t in Uw)void 0===l[t]&&(l[t]=Uw[t]);function u(t){return c&&c(t)||e}var e=null;return{getColor:u,updateColorScale:function(t){var e,n,r,i,o,a,s;return"string"==typeof t[0]?(e=l,i={},o=yc(n=t).values(),a=e.categorical_palette,s=a.length,e.categorical_extend?(n=Uw.rotation_angle,r=Gw.hcl(a,n),o.forEach(function(t,e){i[t]=e<s?a[e]:r()})):o.forEach(function(t,e){i[t]=a[e%s]}),e.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e,n=t.lastIndexOf(":");-1!==n&&(e=t.slice(0,n).trim(),n=t.slice(n+1).trim(),e&&n&&(i[e]=n))}),(e=function(t){return i[t]}).domain=o.slice(),e.colors=o.map(function(t){return i[t]}),e.items=o.map(function(t){return{label:t,color:i[t]}}),c=e):"sequential"===l.numeric_type?c=t3(l,t):"diverging"===l.numeric_type&&(c=function(n,t){var e=$w(t),r=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,i=[e[0],r,e[1]];n.diverging_custom_domain&&(n.binning?i[1]=n.diverging_domain_mid:i=[n.diverging_domain_min,n.diverging_domain_mid,n.diverging_domain_max]);var o=rd(function(t){var e=e3[n.diverging_palette]||r3(n);return n.diverging_reverse?e(1-t):e(t)}).domain(i);return(e=function(t){return isNaN(t)?null:o(t)}).domain=Object.freeze(i),e.midpoint=n.diverging_custom_domain?n.diverging_domain_mid:r,n.binning?Vw(n,i,t,e):e}(l,t)),u.thresholds=c.thresholds,u.centers=c.centers,u.midpoint=c.midpoint,u.domain=c.domain,u.colors=c.colors,u.items=c.items,this},fallback:function(t){return void 0===t?e:(e="default"===t?null:t,this)}}}(D2.color);function a3(t){return"number"!=i3||!isNaN(t)&&null!==t?o3.getColor(t):D2.default_color}var s3=Math.PI,l3=2*s3,c3=1e-6,u3=l3-c3;function f3(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d3(){return new f3}function p3(t){return function(){return t}}f3.prototype=d3.prototype={constructor:f3,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o,a,s=this._x1,l=this._y1,c=(n=+n)-(t=+t),u=(r=+r)-(e=+e),f=s-t,d=l-e,p=f*f+d*d;if((i=+i)<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):c3<p&&(Math.abs(d*c-u*f)>c3&&i?(a=c*c+u*u,s=(o=n-s)*o+(n=r-l)*n,r=Math.sqrt(a),l=Math.sqrt(p),l=(s=i*Math.tan((s3-Math.acos((a+p-s)/(2*r*l)))/2))/l,r=s/r,Math.abs(l-1)>c3&&(this._+="L"+(t+l*f)+","+(e+l*d)),this._+="A"+i+","+i+",0,0,"+ +(f*n<d*o)+","+(this._x1=t+r*c)+","+(this._y1=e+r*u)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,r=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>c3||Math.abs(this._y1-c)>c3)&&(this._+="L"+l+","+c),n&&(u3<(r=r<0?r%l3+l3:r)?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):c3<r&&(this._+="A"+n+","+n+",0,"+ +(s3<=r)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var h3=Math.PI,g3=2*h3;function _3(t){this._context=t}function m3(t){return new _3(t)}function y3(t){return t[0]}function v3(t){return t[1]}function b3(){var a=y3,s=v3,l=p3(!0),c=null,u=m3,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==c&&(f=u(r=d3())),e=0;e<=i;++e)!(e<i&&l(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:p3(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:p3(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:p3(!!t),e):l},e.curve=function(t){return arguments.length?(u=t,null!=c&&(f=u(c)),e):u},e.context=function(t){return arguments.length?(null==t?c=f=null:f=u(c=t),e):c},e}function x3(){var u=y3,f=null,d=p3(0),p=v3,h=p3(!0),g=null,_=m3,m=null;function e(t){var e,n,r,i,o,a=t.length,s=!1,l=new Array(a),c=new Array(a);for(null==g&&(m=_(o=d3())),e=0;e<=a;++e){if(!(e<a&&h(i=t[e],e,t))===s)if(s=!s)n=e,m.areaStart(),m.lineStart();else{for(m.lineEnd(),m.lineStart(),r=e-1;n<=r;--r)m.point(l[r],c[r]);m.lineEnd(),m.areaEnd()}s&&(l[e]=+u(i,e,t),c[e]=+d(i,e,t),m.point(f?+f(i,e,t):l[e],p?+p(i,e,t):c[e]))}if(o)return m=null,o+""||null}function t(){return b3().defined(h).curve(_).context(g)}return e.x=function(t){return arguments.length?(u="function"==typeof t?t:p3(+t),f=null,e):u},e.x0=function(t){return arguments.length?(u="function"==typeof t?t:p3(+t),e):u},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:p3(+t),e):f},e.y=function(t){return arguments.length?(d="function"==typeof t?t:p3(+t),p=null,e):d},e.y0=function(t){return arguments.length?(d="function"==typeof t?t:p3(+t),e):d},e.y1=function(t){return arguments.length?(p=null==t?null:"function"==typeof t?t:p3(+t),e):p},e.lineX0=e.lineY0=function(){return t().x(u).y(d)},e.lineY1=function(){return t().x(u).y(p)},e.lineX1=function(){return t().x(f).y(d)},e.defined=function(t){return arguments.length?(h="function"==typeof t?t:p3(!!t),e):h},e.curve=function(t){return arguments.length?(_=t,null!=g&&(m=_(g)),e):_},e.context=function(t){return arguments.length?(null==t?g=m=null:m=_(g=t),e):g},e}_3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var w3={draw:function(t,e){e=Math.sqrt(e/h3);t.moveTo(e,0),t.arc(0,0,e,0,g3)}},h={draw:function(t,e){e=Math.sqrt(e/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},M3=Math.sqrt(1/3),k3=2*M3,My={draw:function(t,e){var n=Math.sqrt(e/k3),e=n*M3;t.moveTo(0,-n),t.lineTo(e,0),t.lineTo(0,n),t.lineTo(-e,0),t.closePath()}},Ty=Math.sin(h3/10)/Math.sin(7*h3/10),j3=Math.sin(g3/10)*Ty,A3=-Math.cos(g3/10)*Ty,qt={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=j3*n,i=A3*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=g3*o/5,s=Math.cos(a),a=Math.sin(a);t.lineTo(a*n,-s*n),t.lineTo(s*r-a*i,a*r+s*i)}t.closePath()}},Hu={draw:function(t,e){var n=Math.sqrt(e),e=-n/2;t.rect(e,e,n,n)}},T3=Math.sqrt(3),Le={draw:function(t,e){e=-Math.sqrt(e/(3*T3));t.moveTo(0,2*e),t.lineTo(-T3*e,-e),t.lineTo(T3*e,-e),t.closePath()}},z3=-.5,N3=Math.sqrt(3)/2,D3=1/Math.sqrt(12),I3=3*(D3/2+1),Ty={draw:function(t,e){var n=Math.sqrt(e/I3),r=n/2,i=n*D3,o=r,a=n*D3+n,e=-o,n=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(e,n),t.lineTo(z3*r-N3*i,N3*r+z3*i),t.lineTo(z3*o-N3*a,N3*o+z3*a),t.lineTo(z3*e-N3*n,N3*e+z3*n),t.lineTo(z3*r+N3*i,z3*i-N3*r),t.lineTo(z3*o+N3*a,z3*a-N3*o),t.lineTo(z3*e+N3*n,z3*n-N3*e),t.closePath()}};function S3(t){this._context=t}function E3(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function L3(t){return new S3(t)}S3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=E3(t),i=E3(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var C3,O3,P3={symbolCircle:w3,symbolCross:h,symbolDiamond:My,symbolWye:Ty,symbolTriangle:Le,symbolStar:qt,symbolSquare:Hu},F3=Object.keys(P3);function Y3(){return D2.default_shape}function R3(t,e){var n,r;e||(C3=Y3),"number"==t&&(n=e,C3=function(t){return void 0===t||isNaN(t)?D2.default_shape:td().domain(n).range(F3)(t)}),"string"==t&&(r=e,C3=function(t){return void 0===t||""===t?D2.default_shape:wc().domain(r).range(F3)(t)})}function U3(t,e){var n=D2.data_point_min_size,r=D2.data_point_max_size;e&&void 0!==e[0]&&void 0!==e[1]?"number"==t?O3=Zf().domain([0,e[1]]).range([0,r]).clamp(!0):"string"==t&&(t=(r-n)/(e.length-1),O3=wc().domain(e).range(function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n,r+t,t))):O3=function(){return D2.data_point_default_size}}function B3(t){var e=Mw.discrete_vs_numerical&&D2.beeswarm_plot;return""==t.size||isNaN(t.size)||e?D2.data_point_default_size:Math.max(D2.data_point_min_size,O3(t.size||null))}function H3(t){return C3(t.shape)||D2.default_shape}function Z3(t){var e,n,r,i=P3[H3(t)],t=B3(t);return e=p3(w3),n=p3(64),r=null,o.type=function(t){return arguments.length?(e="function"==typeof t?t:p3(t),o):e},o.size=function(t){return arguments.length?(n="function"==typeof t?t:p3(+t),o):n},o.context=function(t){return arguments.length?(r=null==t?null:t,o):r},o.type(i).size(t)();function o(){var t;if(r=r||(t=d3()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}}function G3(t){return Math.sqrt(B3(t)/Math.PI)}var q3="fl-spanner",Q3=q3+"-";function W3(e){("string"==typeof e||e instanceof HTMLElement)&&(e=Fs(e));function n(t,e){var n=i.text(t,e);if(!n||"string"!=typeof n)return null;var r=n.trim();return r?{original:n,trimmed:r,length:r.length,d:t,i:e}:null}function r(){var t=e.node(),r=e.text(),a=(a=i.element)||(t instanceof SVGElement||"svg"===t.nodeName.toLowerCase()?"tspan":"span");return i.data.map(n).filter(function(t){return t}).sort(function(t,e){return e.length-t.length||t.i-e.i}).forEach(function(o){var t,e,n,e=(t=a,n=(e=o).trimmed.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),e=i.ignore_case?"gi":"g",new RegExp("<"+t+".*?<\\/"+t+">"+"|(?:"+("(^|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])("+n+")($|[^A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ])")+")",e));r=r.replace(e,function(t,e,n,r){return n?e+(i=a,e=o.i,"<"+i+" class='"+Q3+e+"'>"+n+"</"+i+">")+r:t;var i})}),e.html(r),e.selectAll(a).each(function(){var t=i.data[this.getAttribute("class").slice(Q3.length)];Fs(this).datum(t).attr("class",i.class)})}var i={data:[],element:null,ignore_case:!0,text:function(t){return t},class:q3};return r.data=function(t){return void 0===t?i.data:(i.data=Array.isArray(t)?t:[t],r)},r.element=function(t){return void 0===t?i.element:(i.element=t,r)},r.ignoreCase=function(t){return void 0===t?i.ignore_case:(i.ignore_case=!!t,r)},r.text=function(t){return void 0===t?i.text:(i.text=t,r)},r.class=function(t){return void 0===t?i.class:(i.class=t,r)},r}function V3(t,e,n,r){var i=J9(e);W3(t).data(e)().style("color",function(t){return n(t)}).style("opacity",function(t){return"off"!=D2.legend_filtering_mode&&-1!==D2.legend_filter.indexOf(t)?.3:1}).style("cursor","off"!=D2.legend_filtering_mode?"pointer":null).style("font-weight",r).on("click",i)}Kt("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Uint16",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Int8",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Int16",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Int32",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Float32",function(r){return function(t,e,n){return r(this,t,e,n)}}),Kt("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}},!0),$t({target:"String",proto:!0,forced:sy("link")},{link:function(t){return R2(this,"a","href",t)}});var X3=n(function(t,e){t.exports=function(){var nt=function t(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},rt=function t(e,n){var r=Object.keys(n);for(var i=0;i<r.length;++i)e[r[i]]=n[r[i]];return e},c="\n";function f(t){if(typeof atob!=="undefined")return atob(t);return"base64:"+t}function r(t){var e=new Error("(regl) "+t);console.error(e);throw e}function h(t,e){if(!t)r(e)}function i(t){if(t)return": "+t;return""}function t(t,e,n){if(!(t in e))r("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join())}function e(t,e){if(!nt(t))r("invalid parameter type"+i(e)+". must be a typed array")}function n(t,e,n){if(Zs(t)!==e)r("invalid parameter type"+i(n)+". expected "+e+", got "+Zs(t))}function o(t,e){if(!(t>=0&&(t|0)===t))r("invalid parameter type, ("+t+")"+i(e)+". must be a nonnegative integer")}function a(t,e,n){if(e.indexOf(t)<0)r("invalid value"+i(n)+". must be one of: "+e)}var s=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function l(t){Object.keys(t).forEach(function(t){if(s.indexOf(t)<0)r('invalid regl constructor argument "'+t+'". must be one of '+s)})}function u(t,e){t=t+"";while(t.length<e)t=" "+t;return t}function d(){this.name="unknown";this.lines=[];this.index={};this.hasErrors=false}function p(t,e){this.number=t;this.line=e;this.errors=[]}function g(t,e,n){this.file=t;this.line=e;this.message=n}function _(){var t=new Error;var e=(t.stack||t).toString();var n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);if(r)return r[1];return"unknown"}function m(){var t=new Error;var e=(t.stack||t).toString();var n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);if(r)return r[1];return"unknown"}function y(t,e){var n=t.split("\n");var r=1;var i=0;var o={unknown:new d,0:new d};o.unknown.name=o[0].name=e||_();o.unknown.lines.push(new p(0,""));for(var a=0;a<n.length;++a){var s=n[a];var l=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(s);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);if(c){r=c[1]|0;if(c[2]){i=c[2]|0;if(!(i in o))o[i]=new d}}break;case"define":var u=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);if(u)o[i].name=u[1]?f(u[2]):u[2];break}o[i].lines.push(new p(r++,s))}Object.keys(o).forEach(function(t){var e=o[t];e.lines.forEach(function(t){e.index[t.number]=t})});return o}function v(t){var n=[];t.split("\n").forEach(function(t){if(t.length<5)return;var e=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(t);if(e)n.push(new g(e[1]|0,e[2]|0,e[3].trim()));else if(t.length>0)n.push(new g("unknown",0,t))});return n}function b(r,t){t.forEach(function(t){var e=r[t.file];if(e){var n=e.index[t.line];if(n){n.errors.push(t);e.hasErrors=true;return}}r.unknown.hasErrors=true;r.unknown.lines[0].errors.push(t)})}function x(t,e,n,r,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(e);var a=r===t.FRAGMENT_SHADER?"fragment":"vertex";z(n,"string",a+" shader source must be a string",i);var s=y(n,i);var l=v(o);b(s,l);Object.keys(s).forEach(function(t){var e=s[t];if(!e.hasErrors)return;var n=[""];var r=[""];function a(t,e){n.push(t);r.push(e||"")}a("file number "+t+": "+e.name+"\n","color:red;text-decoration:underline;font-weight:bold");e.lines.forEach(function(i){if(i.errors.length>0){a(u(i.number,4)+"|  ","background-color:yellow; font-weight:bold");a(i.line+c,"color:red; background-color:yellow; font-weight:bold");var o=0;i.errors.forEach(function(t){var e=t.message;var n=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(e);if(n){var r=n[1];e=n[2];switch(r){case"assign":r="=";break}o=Math.max(i.line.indexOf(r,o),0)}else o=0;a(u("| ",6));a(u("^^^",o+3)+c,"font-weight:bold");a(u("| ",6));a(e+c,"font-weight:bold")});a(u("| ",6)+c)}else{a(u(i.number,4)+"|  ");a(i.line+c,"color:red")}});if(typeof document!=="undefined"&&!window.chrome){r[0]=n.join("%c");console.log.apply(console,r)}else console.log(n.join(""))});h.raise("Error compiling "+a+" shader, "+s[0].name)}}function w(t,e,n,r,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var o=t.getProgramInfoLog(e);var a=y(n,i);var s=y(r,i);var l='Error linking program with vertex shader, "'+s[0].name+'", and fragment shader "'+a[0].name+'"';if(typeof document!=="undefined")console.log("%c"+l+c+"%c"+o,"color:red;text-decoration:underline;font-weight:bold","color:red");else console.log(l+c+o);h.raise(l)}}function M(t){t._commandRef=_()}function k(t,e,n,r){M(t);function i(t){if(t)return r.id(t);return 0}t._fragId=i(t.static.frag);t._vertId=i(t.static.vert);function o(e,t){Object.keys(t).forEach(function(t){e[r.id(t)]=true})}var a=t._uniformSet={};o(a,e.static);o(a,e.dynamic);var s=t._attributeSet={};o(s,n.static);o(s,n.dynamic);t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic}function j(t,e){var n=m();r(t+" in command "+(e||_())+(n==="unknown"?"":" called from "+n))}function A(t,e,n){if(!t)j(e,n||_())}function T(t,e,n,r){if(!(t in e))j("unknown parameter ("+t+")"+i(n)+". possible values: "+Object.keys(e).join(),r||_())}function z(t,e,n,r){if(Zs(t)!==e)j("invalid parameter type"+i(n)+". expected "+e+", got "+Zs(t),r||_())}function N(t){t()}function D(t,e,n){if(t.texture)a(t.texture._texture.internalformat,e,"unsupported texture format for attachment");else a(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var I=33071,S=9728,E=9984,L=9985,C=9986,O=9987,P,F,Y=5122,R=5123,U=5124,B=5125,H=5126,Z=32819,G=32820,q=33635,Q=34042,W=36193,V={};function X(t,e){if(t===G||t===Z||t===q)return 2;else if(t===Q)return 4;else return V[t]*e}function $(t){return!(t&t-1)&&!!t}function J(t,e,n){var r;var i=e.width;var o=e.height;var a=e.channels;h(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape");if(t.wrapS!==I||t.wrapT!==I)h($(i)&&$(o),"incompatible wrap mode for texture, both width and height must be power of 2");if(e.mipmask===1){if(i!==1&&o!==1)h(t.minFilter!==E&&t.minFilter!==C&&t.minFilter!==L&&t.minFilter!==O,"min filter requires mipmap")}else{h($(i)&&$(o),"texture must be a square power of 2 to support mipmapping");h(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")}if(e.type===H){if(n.extensions.indexOf("oes_texture_float_linear")<0)h(t.minFilter===S&&t.magFilter===S,"filter not supported, must enable oes_texture_float_linear");h(!t.genMipmaps,"mipmap generation not supported with float textures")}var s=e.images;for(r=0;r<16;++r)if(s[r]){var l=i>>r;var c=o>>r;h(e.mipmask&1<<r,"missing mipmap data");var u=s[r];h(u.width===l&&u.height===c,"invalid shape for mip images");h(u.format===e.format&&u.internalformat===e.internalformat&&u.type===e.type,"incompatible type for mip image");if(u.compressed);else if(u.data){var f=Math.ceil(X(u.type,a)*l/u.unpackAlignment)*u.unpackAlignment;h(u.data.byteLength===f*c,"invalid data for image, buffer size is inconsistent with image format")}else if(u.element);else if(u.copy);}else if(!t.genMipmaps)h((e.mipmask&1<<r)===0,"extra mipmap data");if(e.compressed)h(!t.genMipmaps,"mipmap generation for compressed images not supported")}function K(t,e,n,r){var i=t.width;var o=t.height;var a=t.channels;h(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape");h(i===o,"cube map must be square");h(e.wrapS===I&&e.wrapT===I,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var l=n[s];h(l.width===i&&l.height===o,"inconsistent cube map face shape");if(e.genMipmaps){h(!l.compressed,"can not generate mipmap for compressed textures");h(l.mipmask===1,"can not specify mipmaps and generate mipmaps")}var c=l.images;for(var u=0;u<16;++u){var f=c[u];if(f){var d=i>>u;var p=o>>u;h(l.mipmask&1<<u,"missing mipmap data");h(f.width===d&&f.height===p,"invalid shape for mip images");h(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image");if(f.compressed);else if(f.data)h(f.data.byteLength===d*p*Math.max(X(f.type,a),f.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format");else if(f.element);else if(f.copy);}}}}V[5120]=V[5121]=1,V[Y]=V[R]=V[W]=V[q]=V[Z]=V[G]=2,V[U]=V[B]=V[H]=V[Q]=4;var at=rt(h,{optional:N,raise:r,commandRaise:j,command:A,parameter:t,commandParameter:T,constructor:l,type:n,commandType:z,isTypedArray:e,nni:o,oneOf:a,shaderError:x,linkError:w,callSite:m,saveCommandRef:M,saveDrawInfo:k,framebufferFormat:D,guessCommand:_,texture2D:J,textureCube:K}),tt=0,et=0;function it(t,e){this.id=tt++;this.type=t;this.data=e}function ot(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function st(t){if(t.length===0)return[];var e=t.charAt(0);var n=t.charAt(t.length-1);if(t.length>1&&e===n&&(e==='"'||e==="'"))return['"'+ot(t.substr(1,t.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(r)return st(t.substr(0,r.index)).concat(st(r[1])).concat(st(t.substr(r.index+r[0].length)));var i=t.split(".");if(i.length===1)return['"'+ot(t)+'"'];var o=[];for(var a=0;a<i.length;++a)o=o.concat(st(i[a]));return o}function lt(t){return"["+st(t).join("][")+"]"}function ct(t,e){return new it(t,lt(e+""))}function ut(t){return typeof t==="function"&&!t._reglType||t instanceof it}function ft(t,e){if(typeof t==="function")return new it(et,t);return t}var dt={DynamicVariable:it,define:ct,isDynamic:ut,unbox:ft,accessor:lt},pt={next:typeof requestAnimationFrame==="function"?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:typeof cancelAnimationFrame==="function"?function(t){return cancelAnimationFrame(t)}:clearTimeout},ht=typeof performance!=="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function gt(){var r={"":0};var i=[""];return{id:function t(e){var n=r[e];if(n)return n;n=r[e]=i.length;i.push(e);return n},str:function t(e){return i[e]}}}function _t(r,t,i){var o=document.createElement("canvas");rt(o.style,{border:0,margin:0,padding:0,top:0,left:0});r.appendChild(o);if(r===document.body){o.style.position="absolute";rt(r.style,{margin:0,padding:0})}function e(){var t=window.innerWidth;var e=window.innerHeight;if(r!==document.body){var n=r.getBoundingClientRect();t=n.right-n.left;e=n.bottom-n.top}o.width=i*t;o.height=i*e;rt(o.style,{width:t+"px",height:e+"px"})}window.addEventListener("resize",e,false);function n(){window.removeEventListener("resize",e);r.removeChild(o)}e();return{canvas:o,onDestroy:n}}function mt(e,n){function t(t){try{return e.getContext(t,n)}catch(t){return null}}return t("webgl")||t("experimental-webgl")||t("webgl-experimental")}function yt(t){return typeof t.nodeName==="string"&&typeof t.appendChild==="function"&&typeof t.getBoundingClientRect==="function"}function vt(t){return typeof t.drawArrays==="function"||typeof t.drawElements==="function"}function bt(t){if(typeof t==="string")return t.split();at(Array.isArray(t),"invalid extension array");return t}function xt(t){if(typeof t==="string"){at(typeof document!=="undefined","not supported outside of DOM");return document.querySelector(t)}return t}function wt(t){var e=t||{};var n,r,i,o;var a={};var s=[];var l=[];var c=typeof window==="undefined"?1:window.devicePixelRatio;var u=false;var f=function t(e){if(e)at.raise(e)};var d=function t(){};if(typeof e==="string"){at(typeof document!=="undefined","selector queries only supported in DOM enviroments");n=document.querySelector(e);at(n,"invalid query string for element")}else if(Zs(e)==="object")if(yt(e))n=e;else if(vt(e)){o=e;i=o.canvas}else{at.constructor(e);if("gl"in e)o=e.gl;else if("canvas"in e)i=xt(e.canvas);else if("container"in e)r=xt(e.container);if("attributes"in e){a=e.attributes;at.type(a,"object","invalid context attributes")}if("extensions"in e)s=bt(e.extensions);if("optionalExtensions"in e)l=bt(e.optionalExtensions);if("onDone"in e){at.type(e.onDone,"function","invalid or missing onDone callback");f=e.onDone}if("profile"in e)u=!!e.profile;if("pixelRatio"in e){c=+e.pixelRatio;at(c>0,"invalid pixel ratio")}}else at.raise("invalid arguments to regl");if(n)if(n.nodeName.toLowerCase()==="canvas")i=n;else r=n;if(!o){if(!i){at(typeof document!=="undefined","must manually specify webgl context outside of DOM environments");var p=_t(r||document.body,f,c);if(!p)return null;i=p.canvas;d=p.onDestroy}o=mt(i,a)}if(!o){d();f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org");return null}return{gl:o,canvas:i,container:r,extensions:s,optionalExtensions:l,pixelRatio:c,profile:u,onDone:f,onDestroy:d}}function Mt(r,t){var i={};function e(t){at.type(t,"string","extension name must be string");var e=t.toLowerCase();var n;try{n=i[e]=r.getExtension(e)}catch(t){}return!!n}for(var n=0;n<t.extensions.length;++n){var o=t.extensions[n];if(!e(o)){t.onDestroy();t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser');return null}}t.optionalExtensions.forEach(e);return{extensions:i,restore:function t(){Object.keys(i).forEach(function(t){if(i[t]&&!e(t))throw new Error("(regl): error restoring extension "+t)})}}}function kt(t,e){var n=Array(t);for(var r=0;r<t;++r)n[r]=e(r);return n}var jt=5120,At=5121,Tt=5122,zt=5123,Nt=5124,Dt=5125,It=5126;function St(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}function Et(t){var e,n;e=(t>65535)<<4;t>>>=e;n=(t>255)<<3;t>>>=n;e|=n;n=(t>15)<<2;t>>>=n;e|=n;n=(t>3)<<1;t>>>=n;e|=n;return e|t>>1}function Lt(){var r=kt(8,function(){return[]});function i(t){var e=St(t);var n=r[Et(e)>>2];if(n.length>0)return n.pop();return new ArrayBuffer(e)}function e(t){r[Et(t.byteLength)>>2].push(t)}function t(t,e){var n=null;switch(t){case jt:n=new Int8Array(i(e),0,e);break;case At:n=new Uint8Array(i(e),0,e);break;case Tt:n=new Int16Array(i(2*e),0,e);break;case zt:n=new Uint16Array(i(2*e),0,e);break;case Nt:n=new Int32Array(i(4*e),0,e);break;case Dt:n=new Uint32Array(i(4*e),0,e);break;case It:n=new Float32Array(i(4*e),0,e);break;default:return null}if(n.length!==e)return n.subarray(0,e);return n}function n(t){e(t.buffer)}return{alloc:i,free:e,allocType:t,freeType:n}}var Ct=Lt();Ct.zero=Lt();var Ot=3408,Pt=3410,Ft=3411,Yt=3412,Rt=3413,Ut=3414,Bt=3415,Ht=33901,Zt=33902,Gt=3379,qt=3386,Qt=34921,Wt=36347,Vt=36348,Xt=35661,$t=35660,Jt=34930,Kt=36349,te=34076,ee=34024,ne=7936,re=7937,ie=7938,oe=35724,ae=34047,se=36063,le=34852,ce=3553,ue=34067,fe=34069,de=33984,pe=6408,he=5126,ge=5121,_e=36160,me=36053,ye=36064,ve=16384,be=function t(e,n){var r=1;if(n.ext_texture_filter_anisotropic)r=e.getParameter(ae);var i=1;var o=1;if(n.webgl_draw_buffers){i=e.getParameter(le);o=e.getParameter(se)}var a=!!n.oes_texture_float;if(a){var s=e.createTexture();e.bindTexture(ce,s);e.texImage2D(ce,0,pe,1,1,0,pe,he,null);var l=e.createFramebuffer();e.bindFramebuffer(_e,l);e.framebufferTexture2D(_e,ye,ce,s,0);e.bindTexture(ce,null);if(e.checkFramebufferStatus(_e)!==me)a=false;else{e.viewport(0,0,1,1);e.clearColor(1,0,0,1);e.clear(ve);var c=Ct.allocType(he,4);e.readPixels(0,0,1,1,pe,he,c);if(e.getError())a=false;else{e.deleteFramebuffer(l);e.deleteTexture(s);a=c[0]===1}Ct.freeType(c)}}var u=typeof navigator!=="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent));var f=true;if(!u){var d=e.createTexture();var p=Ct.allocType(ge,36);e.activeTexture(de);e.bindTexture(ue,d);e.texImage2D(fe,0,pe,3,3,0,pe,ge,p);Ct.freeType(p);e.bindTexture(ue,null);e.deleteTexture(d);f=!e.getError()}return{colorBits:[e.getParameter(Pt),e.getParameter(Ft),e.getParameter(Yt),e.getParameter(Rt)],depthBits:e.getParameter(Ut),stencilBits:e.getParameter(Bt),subpixelBits:e.getParameter(Ot),extensions:Object.keys(n).filter(function(t){return!!n[t]}),maxAnisotropic:r,maxDrawbuffers:i,maxColorAttachments:o,pointSizeDims:e.getParameter(Ht),lineWidthDims:e.getParameter(Zt),maxViewportDims:e.getParameter(qt),maxCombinedTextureUnits:e.getParameter(Xt),maxCubeMapSize:e.getParameter(te),maxRenderbufferSize:e.getParameter(ee),maxTextureUnits:e.getParameter(Jt),maxTextureSize:e.getParameter(Gt),maxAttributes:e.getParameter(Qt),maxVertexUniforms:e.getParameter(Wt),maxVertexTextureUnits:e.getParameter($t),maxVaryingVectors:e.getParameter(Vt),maxFragmentUniforms:e.getParameter(Kt),glsl:e.getParameter(oe),renderer:e.getParameter(re),vendor:e.getParameter(ne),version:e.getParameter(ie),readFloat:a,npotTextureCube:f}};function xe(t){return!!t&&Zs(t)==="object"&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&typeof t.offset==="number"&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||nt(t.data))}var we=function t(e){return Object.keys(e).map(function(t){return e[t]})},Me={shape:Ne,flatten:ze};function ke(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}function je(t,e,n,r){var i=0;for(var o=0;o<e;++o){var a=t[o];for(var s=0;s<n;++s)r[i++]=a[s]}}function Ae(t,e,n,r,i,o){var a=o;for(var s=0;s<e;++s){var l=t[s];for(var c=0;c<n;++c){var u=l[c];for(var f=0;f<r;++f)i[a++]=u[f]}}}function Te(t,e,n,r,i){var o=1;for(var a=n+1;a<e.length;++a)o*=e[a];var s=e[n];if(e.length-n===4){var l=e[n+1];var c=e[n+2];var u=e[n+3];for(a=0;a<s;++a){Ae(t[a],l,c,u,r,i);i+=o}}else for(a=0;a<s;++a){Te(t[a],e,n+1,r,i);i+=o}}function ze(t,e,n,r){var i=1;if(e.length)for(var o=0;o<e.length;++o)i*=e[o];else i=0;var a=r||Ct.allocType(n,i);switch(e.length){case 0:break;case 1:ke(t,e[0],a);break;case 2:je(t,e[0],e[1],a);break;case 3:Ae(t,e[0],e[1],e[2],a,0);break;default:Te(t,e,0,a,0)}return a}function Ne(t){var e=[];for(var n=t;n.length;n=n[0])e.push(n.length);return e}var De={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ie,Se,Ee,Le,Ce,Oe,Pe,Fe,Ye={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Re,Ue,Be={dynamic:35048,stream:35040,static:35044},He=Me.flatten,Ze=Me.shape,Ge=35044,qe=35040,Qe=5121,We=5126,Ve=[];function Xe(t){return De[Object.prototype.toString.call(t)]|0}function $e(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function Je(t,e,n,r,i,o,a){var s=0;for(var l=0;l<n;++l)for(var c=0;c<r;++c)t[s++]=e[i*l+o*c+a]}function Ke(s,i,l,o){var e=0;var c={};function u(t){this.id=e++;this.buffer=s.createBuffer();this.type=t;this.usage=Ge;this.byteLength=0;this.dimension=1;this.dtype=Qe;this.persistentData=null;if(l.profile)this.stats={size:0}}u.prototype.bind=function(){s.bindBuffer(this.type,this.buffer)};u.prototype.destroy=function(){d(this)};var r=[];function t(t,e){var n=r.pop();if(!n)n=new u(t);n.bind();f(n,e,qe,0,1,false);return n}function n(t){r.push(t)}function y(t,e,n){t.byteLength=e.byteLength;s.bufferData(t.type,e,n)}function f(t,e,n,r,i,o){var a;t.usage=n;if(Array.isArray(e)){t.dtype=r||We;if(e.length>0){var s;if(Array.isArray(e[0])){a=Ze(e);var l=1;for(var c=1;c<a.length;++c)l*=a[c];t.dimension=l;s=He(e,a,t.dtype);y(t,s,n);if(o)t.persistentData=s;else Ct.freeType(s)}else if(typeof e[0]==="number"){t.dimension=i;var u=Ct.allocType(t.dtype,e.length);$e(u,e);y(t,u,n);if(o)t.persistentData=u;else Ct.freeType(u)}else if(nt(e[0])){t.dimension=e[0].length;t.dtype=r||Xe(e[0])||We;s=He(e,[e.length,e[0].length],t.dtype);y(t,s,n);if(o)t.persistentData=s;else Ct.freeType(s)}else at.raise("invalid buffer data")}}else if(nt(e)){t.dtype=r||Xe(e);t.dimension=i;y(t,e,n);if(o)t.persistentData=new Uint8Array(new Uint8Array(e.buffer))}else if(xe(e)){a=e.shape;var f=e.stride;var d=e.offset;var p=0;var h=0;var g=0;var _=0;if(a.length===1){p=a[0];h=1;g=f[0];_=0}else if(a.length===2){p=a[0];h=a[1];g=f[0];_=f[1]}else at.raise("invalid shape");t.dtype=r||Xe(e.data)||We;t.dimension=h;var m=Ct.allocType(t.dtype,p*h);Je(m,e.data,p,h,g,_,d);y(t,m,n);if(o)t.persistentData=m;else Ct.freeType(m)}else at.raise("invalid buffer data")}function d(t){i.bufferCount--;for(var e=0;e<o.state.length;++e){var n=o.state[e];if(n.buffer===t){s.disableVertexAttribArray(e);n.buffer=null}}var r=t.buffer;at(r,"buffer must not be deleted already");s.deleteBuffer(r);t.buffer=null;delete c[t.id]}function a(t,e,n,a){i.bufferCount++;var p=new u(e);c[p.id]=p;function h(t){var e=Ge;var n=null;var r=0;var i=0;var o=1;if(Array.isArray(t)||nt(t)||xe(t))n=t;else if(typeof t==="number")r=t|0;else if(t){at.type(t,"object","buffer arguments must be an object, a number or an array");if("data"in t){at(n===null||Array.isArray(n)||nt(n)||xe(n),"invalid data for buffer");n=t.data}if("usage"in t){at.parameter(t.usage,Be,"invalid buffer usage");e=Be[t.usage]}if("type"in t){at.parameter(t.type,Ye,"invalid buffer type");i=Ye[t.type]}if("dimension"in t){at.type(t.dimension,"number","invalid dimension");o=t.dimension|0}if("length"in t){at.nni(r,"buffer length must be a nonnegative integer");r=t.length|0}}p.bind();if(!n){if(r)s.bufferData(p.type,r,e);p.dtype=i||Qe;p.usage=e;p.dimension=o;p.byteLength=r}else f(p,n,e,i,o,a);if(l.profile)p.stats.size=p.byteLength*Ve[p.dtype];return h}function g(t,e){at(e+t.byteLength<=p.byteLength,"invalid buffer subdata call, buffer is too small. "+" Can't write data of size "+t.byteLength+" starting from offset "+e+" to a buffer of size "+p.byteLength);s.bufferSubData(p.type,e,t)}function r(t,e){var n=(e||0)|0;var r;p.bind();if(nt(t))g(t,n);else if(Array.isArray(t)){if(t.length>0)if(typeof t[0]==="number"){var i=Ct.allocType(p.dtype,t.length);$e(i,t);g(i,n);Ct.freeType(i)}else if(Array.isArray(t[0])||nt(t[0])){r=Ze(t);var o=He(t,r,p.dtype);g(o,n);Ct.freeType(o)}else at.raise("invalid buffer data")}else if(xe(t)){r=t.shape;var a=t.stride;var s=0;var l=0;var c=0;var u=0;if(r.length===1){s=r[0];l=1;c=a[0];u=0}else if(r.length===2){s=r[0];l=r[1];c=a[0];u=a[1]}else at.raise("invalid shape");var f=Array.isArray(t.data)?p.dtype:Xe(t.data);var d=Ct.allocType(f,s*l);Je(d,t.data,s,l,c,u,t.offset);g(d,n);Ct.freeType(d)}else at.raise("invalid data for buffer subdata");return h}if(!n)h(t);h._reglType="buffer";h._buffer=p;h.subdata=r;if(l.profile)h.stats=p.stats;h.destroy=function(){d(p)};return h}function p(){we(c).forEach(function(t){t.buffer=s.createBuffer();s.bindBuffer(t.type,t.buffer);s.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})}if(l.profile)i.getTotalBufferSize=function(){var e=0;Object.keys(c).forEach(function(t){e+=c[t].stats.size});return e};return{create:a,createStream:t,destroyStream:n,clear:function t(){we(c).forEach(d);r.forEach(d)},getBuffer:function t(e){if(e&&e._buffer instanceof u)return e._buffer;return null},restore:p,_initBuffer:f}}Ve[5120]=1,Ve[5122]=2,Ve[5124]=4,Ve[5121]=1,Ve[5123]=2,Ve[5125]=4;var tn,en,nn,rn,on,an,sn={points:0,point:0,lines:1,line:1,triangles:Ve[5126]=4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ln=0,cn=1,un=4,fn=5120,dn=5121,pn=5122,hn=5123,gn=5124,_n=5125,mn=34963,yn=35040,vn=35044;function bn(d,p,h,n){var e={};var r=0;var u={uint8:dn,uint16:hn};if(p.oes_element_index_uint)u.uint32=_n;function i(t){this.id=r++;e[this.id]=this;this.buffer=t;this.primType=un;this.vertCount=0;this.type=0}i.prototype.bind=function(){this.buffer.bind()};var o=[];function t(t){var e=o.pop();if(!e)e=new i(h.create(null,mn,true,false)._buffer);f(e,t,yn,-1,-1,0,0);return e}function a(t){o.push(t)}function f(t,e,n,r,i,o,a){t.buffer.bind();if(e){var s=a;if(!a&&(!nt(e)||xe(e)&&!nt(e.data)))s=p.oes_element_index_uint?_n:hn;h._initBuffer(t.buffer,e,n,s,3)}else{d.bufferData(mn,o,n);t.buffer.dtype=l||dn;t.buffer.usage=n;t.buffer.dimension=3;t.buffer.byteLength=o}var l=a;if(!a){switch(t.buffer.dtype){case dn:case fn:l=dn;break;case hn:case pn:l=hn;break;case _n:case gn:l=_n;break;default:at.raise("unsupported type for element array")}t.buffer.dtype=l}t.type=l;at(l!==_n||!!p.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var c=i;if(c<0){c=t.buffer.byteLength;if(l===hn)c>>=1;else if(l===_n)c>>=2}t.vertCount=c;var u=r;if(r<0){u=un;var f=t.buffer.dimension;if(f===1)u=ln;if(f===2)u=cn;if(f===3)u=un}t.primType=u}function g(t){n.elementsCount--;at(t.buffer!==null,"must not double destroy elements");delete e[t.id];t.buffer.destroy();t.buffer=null}function s(t,e){var s=h.create(null,mn,true);var l=new i(s._buffer);n.elementsCount++;function c(t){if(!t){s();l.primType=un;l.vertCount=0;l.type=dn}else if(typeof t==="number"){s(t);l.primType=un;l.vertCount=t|0;l.type=dn}else{var e=null;var n=vn;var r=-1;var i=-1;var o=0;var a=0;if(Array.isArray(t)||nt(t)||xe(t))e=t;else{at.type(t,"object","invalid arguments for elements");if("data"in t){e=t.data;at(Array.isArray(e)||nt(e)||xe(e),"invalid data for element buffer")}if("usage"in t){at.parameter(t.usage,Be,"invalid element buffer usage");n=Be[t.usage]}if("primitive"in t){at.parameter(t.primitive,sn,"invalid element buffer primitive");r=sn[t.primitive]}if("count"in t){at(typeof t.count==="number"&&t.count>=0,"invalid vertex count for elements");i=t.count|0}if("type"in t){at.parameter(t.type,u,"invalid buffer type");a=u[t.type]}if("length"in t)o=t.length|0;else{o=i;if(a===hn||a===pn)o*=2;else if(a===_n||a===gn)o*=4}}f(l,e,n,r,i,o,a)}return c}c(t);c._reglType="elements";c._elements=l;c.subdata=function(t,e){s.subdata(t,e);return c};c.destroy=function(){g(l)};return c}return{create:s,createStream:t,destroyStream:a,getElements:function t(e){if(typeof e==="function"&&e._elements instanceof i)return e._elements;return null},clear:function t(){we(e).forEach(g)}}}var xn=new Float32Array(1),wn=new Uint32Array(xn.buffer),Mn=5123;function kn(t){var e=Ct.allocType(Mn,t.length);for(var n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===Infinity)e[n]=31744;else if(t[n]===-Infinity)e[n]=64512;else{xn[0]=t[n];var r=wn[0];var i=r>>>31<<15;var o=(r<<1>>>24)-127;var a=r>>13&(1<<10)-1;if(o<-24)e[n]=i;else if(o<-14){var s=-14-o;e[n]=i+(a+(1<<10)>>s)}else if(o>15)e[n]=i+31744;else e[n]=i+(o+15<<10)+a}return e}function jn(t){return Array.isArray(t)||nt(t)}var An=function t(e){return!(e&e-1)&&!!e},Tn=34467,zn=3553,Nn=34067,Dn=34069,In=6408,Sn=6406,En=6407,Ln=6409,Cn=6410,On=32854,Pn=32855,Fn=36194,Yn=32819,Rn=32820,Un=33635,Bn=34042,Hn=6402,Zn=34041,Gn=35904,qn=35906,Qn=36193,Wn=33776,Vn=33777,Xn=33778,$n=33779,Jn=35986,Kn=35987,tr=34798,er=35840,nr=35841,rr=35842,ir=35843,or=36196,ar=5121,sr=5123,lr=5125,cr=5126,ur=10242,fr=10243,dr=10497,pr=33071,hr=33648,gr=10240,_r=10241,mr=9728,yr=9729,vr=9984,br=9985,xr=9986,wr=9987,Mr=33170,kr=4352,jr=4353,Ar=4354,Tr=34046,zr=3317,Nr=37440,Dr=37441,Ir=37443,Sr=37444,Er=33984,Lr=[vr,xr,br,wr],Cr=[0,Ln,Cn,En,In],Or={};function Pr(t){return"[object "+t+"]"}Or[Ln]=Or[Sn]=Or[Hn]=1,Or[Zn]=Or[Cn]=2,Or[En]=Or[Gn]=3,Or[In]=Or[qn]=4;var Fr=Pr("HTMLCanvasElement"),Yr=Pr("CanvasRenderingContext2D"),Rr=Pr("ImageBitmap"),Ur=Pr("HTMLImageElement"),Br=Pr("HTMLVideoElement"),Hr=Object.keys(De).concat([Fr,Yr,Rr,Ur,Br]),Zr=[];Zr[ar]=1,Zr[cr]=4,Zr[Qn]=2,Zr[sr]=2,Zr[lr]=4;var Gr=[];function qr(t){return Array.isArray(t)&&(t.length===0||typeof t[0]==="number")}function Qr(t){if(!Array.isArray(t))return false;var e=t.length;if(e===0||!jn(t[0]))return false;return true}function Wr(t){return Object.prototype.toString.call(t)}function Vr(t){return Wr(t)===Fr}function Xr(t){return Wr(t)===Yr}function $r(t){return Wr(t)===Rr}function Jr(t){return Wr(t)===Ur}function Kr(t){return Wr(t)===Br}function ti(t){if(!t)return false;var e=Wr(t);if(Hr.indexOf(e)>=0)return true;return qr(t)||Qr(t)||xe(t)}function ei(t){return De[Object.prototype.toString.call(t)]|0}function ni(t,e){var n=e.length;switch(t.type){case ar:case sr:case lr:case cr:var r=Ct.allocType(t.type,n);r.set(e);t.data=r;break;case Qn:t.data=kn(e);break;default:at.raise("unsupported texture type, must specify a typed array")}}function ri(t,e){return Ct.allocType(t.type===Qn?cr:t.type,e)}function ii(t,e){if(t.type===Qn){t.data=kn(e);Ct.freeType(e)}else t.data=e}function oi(t,e,n,r,i,o){var a=t.width;var s=t.height;var l=t.channels;var c=a*s*l;var u=ri(t,c);var f=0;for(var d=0;d<s;++d)for(var p=0;p<a;++p)for(var h=0;h<l;++h)u[f++]=e[n*p+r*d+i*h+o];ii(t,u)}function ai(t,e,n,r,i,o){var a;if(typeof Gr[t]!=="undefined")a=Gr[t];else a=Or[t]*Zr[e];if(o)a*=6;if(i){var s=0;var l=n;while(l>=1){s+=a*l*l;l/=2}return s}else return a*n*r}function si(p,u,x,d,w,l,h){var f={"don't care":kr,"dont care":kr,nice:Ar,fast:jr};var g={repeat:dr,clamp:pr,mirror:hr};var _={nearest:mr,linear:yr};var m=rt({mipmap:wr,"nearest mipmap nearest":vr,"linear mipmap nearest":br,"nearest mipmap linear":xr,"linear mipmap linear":wr},_);var y={none:0,browser:Sr};var v={uint8:ar,rgba4:Yn,rgb565:Un,"rgb5 a1":Rn};var b={alpha:Sn,luminance:Ln,"luminance alpha":Cn,rgb:En,rgba:In,rgba4:On,"rgb5 a1":Pn,rgb565:Fn};var M={};if(u.ext_srgb){b.srgb=Gn;b.srgba=qn}if(u.oes_texture_float)v.float32=v.float=cr;if(u.oes_texture_half_float)v["float16"]=v["half float"]=Qn;if(u.webgl_depth_texture){rt(b,{depth:Hn,"depth stencil":Zn});rt(v,{uint16:sr,uint32:lr,"depth stencil":Bn})}if(u.webgl_compressed_texture_s3tc)rt(M,{"rgb s3tc dxt1":Wn,"rgba s3tc dxt1":Vn,"rgba s3tc dxt3":Xn,"rgba s3tc dxt5":$n});if(u.webgl_compressed_texture_atc)rt(M,{"rgb atc":Jn,"rgba atc explicit alpha":Kn,"rgba atc interpolated alpha":tr});if(u.webgl_compressed_texture_pvrtc)rt(M,{"rgb pvrtc 4bppv1":er,"rgb pvrtc 2bppv1":nr,"rgba pvrtc 4bppv1":rr,"rgba pvrtc 2bppv1":ir});if(u.webgl_compressed_texture_etc1)M["rgb etc1"]=or;var n=Array.prototype.slice.call(p.getParameter(Tn));Object.keys(M).forEach(function(t){var e=M[t];if(n.indexOf(e)>=0)b[t]=e});var t=Object.keys(b);x.textureFormats=t;var k=[];Object.keys(b).forEach(function(t){var e=b[t];k[e]=t});var j=[];Object.keys(v).forEach(function(t){var e=v[t];j[e]=t});var A=[];Object.keys(_).forEach(function(t){var e=_[t];A[e]=t});var T=[];Object.keys(m).forEach(function(t){var e=m[t];T[e]=t});var z=[];Object.keys(g).forEach(function(t){var e=g[t];z[e]=t});var N=t.reduce(function(t,e){var n=b[e];if(n===Ln||n===Sn||n===Ln||n===Cn||n===Hn||n===Zn)t[n]=n;else if(n===Pn||e.indexOf("rgba")>=0)t[n]=In;else t[n]=En;return t},{});function r(){this.internalformat=In;this.format=In;this.type=ar;this.compressed=false;this.premultiplyAlpha=false;this.flipY=false;this.unpackAlignment=1;this.colorSpace=Sr;this.width=0;this.height=0;this.channels=0}function D(t,e){t.internalformat=e.internalformat;t.format=e.format;t.type=e.type;t.compressed=e.compressed;t.premultiplyAlpha=e.premultiplyAlpha;t.flipY=e.flipY;t.unpackAlignment=e.unpackAlignment;t.colorSpace=e.colorSpace;t.width=e.width;t.height=e.height;t.channels=e.channels}function I(t,e){if(Zs(e)!=="object"||!e)return;if("premultiplyAlpha"in e){at.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha");t.premultiplyAlpha=e.premultiplyAlpha}if("flipY"in e){at.type(e.flipY,"boolean","invalid texture flip");t.flipY=e.flipY}if("alignment"in e){at.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment");t.unpackAlignment=e.alignment}if("colorSpace"in e){at.parameter(e.colorSpace,y,"invalid colorSpace");t.colorSpace=y[e.colorSpace]}if("type"in e){var n=e.type;at(u.oes_texture_float||!(n==="float"||n==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures.");at(u.oes_texture_half_float||!(n==="half float"||n==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.");at(u.webgl_depth_texture||!(n==="uint16"||n==="uint32"||n==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.");at.parameter(n,v,"invalid texture type");t.type=v[n]}var r=t.width;var i=t.height;var o=t.channels;var a=false;if("shape"in e){at(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array");r=e.shape[0];i=e.shape[1];if(e.shape.length===3){o=e.shape[2];at(o>0&&o<=4,"invalid number of channels");a=true}at(r>=0&&r<=x.maxTextureSize,"invalid width");at(i>=0&&i<=x.maxTextureSize,"invalid height")}else{if("radius"in e){r=i=e.radius;at(r>=0&&r<=x.maxTextureSize,"invalid radius")}if("width"in e){r=e.width;at(r>=0&&r<=x.maxTextureSize,"invalid width")}if("height"in e){i=e.height;at(i>=0&&i<=x.maxTextureSize,"invalid height")}if("channels"in e){o=e.channels;at(o>0&&o<=4,"invalid number of channels");a=true}}t.width=r|0;t.height=i|0;t.channels=o|0;var s=false;if("format"in e){var l=e.format;at(u.webgl_depth_texture||!(l==="depth"||l==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.");at.parameter(l,b,"invalid texture format");var c=t.internalformat=b[l];t.format=N[c];if(l in v)if(!("type"in e))t.type=v[l];if(l in M)t.compressed=true;s=true}if(!a&&s)t.channels=Or[t.format];else if(a&&!s){if(t.channels!==Cr[t.format])t.format=t.internalformat=Cr[t.channels]}else if(s&&a)at(t.channels===Or[t.format],"number of channels inconsistent with specified format")}function S(t){p.pixelStorei(Nr,t.flipY);p.pixelStorei(Dr,t.premultiplyAlpha);p.pixelStorei(Ir,t.colorSpace);p.pixelStorei(zr,t.unpackAlignment)}function e(){r.call(this);this.xOffset=0;this.yOffset=0;this.data=null;this.needsFree=false;this.element=null;this.needsCopy=false}function c(t,e){var n=null;if(ti(e))n=e;else if(e){at.type(e,"object","invalid pixel data type");I(t,e);if("x"in e)t.xOffset=e.x|0;if("y"in e)t.yOffset=e.y|0;if(ti(e.data))n=e.data}at(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array");if(e.copy){at(!n,"can not specify copy and data field for the same texture");var r=w.viewportWidth;var i=w.viewportHeight;t.width=t.width||r-t.xOffset;t.height=t.height||i-t.yOffset;t.needsCopy=true;at(t.xOffset>=0&&t.xOffset<r&&t.yOffset>=0&&t.yOffset<i&&t.width>0&&t.width<=r&&t.height>0&&t.height<=i,"copy texture read out of bounds")}else if(!n){t.width=t.width||1;t.height=t.height||1;t.channels=t.channels||4}else if(nt(n)){t.channels=t.channels||4;t.data=n;if(!("type"in e)&&t.type===ar)t.type=ei(n)}else if(qr(n)){t.channels=t.channels||4;ni(t,n);t.alignment=1;t.needsFree=true}else if(xe(n)){var o=n.data;if(!Array.isArray(o)&&t.type===ar)t.type=ei(o);var a=n.shape;var s=n.stride;var l,c,u,f,d,p;if(a.length===3){u=a[2];p=s[2]}else{at(a.length===2,"invalid ndarray pixel data, must be 2 or 3D");u=1;p=1}l=a[0];c=a[1];f=s[0];d=s[1];t.alignment=1;t.width=l;t.height=c;t.channels=u;t.format=t.internalformat=Cr[u];t.needsFree=true;oi(t,o,f,d,p,n.offset)}else if(Vr(n)||Xr(n)){if(Vr(n))t.element=n;else t.element=n.canvas;t.width=t.element.width;t.height=t.element.height;t.channels=4}else if($r(n)){t.element=n;t.width=n.width;t.height=n.height;t.channels=4}else if(Jr(n)){t.element=n;t.width=n.naturalWidth;t.height=n.naturalHeight;t.channels=4}else if(Kr(n)){t.element=n;t.width=n.videoWidth;t.height=n.videoHeight;t.channels=4}else if(Qr(n)){var h=t.width||n[0].length;var g=t.height||n.length;var _=t.channels;if(jn(n[0][0]))_=_||n[0][0].length;else _=_||1;var m=Me.shape(n);var y=1;for(var v=0;v<m.length;++v)y*=m[v];var b=ri(t,y);Me.flatten(n,m,"",b);ii(t,b);t.alignment=1;t.width=h;t.height=g;t.channels=_;t.format=t.internalformat=Cr[_];t.needsFree=true}if(t.type===cr)at(x.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled");else if(t.type===Qn)at(x.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function i(t,e,n){var r=t.element;var i=t.data;var o=t.internalformat;var a=t.format;var s=t.type;var l=t.width;var c=t.height;var u=t.channels;S(t);if(r)p.texImage2D(e,n,a,a,s,r);else if(t.compressed)p.compressedTexImage2D(e,n,o,l,c,0,i);else if(t.needsCopy){d();p.copyTexImage2D(e,n,a,t.xOffset,t.yOffset,l,c,0)}else{var f=!i;if(f)i=Ct.zero.allocType(s,l*c*u);p.texImage2D(e,n,a,l,c,0,a,s,i);if(f&&i)Ct.zero.freeType(i)}}function E(t,e,n,r,i){var o=t.element;var a=t.data;var s=t.internalformat;var l=t.format;var c=t.type;var u=t.width;var f=t.height;S(t);if(o)p.texSubImage2D(e,i,n,r,l,c,o);else if(t.compressed)p.compressedTexSubImage2D(e,i,n,r,s,u,f,a);else if(t.needsCopy){d();p.copyTexSubImage2D(e,i,n,r,t.xOffset,t.yOffset,u,f)}else p.texSubImage2D(e,i,n,r,u,f,l,c,a)}var o=[];function L(){return o.pop()||new e}function C(t){if(t.needsFree)Ct.freeType(t.data);e.call(t);o.push(t)}function a(){r.call(this);this.genMipmaps=false;this.mipmapHint=kr;this.mipmask=0;this.images=Array(16)}function O(t,e,n){var r=t.images[0]=L();t.mipmask=1;r.width=t.width=e;r.height=t.height=n;r.channels=t.channels=4}function P(t,e){var n=null;if(ti(e)){n=t.images[0]=L();D(n,t);c(n,e);t.mipmask=1}else{I(t,e);if(Array.isArray(e.mipmap)){var r=e.mipmap;for(var i=0;i<r.length;++i){n=t.images[i]=L();D(n,t);n.width>>=i;n.height>>=i;c(n,r[i]);t.mipmask|=1<<i}}else{n=t.images[0]=L();D(n,t);c(n,e);t.mipmask=1}}D(t,t.images[0]);if(t.compressed&&t.internalformat===Wn||t.internalformat===Vn||t.internalformat===Xn||t.internalformat===$n)at(t.width%4===0&&t.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function F(t,e){var n=t.images;for(var r=0;r<n.length;++r){if(!n[r])return;i(n[r],e,r)}}var s=[];function Y(){var t=s.pop()||new a;r.call(t);t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function R(t){var e=t.images;for(var n=0;n<e.length;++n){if(e[n])C(e[n]);e[n]=null}s.push(t)}function U(){this.minFilter=mr;this.magFilter=mr;this.wrapS=pr;this.wrapT=pr;this.anisotropic=1;this.genMipmaps=false;this.mipmapHint=kr}function B(t,e){if("min"in e){var n=e.min;at.parameter(n,m);t.minFilter=m[n];if(Lr.indexOf(t.minFilter)>=0&&!("faces"in e))t.genMipmaps=true}if("mag"in e){var r=e.mag;at.parameter(r,_);t.magFilter=_[r]}var i=t.wrapS;var o=t.wrapT;if("wrap"in e){var a=e.wrap;if(typeof a==="string"){at.parameter(a,g);i=o=g[a]}else if(Array.isArray(a)){at.parameter(a[0],g);at.parameter(a[1],g);i=g[a[0]];o=g[a[1]]}}else{if("wrapS"in e){var s=e.wrapS;at.parameter(s,g);i=g[s]}if("wrapT"in e){var l=e.wrapT;at.parameter(l,g);o=g[l]}}t.wrapS=i;t.wrapT=o;if("anisotropic"in e){var c=e.anisotropic;at(typeof c==="number"&&c>=1&&c<=x.maxAnisotropic,"aniso samples must be between 1 and ");t.anisotropic=e.anisotropic}if("mipmap"in e){var u=false;switch(Zs(e.mipmap)){case"string":at.parameter(e.mipmap,f,"invalid mipmap hint");t.mipmapHint=f[e.mipmap];t.genMipmaps=true;u=true;break;case"boolean":u=t.genMipmaps=e.mipmap;break;case"object":at(Array.isArray(e.mipmap),"invalid mipmap type");t.genMipmaps=false;u=true;break;default:at.raise("invalid mipmap type")}if(u&&!("min"in e))t.minFilter=vr}}function H(t,e){p.texParameteri(e,_r,t.minFilter);p.texParameteri(e,gr,t.magFilter);p.texParameteri(e,ur,t.wrapS);p.texParameteri(e,fr,t.wrapT);if(u.ext_texture_filter_anisotropic)p.texParameteri(e,Tr,t.anisotropic);if(t.genMipmaps){p.hint(Mr,t.mipmapHint);p.generateMipmap(e)}}var Z=0;var G={};var q=x.maxTextureUnits;var Q=Array(q).map(function(){return null});function W(t){r.call(this);this.mipmask=0;this.internalformat=In;this.id=Z++;this.refCount=1;this.target=t;this.texture=p.createTexture();this.unit=-1;this.bindCount=0;this.texInfo=new U;if(h.profile)this.stats={size:0}}function V(t){p.activeTexture(Er);p.bindTexture(t.target,t.texture)}function X(){var t=Q[0];if(t)p.bindTexture(t.target,t.texture);else p.bindTexture(zn,null)}function $(t){var e=t.texture;at(e,"must not double destroy texture");var n=t.unit;var r=t.target;if(n>=0){p.activeTexture(Er+n);p.bindTexture(r,null);Q[n]=null}p.deleteTexture(e);t.texture=null;t.params=null;t.pixels=null;t.refCount=0;delete G[t.id];l.textureCount--}rt(W.prototype,{bind:function t(){var e=this;e.bindCount+=1;var n=e.unit;if(n<0){for(var r=0;r<q;++r){var i=Q[r];if(i){if(i.bindCount>0)continue;i.unit=-1}Q[r]=e;n=r;break}if(n>=q)at.raise("insufficient number of texture units");if(h.profile&&l.maxTextureUnits<n+1)l.maxTextureUnits=n+1;e.unit=n;p.activeTexture(Er+n);p.bindTexture(e.target,e.texture)}return n},unbind:function t(){this.bindCount-=1},decRef:function t(){if(--this.refCount<=0)$(this)}});function J(t,e){var u=new W(zn);G[u.id]=u;l.textureCount++;function f(t,e){var n=u.texInfo;U.call(n);var r=Y();if(typeof t==="number")if(typeof e==="number")O(r,t|0,e|0);else O(r,t|0,t|0);else if(t){at.type(t,"object","invalid arguments to regl.texture");B(n,t);P(r,t)}else O(r,1,1);if(n.genMipmaps)r.mipmask=(r.width<<1)-1;u.mipmask=r.mipmask;D(u,r);at.texture2D(n,r,x);u.internalformat=r.internalformat;f.width=r.width;f.height=r.height;V(u);F(r,zn);H(n,zn);X();R(r);if(h.profile)u.stats.size=ai(u.internalformat,u.type,r.width,r.height,n.genMipmaps,false);f.format=k[u.internalformat];f.type=j[u.type];f.mag=A[n.magFilter];f.min=T[n.minFilter];f.wrapS=z[n.wrapS];f.wrapT=z[n.wrapT];return f}function n(t,e,n,r){at(!!t,"must specify image data");var i=e|0;var o=n|0;var a=r|0;var s=L();D(s,u);s.width=0;s.height=0;c(s,t);s.width=s.width||(u.width>>a)-i;s.height=s.height||(u.height>>a)-o;at(u.type===s.type&&u.format===s.format&&u.internalformat===s.internalformat,"incompatible format for texture.subimage");at(i>=0&&o>=0&&i+s.width<=u.width&&o+s.height<=u.height,"texture.subimage write out of bounds");at(u.mipmask&1<<a,"missing mipmap data");at(s.data||s.element||s.needsCopy,"missing image data");V(u);E(s,zn,i,o,a);X();C(s);return f}function r(t,e){var n=t|0;var r=e|0||n;if(n===u.width&&r===u.height)return f;f.width=u.width=n;f.height=u.height=r;V(u);var i;var o=u.channels;var a=u.type;for(var s=0;u.mipmask>>s;++s){var l=n>>s;var c=r>>s;if(!l||!c)break;i=Ct.zero.allocType(a,l*c*o);p.texImage2D(zn,s,u.format,l,c,0,u.format,u.type,i);if(i)Ct.zero.freeType(i)}X();if(h.profile)u.stats.size=ai(u.internalformat,u.type,n,r,false,false);return f}f(t,e);f.subimage=n;f.resize=r;f._reglType="texture2d";f._texture=u;if(h.profile)f.stats=u.stats;f.destroy=function(){u.decRef()};return f}function K(t,e,n,r,i,o){var u=new W(Nn);G[u.id]=u;l.cubeCount++;var f=new Array(6);function d(t,e,n,r,i,o){var a;var s=u.texInfo;U.call(s);for(a=0;a<6;++a)f[a]=Y();if(typeof t==="number"||!t){var l=t|0||1;for(a=0;a<6;++a)O(f[a],l,l)}else if(Zs(t)==="object")if(e){P(f[0],t);P(f[1],e);P(f[2],n);P(f[3],r);P(f[4],i);P(f[5],o)}else{B(s,t);I(u,t);if("faces"in t){var c=t.faces;at(Array.isArray(c)&&c.length===6,"cube faces must be a length 6 array");for(a=0;a<6;++a){at(Zs(c[a])==="object"&&!!c[a],"invalid input for cube map face");D(f[a],u);P(f[a],c[a])}}else for(a=0;a<6;++a)P(f[a],t)}else at.raise("invalid arguments to cube map");D(u,f[0]);if(!x.npotTextureCube)at(An(u.width)&&An(u.height),"your browser does not support non power or two texture dimensions");if(s.genMipmaps)u.mipmask=(f[0].width<<1)-1;else u.mipmask=f[0].mipmask;at.textureCube(u,s,f,x);u.internalformat=f[0].internalformat;d.width=f[0].width;d.height=f[0].height;V(u);for(a=0;a<6;++a)F(f[a],Dn+a);H(s,Nn);X();if(h.profile)u.stats.size=ai(u.internalformat,u.type,d.width,d.height,s.genMipmaps,true);d.format=k[u.internalformat];d.type=j[u.type];d.mag=A[s.magFilter];d.min=T[s.minFilter];d.wrapS=z[s.wrapS];d.wrapT=z[s.wrapT];for(a=0;a<6;++a)R(f[a]);return d}function a(t,e,n,r,i){at(!!e,"must specify image data");at(typeof t==="number"&&t===(t|0)&&t>=0&&t<6,"invalid face");var o=n|0;var a=r|0;var s=i|0;var l=L();D(l,u);l.width=0;l.height=0;c(l,e);l.width=l.width||(u.width>>s)-o;l.height=l.height||(u.height>>s)-a;at(u.type===l.type&&u.format===l.format&&u.internalformat===l.internalformat,"incompatible format for texture.subimage");at(o>=0&&a>=0&&o+l.width<=u.width&&a+l.height<=u.height,"texture.subimage write out of bounds");at(u.mipmask&1<<s,"missing mipmap data");at(l.data||l.element||l.needsCopy,"missing image data");V(u);E(l,Dn+t,o,a,s);X();C(l);return d}function s(t){var e=t|0;if(e===u.width)return;d.width=u.width=e;d.height=u.height=e;V(u);for(var n=0;n<6;++n)for(var r=0;u.mipmask>>r;++r)p.texImage2D(Dn+n,r,u.format,e>>r,e>>r,0,u.format,u.type,null);X();if(h.profile)u.stats.size=ai(u.internalformat,u.type,d.width,d.height,false,true);return d}d(t,e,n,r,i,o);d.subimage=a;d.resize=s;d._reglType="textureCube";d._texture=u;if(h.profile)d.stats=u.stats;d.destroy=function(){u.decRef()};return d}function tt(){for(var t=0;t<q;++t){p.activeTexture(Er+t);p.bindTexture(zn,null);Q[t]=null}we(G).forEach($);l.cubeCount=0;l.textureCount=0}if(h.profile)l.getTotalTextureSize=function(){var e=0;Object.keys(G).forEach(function(t){e+=G[t].stats.size});return e};function et(){for(var t=0;t<q;++t){var e=Q[t];if(e){e.bindCount=0;e.unit=-1;Q[t]=null}}we(G).forEach(function(t){t.texture=p.createTexture();p.bindTexture(t.target,t.texture);for(var e=0;e<32;++e){if((t.mipmask&1<<e)===0)continue;if(t.target===zn)p.texImage2D(zn,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var n=0;n<6;++n)p.texImage2D(Dn+n,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null)}H(t.texInfo,t.target)})}return{create2D:J,createCube:K,clear:tt,getTexture:function t(e){return null},restore:et}}Gr[On]=2,Gr[Pn]=2,Gr[Fn]=2,Gr[Zn]=4,Gr[Wn]=.5,Gr[Vn]=.5,Gr[Xn]=1,Gr[$n]=1,Gr[Jn]=.5,Gr[Kn]=1,Gr[tr]=1,Gr[er]=.5,Gr[nr]=.25,Gr[rr]=.5,Gr[ir]=.25,Gr[or]=.5;var li=36161,ci=32854,ui=32855,fi=36194,di=33189,pi=36168,hi=34041,gi=35907,_i=34836,mi=34842,yi=34843,vi=[];function bi(t,e,n){return vi[t]*e*n}vi[ci]=2,vi[ui]=2,vi[fi]=2,vi[di]=2,vi[pi]=1,vi[hi]=4,vi[gi]=4,vi[_i]=16,vi[mi]=8,vi[yi]=6;var xi=function t(c,e,u,r,f){var d={rgba4:ci,rgb565:fi,"rgb5 a1":ui,depth:di,stencil:pi,"depth stencil":hi};if(e.ext_srgb)d["srgba"]=gi;if(e.ext_color_buffer_half_float){d["rgba16f"]=mi;d["rgb16f"]=yi}if(e.webgl_color_buffer_float)d["rgba32f"]=_i;var p=[];Object.keys(d).forEach(function(t){var e=d[t];p[e]=t});var n=0;var i={};function o(t){this.id=n++;this.refCount=1;this.renderbuffer=t;this.format=ci;this.width=0;this.height=0;if(f.profile)this.stats={size:0}}o.prototype.decRef=function(){if(--this.refCount<=0)a(this)};function a(t){var e=t.renderbuffer;at(e,"must not double destroy renderbuffer");c.bindRenderbuffer(li,null);c.deleteRenderbuffer(e);t.renderbuffer=null;t.refCount=0;delete i[t.id];r.renderbufferCount--}function s(t,e){var s=new o(c.createRenderbuffer());i[s.id]=s;r.renderbufferCount++;function l(t,e){var n=0;var r=0;var i=ci;if(Zs(t)==="object"&&t){var o=t;if("shape"in o){var a=o.shape;at(Array.isArray(a)&&a.length>=2,"invalid renderbuffer shape");n=a[0]|0;r=a[1]|0}else{if("radius"in o)n=r=o.radius|0;if("width"in o)n=o.width|0;if("height"in o)r=o.height|0}if("format"in o){at.parameter(o.format,d,"invalid renderbuffer format");i=d[o.format]}}else if(typeof t==="number"){n=t|0;if(typeof e==="number")r=e|0;else r=n}else if(!t)n=r=1;else at.raise("invalid arguments to renderbuffer constructor");at(n>0&&r>0&&n<=u.maxRenderbufferSize&&r<=u.maxRenderbufferSize,"invalid renderbuffer size");if(n===s.width&&r===s.height&&i===s.format)return;l.width=s.width=n;l.height=s.height=r;s.format=i;c.bindRenderbuffer(li,s.renderbuffer);c.renderbufferStorage(li,i,n,r);at(c.getError()===0,"invalid render buffer format");if(f.profile)s.stats.size=bi(s.format,s.width,s.height);l.format=p[s.format];return l}function n(t,e){var n=t|0;var r=e|0||n;if(n===s.width&&r===s.height)return l;at(n>0&&r>0&&n<=u.maxRenderbufferSize&&r<=u.maxRenderbufferSize,"invalid renderbuffer size");l.width=s.width=n;l.height=s.height=r;c.bindRenderbuffer(li,s.renderbuffer);c.renderbufferStorage(li,s.format,n,r);at(c.getError()===0,"invalid render buffer format");if(f.profile)s.stats.size=bi(s.format,s.width,s.height);return l}l(t,e);l.resize=n;l._reglType="renderbuffer";l._renderbuffer=s;if(f.profile)l.stats=s.stats;l.destroy=function(){s.decRef()};return l}if(f.profile)r.getTotalRenderbufferSize=function(){var e=0;Object.keys(i).forEach(function(t){e+=i[t].stats.size});return e};function l(){we(i).forEach(function(t){t.renderbuffer=c.createRenderbuffer();c.bindRenderbuffer(li,t.renderbuffer);c.renderbufferStorage(li,t.format,t.width,t.height)});c.bindRenderbuffer(li,null)}return{create:s,clear:function t(){we(i).forEach(a)},restore:l}},wi=36160,Mi=36161,ki=3553,ji=34069,Ai=36064,Ti=36096,zi=36128,Ni=33306,Di=36053,Ii=36054,Si=36055,Ei=36057,Li=36061,Ci=36193,Oi=5121,Pi=5126,Fi=6407,Yi=6408,Ri=6402,Ui=[Fi,Yi],Bi=[];Bi[Yi]=4,Bi[Fi]=3;var Hi=[];Hi[Oi]=1,Hi[Pi]=4,Hi[Ci]=2;var Zi,Gi,qi,Qi=33189,Wi=36168,Vi=34041,Xi,$i,Ji,Ki,to=[32854,32855,36194,35907,34842,34843,34836],eo={};function no(i,A,T,_,s,r){var z={cur:null,next:null,dirty:false,setFBO:null};var N=["rgba"];var D=["rgba4","rgb565","rgb5 a1"];if(A.ext_srgb)D.push("srgba");if(A.ext_color_buffer_half_float)D.push("rgba16f","rgb16f");if(A.webgl_color_buffer_float)D.push("rgba32f");var I=["uint8"];if(A.oes_texture_half_float)I.push("half float","float16");if(A.oes_texture_float)I.push("float","float32");function l(t,e,n){this.target=t;this.texture=e;this.renderbuffer=n;var r=0;var i=0;if(e){r=e.width;i=e.height}else if(n){r=n.width;i=n.height}this.width=r;this.height=i}function e(t){if(t){if(t.texture)t.texture._texture.decRef();if(t.renderbuffer)t.renderbuffer._renderbuffer.decRef()}}function S(t,e,n){if(!t)return;if(t.texture){var r=t.texture._texture;var i=Math.max(1,r.width);var o=Math.max(1,r.height);at(i===e&&o===n,"inconsistent width/height for supplied texture");r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;at(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer");a.refCount+=1}}function o(t,e){if(e)if(e.texture)i.framebufferTexture2D(wi,t,e.target,e.texture._texture.texture,0);else i.framebufferRenderbuffer(wi,t,Mi,e.renderbuffer._renderbuffer.renderbuffer)}function E(t){var e=ki;var n=null;var r=null;var i=t;if(Zs(t)==="object"){i=t.data;if("target"in t)e=t.target|0}at.type(i,"function","invalid attachment data");var o=i._reglType;if(o==="texture2d"){n=i;at(e===ki)}else if(o==="textureCube"){n=i;at(e>=ji&&e<ji+6,"invalid cube map target")}else if(o==="renderbuffer"){r=i;e=Mi}else at.raise("invalid regl object for attachment");return new l(e,n,r)}function L(t,e,n,r,i){if(n){var o=_.create2D({width:t,height:e,format:r,type:i});o._texture.refCount=0;return new l(ki,o,null)}else{var a=s.create({width:t,height:e,format:r});a._renderbuffer.refCount=0;return new l(Mi,null,a)}}function C(t){return t&&(t.texture||t.renderbuffer)}function a(t,e,n){if(t){if(t.texture)t.texture.resize(e,n);else if(t.renderbuffer)t.renderbuffer.resize(e,n);t.width=e;t.height=n}}var t=0;var n={};function c(){this.id=t++;n[this.id]=this;this.framebuffer=i.createFramebuffer();this.width=0;this.height=0;this.colorAttachments=[];this.depthAttachment=null;this.stencilAttachment=null;this.depthStencilAttachment=null}function O(t){t.colorAttachments.forEach(e);e(t.depthAttachment);e(t.stencilAttachment);e(t.depthStencilAttachment)}function u(t){var e=t.framebuffer;at(e,"must not double destroy framebuffer");i.deleteFramebuffer(e);t.framebuffer=null;r.framebufferCount--;delete n[t.id]}function P(t){var e;i.bindFramebuffer(wi,t.framebuffer);var n=t.colorAttachments;for(e=0;e<n.length;++e)o(Ai+e,n[e]);for(e=n.length;e<T.maxColorAttachments;++e)i.framebufferTexture2D(wi,Ai+e,ki,null,0);i.framebufferTexture2D(wi,Ni,ki,null,0);i.framebufferTexture2D(wi,Ti,ki,null,0);i.framebufferTexture2D(wi,zi,ki,null,0);o(Ti,t.depthAttachment);o(zi,t.stencilAttachment);o(Ni,t.depthStencilAttachment);var r=i.checkFramebufferStatus(wi);if(!i.isContextLost()&&r!==Di)at.raise("framebuffer configuration not supported, status = "+eo[r]);i.bindFramebuffer(wi,z.next?z.next.framebuffer:null);z.cur=z.next;i.getError()}function m(t,e){var k=new c;r.framebufferCount++;function j(t,e){var n;at(z.next!==k,"can not update framebuffer which is currently in use");var r=0;var i=0;var o=true;var a=true;var s=null;var l=true;var c="rgba";var u="uint8";var f=1;var d=null;var p=null;var h=null;var g=false;if(typeof t==="number"){r=t|0;i=e|0||r}else if(!t)r=i=1;else{at.type(t,"object","invalid arguments for framebuffer");var _=t;if("shape"in _){var m=_.shape;at(Array.isArray(m)&&m.length>=2,"invalid shape for framebuffer");r=m[0];i=m[1]}else{if("radius"in _)r=i=_.radius;if("width"in _)r=_.width;if("height"in _)i=_.height}if("color"in _||"colors"in _){s=_.color||_.colors;if(Array.isArray(s))at(s.length===1||A.webgl_draw_buffers,"multiple render targets not supported")}if(!s){if("colorCount"in _){f=_.colorCount|0;at(f>0,"invalid color buffer count")}if("colorTexture"in _){l=!!_.colorTexture;c="rgba4"}if("colorType"in _){u=_.colorType;if(!l){if(u==="half float"||u==="float16"){at(A.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers");c="rgba16f"}else if(u==="float"||u==="float32"){at(A.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers");c="rgba32f"}}else{at(A.oes_texture_float||!(u==="float"||u==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects");at(A.oes_texture_half_float||!(u==="half float"||u==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")}at.oneOf(u,I,"invalid color type")}if("colorFormat"in _){c=_.colorFormat;if(N.indexOf(c)>=0)l=true;else if(D.indexOf(c)>=0)l=false;else if(l)at.oneOf(_.colorFormat,N,"invalid color format for texture");else at.oneOf(_.colorFormat,D,"invalid color format for renderbuffer")}}if("depthTexture"in _||"depthStencilTexture"in _){g=!!(_.depthTexture||_.depthStencilTexture);at(!g||A.webgl_depth_texture,"webgl_depth_texture extension not supported")}if("depth"in _)if(typeof _.depth==="boolean")o=_.depth;else{d=_.depth;a=false}if("stencil"in _)if(typeof _.stencil==="boolean")a=_.stencil;else{p=_.stencil;o=false}if("depthStencil"in _)if(typeof _.depthStencil==="boolean")o=a=_.depthStencil;else{h=_.depthStencil;o=false;a=false}}var y=null;var v=null;var b=null;var x=null;if(Array.isArray(s))y=s.map(E);else if(s)y=[E(s)];else{y=new Array(f);for(n=0;n<f;++n)y[n]=L(r,i,l,c,u)}at(A.webgl_draw_buffers||y.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.");at(y.length<=T.maxColorAttachments,"too many color attachments, not supported");r=r||y[0].width;i=i||y[0].height;if(d)v=E(d);else if(o&&!a)v=L(r,i,g,"depth","uint32");if(p)b=E(p);else if(a&&!o)b=L(r,i,false,"stencil","uint8");if(h)x=E(h);else if(!d&&!p&&a&&o)x=L(r,i,g,"depth stencil","depth stencil");at(!!d+!!p+!!h<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var w=null;for(n=0;n<y.length;++n){S(y[n],r,i);at(!y[n]||y[n].texture&&Ui.indexOf(y[n].texture._texture.format)>=0||y[n].renderbuffer&&to.indexOf(y[n].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+n+" is invalid");if(y[n]&&y[n].texture){var M=Bi[y[n].texture._texture.format]*Hi[y[n].texture._texture.type];if(w===null)w=M;else at(w===M,"all color attachments much have the same number of bits per pixel.")}}S(v,r,i);at(!v||v.texture&&v.texture._texture.format===Ri||v.renderbuffer&&v.renderbuffer._renderbuffer.format===Qi,"invalid depth attachment for framebuffer object");S(b,r,i);at(!b||b.renderbuffer&&b.renderbuffer._renderbuffer.format===Wi,"invalid stencil attachment for framebuffer object");S(x,r,i);at(!x||x.texture&&x.texture._texture.format===Vi||x.renderbuffer&&x.renderbuffer._renderbuffer.format===Vi,"invalid depth-stencil attachment for framebuffer object");O(k);k.width=r;k.height=i;k.colorAttachments=y;k.depthAttachment=v;k.stencilAttachment=b;k.depthStencilAttachment=x;j.color=y.map(C);j.depth=C(v);j.stencil=C(b);j.depthStencil=C(x);j.width=k.width;j.height=k.height;P(k);return j}function n(t,e){at(z.next!==k,"can not resize a framebuffer which is currently in use");var n=Math.max(t|0,1);var r=Math.max(e|0||n,1);if(n===k.width&&r===k.height)return j;var i=k.colorAttachments;for(var o=0;o<i.length;++o)a(i[o],n,r);a(k.depthAttachment,n,r);a(k.stencilAttachment,n,r);a(k.depthStencilAttachment,n,r);k.width=j.width=n;k.height=j.height=r;P(k);return j}j(t,e);return rt(j,{resize:n,_reglType:"framebuffer",_framebuffer:k,destroy:function t(){u(k);O(k)},use:function t(e){z.setFBO({framebuffer:j},e)}})}function f(t){var h=Array(6);function g(t){var e;at(h.indexOf(z.next)<0,"can not update framebuffer which is currently in use");var n={color:null};var r=0;var i=null;var o="rgba";var a="uint8";var s=1;if(typeof t==="number")r=t|0;else if(!t)r=1;else{at.type(t,"object","invalid arguments for framebuffer");var l=t;if("shape"in l){var c=l.shape;at(Array.isArray(c)&&c.length>=2,"invalid shape for framebuffer");at(c[0]===c[1],"cube framebuffer must be square");r=c[0]}else{if("radius"in l)r=l.radius|0;if("width"in l){r=l.width|0;if("height"in l)at(l.height===r,"must be square")}else if("height"in l)r=l.height|0}if("color"in l||"colors"in l){i=l.color||l.colors;if(Array.isArray(i))at(i.length===1||A.webgl_draw_buffers,"multiple render targets not supported")}if(!i){if("colorCount"in l){s=l.colorCount|0;at(s>0,"invalid color buffer count")}if("colorType"in l){at.oneOf(l.colorType,I,"invalid color type");a=l.colorType}if("colorFormat"in l){o=l.colorFormat;at.oneOf(l.colorFormat,N,"invalid color format for texture")}}if("depth"in l)n.depth=l.depth;if("stencil"in l)n.stencil=l.stencil;if("depthStencil"in l)n.depthStencil=l.depthStencil}var u;if(i)if(Array.isArray(i)){u=[];for(e=0;e<i.length;++e)u[e]=i[e]}else u=[i];else{u=Array(s);var f={radius:r,format:o,type:a};for(e=0;e<s;++e)u[e]=_.createCube(f)}n.color=Array(u.length);for(e=0;e<u.length;++e){var d=u[e];at(typeof d==="function"&&d._reglType==="textureCube","invalid cube map");r=r||d.width;at(d.width===r&&d.height===r,"invalid cube map shape");n.color[e]={target:ji,data:u[e]}}for(e=0;e<6;++e){for(var p=0;p<u.length;++p)n.color[p].target=ji+e;if(e>0){n.depth=h[0].depth;n.stencil=h[0].stencil;n.depthStencil=h[0].depthStencil}if(h[e])h[e](n);else h[e]=m(n)}return rt(g,{width:r,height:r,color:u})}function e(t){var e;var n=t|0;at(n>0&&n<=T.maxCubeMapSize,"invalid radius for cube fbo");if(n===g.width)return g;var r=g.color;for(e=0;e<r.length;++e)r[e].resize(n);for(e=0;e<6;++e)h[e].resize(n);g.width=g.height=n;return g}g(t);return rt(g,{faces:h,resize:e,_reglType:"framebufferCube",destroy:function t(){h.forEach(function(t){t.destroy()})}})}function d(){z.cur=null;z.next=null;z.dirty=true;we(n).forEach(function(t){t.framebuffer=i.createFramebuffer();P(t)})}return rt(z,{getFramebuffer:function t(e){if(typeof e==="function"&&e._reglType==="framebuffer"){var n=e._framebuffer;if(n instanceof c)return n}return null},create:m,createCube:f,clear:function t(){we(n).forEach(u)},restore:d})}eo[Di]="complete",eo[Ii]="incomplete attachment",eo[Ei]="incomplete dimensions",eo[Si]="incomplete, missing attachment",eo[Li]="unsupported";var ro=5126;function io(){this.state=0;this.x=0;this.y=0;this.z=0;this.w=0;this.buffer=null;this.size=0;this.normalized=false;this.type=ro;this.offset=0;this.stride=0;this.divisor=0}function oo(t,e,n,r){var i=n.maxAttributes;var o=new Array(i);for(var a=0;a<i;++a)o[a]=new io;return{Record:io,scope:{},state:o}}var ao=35632,so=35633,lo=35718,co=35721;function uo(p,h,o,g){var a={};var s={};function _(t,e,n,r){this.name=t;this.id=e;this.location=n;this.info=r}function m(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id){t[n].location=e.location;return}t.push(e)}function y(t,e,n){var r=t===ao?a:s;var i=r[e];if(!i){var o=h.str(e);i=p.createShader(t);p.shaderSource(i,o);p.compileShader(i);at.shaderError(p,i,o,t,n);r[e]=i}return i}var l={};var c=[];var n=0;function u(t,e){this.id=n++;this.fragId=t;this.vertId=e;this.program=null;this.uniforms=[];this.attributes=[];if(g.profile)this.stats={uniformsCount:0,attributesCount:0}}function f(t,e){var n,r;var i=y(ao,t.fragId);var o=y(so,t.vertId);var a=t.program=p.createProgram();p.attachShader(a,i);p.attachShader(a,o);p.linkProgram(a);at.linkError(p,a,h.str(t.fragId),h.str(t.vertId),e);var s=p.getProgramParameter(a,lo);if(g.profile)t.stats.uniformsCount=s;var l=t.uniforms;for(n=0;n<s;++n){r=p.getActiveUniform(a,n);if(r)if(r.size>1)for(var c=0;c<r.size;++c){var u=r.name.replace("[0]","["+c+"]");m(l,new _(u,h.id(u),p.getUniformLocation(a,u),r))}else m(l,new _(r.name,h.id(r.name),p.getUniformLocation(a,r.name),r))}var f=p.getProgramParameter(a,co);if(g.profile)t.stats.attributesCount=f;var d=t.attributes;for(n=0;n<f;++n){r=p.getActiveAttrib(a,n);if(r)m(d,new _(r.name,h.id(r.name),p.getAttribLocation(a,r.name),r))}}if(g.profile){o.getMaxUniformsCount=function(){var e=0;c.forEach(function(t){if(t.stats.uniformsCount>e)e=t.stats.uniformsCount});return e};o.getMaxAttributesCount=function(){var e=0;c.forEach(function(t){if(t.stats.attributesCount>e)e=t.stats.attributesCount});return e}}function t(){a={};s={};for(var t=0;t<c.length;++t)f(c[t])}return{clear:function t(){var e=p.deleteShader.bind(p);we(a).forEach(e);a={};we(s).forEach(e);s={};c.forEach(function(t){p.deleteProgram(t.program)});c.length=0;l={};o.shaderCount=0},program:function t(e,n,r){at.command(e>=0,"missing vertex shader",r);at.command(n>=0,"missing fragment shader",r);var i=l[n];if(!i)i=l[n]={};var t=i[e];if(!t){t=new u(n,e);o.shaderCount++;f(t,r);i[e]=t;c.push(t)}return t},restore:t,shader:y,frag:-1,vert:-1}}var fo=6408,po=5121,ho=3333,go=5126;function _o(l,c,u,f,d,p,h){function n(t){var e;if(c.next===null){at(d.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer');e=po}else{at(c.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer");e=c.next.colorAttachments[0].texture._texture.type;if(p.oes_texture_float){at(e===po||e===go,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'");if(e===go)at(h.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")}else at(e===po,"Reading from a framebuffer is only allowed for the type 'uint8'")}var n=0;var r=0;var i=f.framebufferWidth;var o=f.framebufferHeight;var a=null;if(nt(t))a=t;else if(t){at.type(t,"object","invalid arguments to regl.read()");n=t.x|0;r=t.y|0;at(n>=0&&n<f.framebufferWidth,"invalid x offset for regl.read");at(r>=0&&r<f.framebufferHeight,"invalid y offset for regl.read");i=(t.width||f.framebufferWidth-n)|0;o=(t.height||f.framebufferHeight-r)|0;a=t.data||null}if(a)if(e===po)at(a instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'");else if(e===go)at(a instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'");at(i>0&&i+n<=f.framebufferWidth,"invalid width for read pixels");at(o>0&&o+r<=f.framebufferHeight,"invalid height for read pixels");u();var s=i*o*4;if(!a)if(e===po)a=new Uint8Array(s);else if(e===go)a=a||new Float32Array(s);at.isTypedArray(a,"data buffer for regl.read() must be a typedarray");at(a.byteLength>=s,"data buffer for regl.read() too small");l.pixelStorei(ho,4);l.readPixels(n,r,i,o,fo,e,a);return a}function e(t){var e;c.setFBO({framebuffer:t.framebuffer},function(){e=n(t)});return e}function t(t){if(!t||!("framebuffer"in t))return n(t);else return e(t)}return t}function mo(t){return Array.prototype.slice.call(t)}function yo(t){return mo(t).join("")}function vo(){var i=0;var r=[];var o=[];function t(t){for(var e=0;e<o.length;++e)if(o[e]===t)return r[e];var n="g"+i++;r.push(n);o.push(t);return n}function a(){var e=[];function t(){e.push.apply(e,mo(arguments))}var n=[];function r(){var t="v"+i++;n.push(t);if(arguments.length>0){e.push(t,"=");e.push.apply(e,mo(arguments));e.push(";")}return t}return rt(t,{def:r,toString:function t(){return yo([n.length>0?"var "+n+";":"",yo(e)])}})}function l(){var i=a();var n=a();var e=i.toString;var r=n.toString;function o(t,e){n(t,e,"=",i.def(t,e),";")}return rt(function(){i.apply(i,mo(arguments))},{def:i.def,entry:i,exit:n,save:o,set:function t(e,n,r){o(e,n);i(e,n,"=",r,";")},toString:function t(){return e()+r()}})}function e(){var n=yo(arguments);var e=l();var r=l();var i=e.toString;var o=r.toString;return rt(e,{then:function t(){e.apply(e,mo(arguments));return this},else:function t(){r.apply(r,mo(arguments));return this},toString:function t(){var e=o();if(e)e="else{"+e+"}";return yo(["if(",n,"){",i(),"}",e])}})}var s=a();var c={};function n(t,e){var n=[];function r(){var t="a"+n.length;n.push(t);return t}e=e||0;for(var i=0;i<e;++i)r();var o=l();var a=o.toString;var s=c[t]=rt(o,{arg:r,toString:function t(){return yo(["function(",n.join(),"){",a(),"}"])}});return s}function u(){var e=['"use strict";',s,"return {"];Object.keys(c).forEach(function(t){e.push('"',t,'":',c[t].toString(),",")});e.push("}");var t=yo(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");var n=Function.apply(null,r.concat(t));return n.apply(null,o)}return{global:s,link:t,block:a,proc:n,scope:l,cond:e,compile:u}}var bo="xyzw".split(""),xo=5121,wo=1,Mo=2,ko=0,jo=1,Ao=2,To=3,zo=4,No="dither",Do="blend.enable",Io="blend.color",So="blend.equation",Eo="blend.func",Lo="depth.enable",Co="depth.func",Oo="depth.range",Po="depth.mask",Fo="colorMask",Yo="cull.enable",Ro="cull.face",Uo="frontFace",Bo="lineWidth",Ho="polygonOffset.enable",Zo="polygonOffset.offset",Go="sample.alpha",qo="sample.enable",Qo="sample.coverage",Wo="stencil.enable",Vo="stencil.mask",Xo="stencil.func",$o="stencil.opFront",Jo="stencil.opBack",Ko="scissor.enable",ta="scissor.box",ea="viewport",na="profile",ra="framebuffer",ia="vert",oa="frag",aa="elements",sa="primitive",la="count",ca="offset",ua="instances",fa="Width",da="Height",pa=ra+fa,ha=ra+da,ga=ea+fa,_a=ea+da,ma="drawingBuffer",ya=ma+fa,va=ma+da,ba=[Eo,So,Xo,$o,Jo,Qo,ea,ta,Zo],xa=34962,wa=34963,Ma,ka,ja=3553,Aa=34067,Ta=2884,za=3042,Na=3024,Da=2960,Ia=2929,Sa=3089,Ea=32823,La=32926,Ca=32928,Oa=5126,Pa=35664,Fa=35665,Ya=35666,Ra=5124,Ua=35667,Ba=35668,Ha=35669,Za=35670,Ga=35671,qa=35672,Qa=35673,Wa=35674,Va=35675,Xa=35676,$a=35678,Ja=35680,Ka=4,ts=1028,es=1029,ns=2304,rs=2305,is=32775,os=32776,as=519,ss=7680,ls=0,cs=1,us=32774,fs=513,ds=36160,ps=36064,hs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},gs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],_s={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ms={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ys={frag:35632,vert:35633},vs={cw:ns,ccw:rs};function bs(t){return Array.isArray(t)||nt(t)||xe(t)}function xs(t){return t.sort(function(t,e){if(t===ea)return-1;else if(e===ea)return 1;return t<e?-1:1})}function ws(t,e,n,r){this.thisDep=t;this.contextDep=e;this.propDep=n;this.append=r}function Ms(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ks(t){return new ws(false,false,false,t)}function js(t,e){var n=t.type;if(n===ko){var r=t.data.length;return new ws(true,r>=1,r>=2,e)}else if(n===zo){var i=t.data;return new ws(i.thisDep,i.contextDep,i.propDep,e)}else return new ws(n===To,n===Ao,n===jo,e)}var As=new ws(false,false,false,function(){});function Ts(t,k,e,h,g,u,n,i,r,f,l,o,a,v,s){var _=f.Record;var c={add:32774,subtract:32778,"reverse subtract":32779};if(e.ext_blend_minmax){c.min=is;c.max=os}var x=e.angle_instanced_arrays;var d=e.webgl_draw_buffers;var m={dirty:true,profile:s.profile};var p={};var y=[];var b={};var w={};function M(t){return t.replace(".","_")}function j(t,e,n){var r=M(t);y.push(t);p[r]=m[r]=!!n;b[r]=e}function A(t,e,n){var r=M(t);y.push(t);if(Array.isArray(n)){m[r]=n.slice();p[r]=n.slice()}else m[r]=p[r]=n;w[r]=e}j(No,Na);j(Do,za);A(Io,"blendColor",[0,0,0,0]);A(So,"blendEquationSeparate",[us,us]);A(Eo,"blendFuncSeparate",[cs,ls,cs,ls]);j(Lo,Ia,true);A(Co,"depthFunc",fs);A(Oo,"depthRange",[0,1]);A(Po,"depthMask",true);A(Fo,Fo,[true,true,true,true]);j(Yo,Ta);A(Ro,"cullFace",es);A(Uo,Uo,rs);A(Bo,Bo,1);j(Ho,Ea);A(Zo,"polygonOffset",[0,0]);j(Go,La);j(qo,Ca);A(Qo,"sampleCoverage",[1,false]);j(Wo,Da);A(Vo,"stencilMask",-1);A(Xo,"stencilFunc",[as,0,-1]);A($o,"stencilOpSeparate",[ts,ss,ss,ss]);A(Jo,"stencilOpSeparate",[es,ss,ss,ss]);j(Ko,Sa);A(ta,"scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);A(ea,ea,[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var T={gl:t,context:a,strings:k,next:p,current:m,draw:o,elements:u,buffer:g,shader:l,attributes:f.state,uniforms:r,framebuffer:i,extensions:e,timer:v,isBufferArgs:bs};var z={primTypes:sn,compareFuncs:_s,blendFuncs:hs,blendEquations:c,stencilOps:ms,glTypes:Ye,orientationType:vs};at.optional(function(){T.isArrayLike=jn});if(d){z.backBuffer=[es];z.drawBuffer=kt(h.maxDrawbuffers,function(t){if(t===0)return[0];return kt(t,function(t){return ps+t})})}var N=0;function D(){var r=vo();var i=r.link;var e=r.global;r.id=N++;r.batchId="0";var n=i(T);var o=r.shared={props:"a0"};Object.keys(T).forEach(function(t){o[t]=e.def(n,".",t)});at.optional(function(){r.CHECK=i(at);r.commandStr=at.guessCommand();r.command=i(r.commandStr);r.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",i(n),",",this.command,");")};z.invalidBlendCombinations=gs});var a=r.next={};var s=r.current={};Object.keys(w).forEach(function(t){if(Array.isArray(m[t])){a[t]=e.def(o.next,".",t);s[t]=e.def(o.current,".",t)}});var l=r.constants={};Object.keys(z).forEach(function(t){l[t]=e.def(JSON.stringify(z[t]))});r.invoke=function(t,e){switch(e.type){case ko:var n=["this",o.context,o.props,r.batchId];return t.def(i(e.data),".call(",n.slice(0,Math.max(e.data.length+1,4)),")");case jo:return t.def(o.props,e.data);case Ao:return t.def(o.context,e.data);case To:return t.def("this",e.data);case zo:e.data.append(r,t);return e.data.ref}};r.attribCache={};var c={};r.scopeAttrib=function(t){var e=k.id(t);if(e in c)return c[e];var n=f.scope[e];if(!n)n=f.scope[e]=new _;var r=c[e]=i(n);return r};return r}function I(t){var e=t.static;var n=t.dynamic;var r;if(na in e){var i=!!e[na];r=ks(function(t,e){return i});r.enable=i}else if(na in n){var o=n[na];r=js(o,function(t,e){return t.invoke(e,o)})}return r}function S(t,e){var n=t.static;var r=t.dynamic;if(ra in n){var o=n[ra];if(o){o=i.getFramebuffer(o);at.command(o,"invalid framebuffer object");return ks(function(t,e){var n=t.link(o);var r=t.shared;e.set(r.framebuffer,".next",n);var i=r.context;e.set(i,"."+pa,n+".width");e.set(i,"."+ha,n+".height");return n})}else return ks(function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;e.set(r,"."+pa,r+"."+ya);e.set(r,"."+ha,r+"."+va);return"null"})}else if(ra in r){var s=r[ra];return js(s,function(t,e){var n=t.invoke(e,s);var r=t.shared;var i=r.framebuffer;var o=e.def(i,".getFramebuffer(",n,")");at.optional(function(){t.assert(e,"!"+n+"||"+o,"invalid framebuffer object")});e.set(i,".next",o);var a=r.context;e.set(a,"."+pa,o+"?"+o+".width:"+a+"."+ya);e.set(a,"."+ha,o+"?"+o+".height:"+a+"."+va);return o})}else return null}function E(t,n,r){var i=t.static;var d=t.dynamic;function e(l){if(l in i){var o=i[l];at.commandType(o,"object","invalid "+l,r.commandStr);var t=true;var a=o.x|0;var s=o.y|0;var c,u;if("width"in o){c=o.width|0;at.command(c>=0,"invalid "+l,r.commandStr)}else t=false;if("height"in o){u=o.height|0;at.command(u>=0,"invalid "+l,r.commandStr)}else t=false;return new ws(!t&&n&&n.thisDep,!t&&n&&n.contextDep,!t&&n&&n.propDep,function(t,e){var n=t.shared.context;var r=c;if(!("width"in o))r=e.def(n,".",pa,"-",a);var i=u;if(!("height"in o))i=e.def(n,".",ha,"-",s);return[a,s,r,i]})}else if(l in d){var f=d[l];var e=js(f,function(t,e){var n=t.invoke(e,f);at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+l)});var r=t.shared.context;var i=e.def(n,".x|0");var o=e.def(n,".y|0");var a=e.def('"width" in ',n,"?",n,".width|0:","(",r,".",pa,"-",i,")");var s=e.def('"height" in ',n,"?",n,".height|0:","(",r,".",ha,"-",o,")");at.optional(function(){t.assert(e,a+">=0&&"+s+">=0","invalid "+l)});return[i,o,a,s]});if(n){e.thisDep=e.thisDep||n.thisDep;e.contextDep=e.contextDep||n.contextDep;e.propDep=e.propDep||n.propDep}return e}else if(n)return new ws(n.thisDep,n.contextDep,n.propDep,function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",pa),e.def(n,".",ha)]});else return null}var o=e(ea);if(o){var a=o;o=new ws(o.thisDep,o.contextDep,o.propDep,function(t,e){var n=a.append(t,e);var r=t.shared.context;e.set(r,"."+ga,n[2]);e.set(r,"."+_a,n[3]);return n})}return{viewport:o,scissor_box:e(ta)}}function L(t){var n=t.static;var r=t.dynamic;function e(i){if(i in n){var t=k.id(n[i]);at.optional(function(){l.shader(ys[i],t,at.guessCommand())});var e=ks(function(){return t});e.id=t;return e}else if(i in r){var o=r[i];return js(o,function(t,e){var n=t.invoke(e,o);var r=e.def(t.shared.strings,".id(",n,")");at.optional(function(){e(t.shared.shader,".shader(",ys[i],",",r,",",t.command,");")});return r})}return null}var a=e(oa);var s=e(ia);var i=null;var o;if(Ms(a)&&Ms(s)){i=l.program(s.id,a.id);o=ks(function(t,e){return t.link(i)})}else o=new ws(a&&a.thisDep||s&&s.thisDep,a&&a.contextDep||s&&s.contextDep,a&&a.propDep||s&&s.propDep,function(t,e){var n=t.shared.shader;var r;if(a)r=a.append(t,e);else r=e.def(n,".",oa);var i;if(s)i=s.append(t,e);else i=e.def(n,".",ia);var o=n+".program("+i+","+r;at.optional(function(){o+=","+t.command});return e.def(o+")")});return{frag:a,vert:s,progVar:o,program:i}}function C(t,a){var s=t.static;var l=t.dynamic;function e(){if(aa in s){var r=s[aa];if(bs(r))r=u.getElements(u.create(r,true));else if(r){r=u.getElements(r);at.command(r,"invalid elements",a.commandStr)}var t=ks(function(t,e){if(r){var n=t.link(r);t.ELEMENTS=n;return n}t.ELEMENTS=null;return null});t.value=r;return t}else if(aa in l){var c=l[aa];return js(c,function(t,e){var n=t.shared;var r=n.isBufferArgs;var i=n.elements;var o=t.invoke(e,c);var a=e.def("null");var s=e.def(r,"(",o,")");var l=t.cond(s).then(a,"=",i,".createStream(",o,");").else(a,"=",i,".getElements(",o,");");at.optional(function(){t.assert(l.else,"!"+o+"||"+a,"invalid elements")});e.entry(l);e.exit(t.cond(s).then(i,".destroyStream(",a,");"));t.ELEMENTS=a;return a})}return null}var c=e();function n(){if(sa in s){var n=s[sa];at.commandParameter(n,sn,"invalid primitve",a.commandStr);return ks(function(t,e){return sn[n]})}else if(sa in l){var i=l[sa];return js(i,function(t,e){var n=t.constants.primTypes;var r=t.invoke(e,i);at.optional(function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(sn))});return e.def(n,"[",r,"]")})}else if(c)if(Ms(c))if(c.value)return ks(function(t,e){return e.def(t.ELEMENTS,".primType")});else return ks(function(){return Ka});else return new ws(c.thisDep,c.contextDep,c.propDep,function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",Ka)});return null}function r(r,i){if(r in s){var n=s[r]|0;at.command(!i||n>=0,"invalid "+r,a.commandStr);return ks(function(t,e){if(i)t.OFFSET=n;return n})}else if(r in l){var o=l[r];return js(o,function(t,e){var n=t.invoke(e,o);if(i){t.OFFSET=n;at.optional(function(){t.assert(e,n+">=0","invalid "+r)})}return n})}else if(i&&c)return ks(function(t,e){t.OFFSET="0";return 0});return null}var i=r(ca,true);function o(){if(la in s){var t=s[la]|0;at.command(typeof t==="number"&&t>=0,"invalid vertex count",a.commandStr);return ks(function(){return t})}else if(la in l){var r=l[la];return js(r,function(t,e){var n=t.invoke(e,r);at.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")});return n})}else if(c)if(Ms(c))if(c)if(i)return new ws(i.thisDep,i.contextDep,i.propDep,function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);at.optional(function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")});return n});else return ks(function(t,e){return e.def(t.ELEMENTS,".vertCount")});else{var e=ks(function(){return-1});at.optional(function(){e.MISSING=true});return e}else{var n=new ws(c.thisDep||i.thisDep,c.contextDep||i.contextDep,c.propDep||i.propDep,function(t,e){var n=t.ELEMENTS;if(t.OFFSET)return e.def(n,"?",n,".vertCount-",t.OFFSET,":-1");return e.def(n,"?",n,".vertCount:-1")});at.optional(function(){n.DYNAMIC=true});return n}return null}return{elements:c,primitive:n(),count:o(),instances:r(ua,false),offset:i}}function O(t,a){var i=t.static;var s=t.dynamic;var l={};y.forEach(function(f){var o=M(f);function t(t,n){if(f in i){var e=t(i[f]);l[o]=ks(function(){return e})}else if(f in s){var r=s[f];l[o]=js(r,function(t,e){return n(t,e,t.invoke(e,r))})}}switch(f){case Yo:case Do:case No:case Wo:case Lo:case Ko:case Ho:case Go:case qo:case Po:return t(function(t){at.commandType(t,"boolean",f,a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="boolean"',"invalid flag "+f,t.commandStr)});return n});case Co:return t(function(t){at.commandParameter(t,_s,"invalid "+f,a.commandStr);return _s[t]},function(t,e,n){var r=t.constants.compareFuncs;at.optional(function(){t.assert(e,n+" in "+r,"invalid "+f+", must be one of "+Object.keys(_s))});return e.def(r,"[",n,"]")});case Oo:return t(function(t){at.command(jn(t)&&t.length===2&&typeof t[0]==="number"&&typeof t[1]==="number"&&t[0]<=t[1],"depth range is 2d array",a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&"+"typeof "+n+'[0]==="number"&&'+"typeof "+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")});var r=e.def("+",n,"[0]");var i=e.def("+",n,"[1]");return[r,i]});case Eo:return t(function(t){at.commandType(t,"object","blend.func",a.commandStr);var e="srcRGB"in t?t.srcRGB:t.src;var n="srcAlpha"in t?t.srcAlpha:t.src;var r="dstRGB"in t?t.dstRGB:t.dst;var i="dstAlpha"in t?t.dstAlpha:t.dst;at.commandParameter(e,hs,o+".srcRGB",a.commandStr);at.commandParameter(n,hs,o+".srcAlpha",a.commandStr);at.commandParameter(r,hs,o+".dstRGB",a.commandStr);at.commandParameter(i,hs,o+".dstAlpha",a.commandStr);at.command(gs.indexOf(e+", "+r)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+e+", "+r+")",a.commandStr);return[hs[e],hs[r],hs[n],hs[i]]},function(r,i,o){var a=r.constants.blendFuncs;at.optional(function(){r.assert(i,o+"&&typeof "+o+'==="object"',"invalid blend func, must be an object")});function t(t,e){var n=i.def('"',t,e,'" in ',o,"?",o,".",t,e,":",o,".",t);at.optional(function(){r.assert(i,n+" in "+a,"invalid "+f+"."+t+e+", must be one of "+Object.keys(hs))});return n}var e=t("src","RGB");var n=t("dst","RGB");at.optional(function(){var t=r.constants.invalidBlendCombinations;r.assert(i,t+".indexOf("+e+'+", "+'+n+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var s=i.def(a,"[",e,"]");var l=i.def(a,"[",t("src","Alpha"),"]");var c=i.def(a,"[",n,"]");var u=i.def(a,"[",t("dst","Alpha"),"]");return[s,c,l,u]});case So:return t(function(t){if(typeof t==="string"){at.commandParameter(t,c,"invalid "+f,a.commandStr);return[c[t],c[t]]}else if(Zs(t)==="object"){at.commandParameter(t.rgb,c,f+".rgb",a.commandStr);at.commandParameter(t.alpha,c,f+".alpha",a.commandStr);return[c[t.rgb],c[t.alpha]]}else at.commandRaise("invalid blend.equation",a.commandStr)},function(r,t,e){var i=r.constants.blendEquations;var n=t.def();var o=t.def();var a=r.cond("typeof ",e,'==="string"');at.optional(function(){function t(t,e,n){r.assert(t,n+" in "+i,"invalid "+e+", must be one of "+Object.keys(c))}t(a.then,f,e);r.assert(a.else,e+"&&typeof "+e+'==="object"',"invalid "+f);t(a.else,f+".rgb",e+".rgb");t(a.else,f+".alpha",e+".alpha")});a.then(n,"=",o,"=",i,"[",e,"];");a.else(n,"=",i,"[",e,".rgb];",o,"=",i,"[",e,".alpha];");t(a);return[n,o]});case Io:return t(function(e){at.command(jn(e)&&e.length===4,"blend.color must be a 4d array",a.commandStr);return kt(4,function(t){return+e[t]})},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")});return kt(4,function(t){return e.def("+",n,"[",t,"]")})});case Vo:return t(function(t){at.commandType(t,"number",o,a.commandStr);return t|0},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")});return e.def(n,"|0")});case Xo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.cmp||"keep";var n=t.ref||0;var r="mask"in t?t.mask:-1;at.commandParameter(e,_s,f+".cmp",a.commandStr);at.commandType(n,"number",f+".ref",a.commandStr);at.commandType(r,"number",f+".mask",a.commandStr);return[_s[e],n,r]},function(e,n,r){var i=e.constants.compareFuncs;at.optional(function(){function t(){e.assert(n,Array.prototype.join.call(arguments,""),"invalid stencil.func")}t(r+"&&typeof ",r,'==="object"');t('!("cmp" in ',r,")||(",r,".cmp in ",i,")")});var t=n.def('"cmp" in ',r,"?",i,"[",r,".cmp]",":",ss);var o=n.def(r,".ref|0");var a=n.def('"mask" in ',r,"?",r,".mask|0:-1");return[t,o,a]});case $o:case Jo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.fail||"keep";var n=t.zfail||"keep";var r=t.zpass||"keep";at.commandParameter(e,ms,f+".fail",a.commandStr);at.commandParameter(n,ms,f+".zfail",a.commandStr);at.commandParameter(r,ms,f+".zpass",a.commandStr);return[f===Jo?es:ts,ms[e],ms[n],ms[r]]},function(e,n,r){var i=e.constants.stencilOps;at.optional(function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+f)});function t(t){at.optional(function(){e.assert(n,'!("'+t+'" in '+r+")||"+"("+r+"."+t+" in "+i+")","invalid "+f+"."+t+", must be one of "+Object.keys(ms))});return n.def('"',t,'" in ',r,"?",i,"[",r,".",t,"]:",ss)}return[f===Jo?es:ts,t("fail"),t("zfail"),t("zpass")]});case Zo:return t(function(t){at.commandType(t,"object",o,a.commandStr);var e=t.factor|0;var n=t.units|0;at.commandType(e,"number",o+".factor",a.commandStr);at.commandType(n,"number",o+".units",a.commandStr);return[e,n]},function(t,e,n){at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid "+f)});var r=e.def(n,".factor|0");var i=e.def(n,".units|0");return[r,i]});case Ro:return t(function(t){var e=0;if(t==="front")e=ts;else if(t==="back")e=es;at.command(!!e,o,a.commandStr);return e},function(t,e,n){at.optional(function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")});return e.def(n,'==="front"?',ts,":",es)});case Bo:return t(function(t){at.command(typeof t==="number"&&t>=h.lineWidthDims[0]&&t<=h.lineWidthDims[1],"invalid line width, must be a positive number between "+h.lineWidthDims[0]+" and "+h.lineWidthDims[1],a.commandStr);return t},function(t,e,n){at.optional(function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+h.lineWidthDims[0]+"&&"+n+"<="+h.lineWidthDims[1],"invalid line width")});return n});case Uo:return t(function(t){at.commandParameter(t,vs,o,a.commandStr);return vs[t]},function(t,e,n){at.optional(function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")});return e.def(n+'==="cw"?'+ns+":"+rs)});case Fo:return t(function(t){at.command(jn(t)&&t.length===4,"color.mask must be length 4 array",a.commandStr);return t.map(function(t){return!!t})},function(t,e,n){at.optional(function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")});return kt(4,function(t){return"!!"+n+"["+t+"]"})});case Qo:return t(function(t){at.command(Zs(t)==="object"&&t,o,a.commandStr);var e="value"in t?t.value:1;var n=!!t.invert;at.command(typeof e==="number"&&e>=0&&e<=1,"sample.coverage.value must be a number between 0 and 1",a.commandStr);return[e,n]},function(t,e,n){at.optional(function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")});var r=e.def('"value" in ',n,"?+",n,".value:1");var i=e.def("!!",n,".invert");return[r,i]})}});return l}function P(t,i){var o=t.static;var e=t.dynamic;var a={};Object.keys(o).forEach(function(n){var r=o[n];var t;if(typeof r==="number"||typeof r==="boolean")t=ks(function(){return r});else if(typeof r==="function"){var e=r._reglType;if(e==="texture2d"||e==="textureCube")t=ks(function(t){return t.link(r)});else if(e==="framebuffer"||e==="framebufferCube"){at.command(r.color.length>0,'missing color attachment for framebuffer sent to uniform "'+n+'"',i.commandStr);t=ks(function(t){return t.link(r.color[0])})}else at.commandRaise('invalid data for uniform "'+n+'"',i.commandStr)}else if(jn(r))t=ks(function(e){var t=e.global.def("[",kt(r.length,function(t){at.command(typeof r[t]==="number"||typeof r[t]==="boolean","invalid uniform "+n,e.commandStr);return r[t]}),"]");return t});else at.commandRaise('invalid or missing data for uniform "'+n+'"',i.commandStr);t.value=r;a[n]=t});Object.keys(e).forEach(function(t){var n=e[t];a[t]=js(n,function(t,e){return t.invoke(e,n)})});return a}function F(t,d){var p=t.static;var e=t.dynamic;var h={};Object.keys(p).forEach(function(r){var t=p[r];var i=k.id(r);var o=new _;if(bs(t)){o.state=wo;o.buffer=g.getBuffer(g.create(t,xa,false,true));o.type=0}else{var e=g.getBuffer(t);if(e){o.state=wo;o.buffer=e;o.type=0}else{at.command(Zs(t)==="object"&&t,"invalid data for attribute "+r,d.commandStr);if("constant"in t){var n=t.constant;o.buffer="null";o.state=Mo;if(typeof n==="number")o.x=n;else{at.command(jn(n)&&n.length>0&&n.length<=4,"invalid constant for attribute "+r,d.commandStr);bo.forEach(function(t,e){if(e<n.length)o[t]=n[e]})}}else{if(bs(t.buffer))e=g.getBuffer(g.create(t.buffer,xa,false,true));else e=g.getBuffer(t.buffer);at.command(!!e,'missing buffer for attribute "'+r+'"',d.commandStr);var a=t.offset|0;at.command(a>=0,'invalid offset for attribute "'+r+'"',d.commandStr);var s=t.stride|0;at.command(s>=0&&s<256,'invalid stride for attribute "'+r+'", must be integer betweeen [0, 255]',d.commandStr);var l=t.size|0;at.command(!("size"in t)||l>0&&l<=4,'invalid size for attribute "'+r+'", must be 1,2,3,4',d.commandStr);var c=!!t.normalized;var u=0;if("type"in t){at.commandParameter(t.type,Ye,"invalid type for attribute "+r,d.commandStr);u=Ye[t.type]}var f=t.divisor|0;if("divisor"in t){at.command(f===0||x,'cannot specify divisor for attribute "'+r+'", instancing not supported',d.commandStr);at.command(f>=0,'invalid divisor for attribute "'+r+'"',d.commandStr)}at.optional(function(){var e=d.commandStr;var n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(t).forEach(function(t){at.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+r+'" (valid parameters are '+n+")",e)})});o.buffer=e;o.state=wo;o.size=l;o.normalized=c;o.type=u||e.dtype;o.offset=a;o.stride=s;o.divisor=f}}}h[r]=ks(function(t,e){var n=t.attribCache;if(i in n)return n[i];var r={isStream:false};Object.keys(o).forEach(function(t){r[t]=o[t]});if(o.buffer){r.buffer=t.link(o.buffer);r.type=r.type||r.buffer+".dtype"}n[i]=r;return r})});Object.keys(e).forEach(function(f){var d=e[f];function t(t,e){var n=t.invoke(e,d);var r=t.shared;var i=r.isBufferArgs;var o=r.buffer;at.optional(function(){t.assert(e,n+"&&(typeof "+n+'==="object"||typeof '+n+'==="function")&&('+i+"("+n+")||"+o+".getBuffer("+n+")||"+o+".getBuffer("+n+".buffer)||"+i+"("+n+".buffer)||"+'("constant" in '+n+"&&(typeof "+n+'.constant==="number"||'+r.isArrayLike+"("+n+".constant))))",'invalid dynamic attribute "'+f+'"')});var a={isStream:e.def(false)};var s=new _;s.state=wo;Object.keys(s).forEach(function(t){a[t]=e.def(""+s[t])});var l=a.buffer;var c=a.type;e("if(",i,"(",n,")){",a.isStream,"=true;",l,"=",o,".createStream(",xa,",",n,");",c,"=",l,".dtype;","}else{",l,"=",o,".getBuffer(",n,");","if(",l,"){",c,"=",l,".dtype;",'}else if("constant" in ',n,"){",a.state,"=",Mo,";","if(typeof "+n+'.constant === "number"){',a[bo[0]],"=",n,".constant;",bo.slice(1).map(function(t){return a[t]}).join("="),"=0;","}else{",bo.map(function(t,e){return a[t]+"="+n+".constant.length>"+e+"?"+n+".constant["+e+"]:0;"}).join(""),"}}else{","if(",i,"(",n,".buffer)){",l,"=",o,".createStream(",xa,",",n,".buffer);","}else{",l,"=",o,".getBuffer(",n,".buffer);","}",c,'="type" in ',n,"?",r.glTypes,"[",n,".type]:",l,".dtype;",a.normalized,"=!!",n,".normalized;");function u(t){e(a[t],"=",n,".",t,"|0;")}u("size");u("offset");u("stride");u("divisor");e("}}");e.exit("if(",a.isStream,"){",o,".destroyStream(",l,");","}");return a}h[f]=js(d,t)});return h}function Y(t){var e=t.static;var r=t.dynamic;var i={};Object.keys(e).forEach(function(t){var n=e[t];i[t]=ks(function(t,e){if(typeof n==="number"||typeof n==="boolean")return""+n;else return t.link(n)})});Object.keys(r).forEach(function(t){var n=r[t];i[t]=js(n,function(t,e){return t.invoke(e,n)})});return i}function R(t,e,n,r,i){var o=t.static;var a=t.dynamic;at.optional(function(){var e=[ra,ia,oa,aa,sa,ca,la,ua,na].concat(y);function t(t){Object.keys(t).forEach(function(t){at.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',i.commandStr)})}t(o);t(a)});var s=S(t);var l=E(t,s,i);var c=C(t,i);var u=O(t,i);var f=L(t);function d(t){var e=l[t];if(e)u[t]=e}d(ea);d(M(ta));var p=Object.keys(u).length>0;var h={framebuffer:s,draw:c,shader:f,state:u,dirty:p};h.profile=I(t);h.uniforms=P(n,i);h.attributes=F(e,i);h.context=Y(r);return h}function U(n,r,i){var t=n.shared;var o=t.context;var a=n.scope();Object.keys(i).forEach(function(t){r.save(o,"."+t);var e=i[t];a(o,".",t,"=",e.append(n,r),";")});r(a)}function B(t,e,n,r){var i=t.shared;var o=i.gl;var a=i.framebuffer;var s;if(d)s=e.def(i.extensions,".webgl_draw_buffers");var l=t.constants;var c=l.drawBuffer;var u=l.backBuffer;var f;if(n)f=n.append(t,e);else f=e.def(a,".next");if(!r)e("if(",f,"!==",a,".cur){");e("if(",f,"){",o,".bindFramebuffer(",ds,",",f,".framebuffer);");if(d)e(s,".drawBuffersWEBGL(",c,"[",f,".colorAttachments.length]);");e("}else{",o,".bindFramebuffer(",ds,",null);");if(d)e(s,".drawBuffersWEBGL(",u,");");e("}",a,".cur=",f,";");if(!r)e("}")}function H(a,t,s){var e=a.shared;var l=e.gl;var c=a.current;var u=a.next;var f=e.current;var d=e.next;var p=a.cond(f,".dirty");y.forEach(function(t){var e=M(t);if(e in s.state)return;var n,r;if(e in u){n=u[e];r=c[e];var i=kt(m[e].length,function(t){return p.def(n,"[",t,"]")});p(a.cond(i.map(function(t,e){return t+"!=="+r+"["+e+"]"}).join("||")).then(l,".",w[e],"(",i,");",i.map(function(t,e){return r+"["+e+"]="+t}).join(";"),";"))}else{n=p.def(d,".",e);var o=a.cond(n,"!==",f,".",e);p(o);if(e in b)o(a.cond(n).then(l,".enable(",b[e],");").else(l,".disable(",b[e],");"),f,".",e,"=",n,";");else o(l,".",w[e],"(",n,");",f,".",e,"=",n,";")}});if(Object.keys(s.state).length===0)p(f,".dirty=false;");t(p)}function Z(o,a,s,l){var t=o.shared;var c=o.current;var u=t.current;var f=t.gl;xs(Object.keys(s)).forEach(function(t){var e=s[t];if(l&&!l(e))return;var n=e.append(o,a);if(b[t]){var r=b[t];if(Ms(e))if(n)a(f,".enable(",r,");");else a(f,".disable(",r,");");else a(o.cond(n).then(f,".enable(",r,");").else(f,".disable(",r,");"));a(u,".",t,"=",n,";")}else if(jn(n)){var i=c[t];a(f,".",w[t],"(",n,");",n.map(function(t,e){return i+"["+e+"]="+t}).join(";"),";")}else a(f,".",w[t],"(",n,");",u,".",t,"=",n,";")})}function G(t,e){if(x)t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays")}function q(t,n,e,r,i){var o=t.shared;var a=t.stats;var s=o.current;var l=o.timer;var c=e.profile;function u(){if(typeof performance==="undefined")return"Date.now()";else return"performance.now()"}var f,d;function p(t){f=n.def();t(f,"=",u(),";");if(typeof i==="string")t(a,".count+=",i,";");else t(a,".count++;");if(v)if(r){d=n.def();t(d,"=",l,".getNumPendingQueries();")}else t(l,".beginQuery(",a,");")}function h(t){t(a,".cpuTime+=",u(),"-",f,";");if(v)if(r)t(l,".pushScopeStats(",d,",",l,".getNumPendingQueries(),",a,");");else t(l,".endQuery();")}function g(t){var e=n.def(s,".profile");n(s,".profile=",t,";");n.exit(s,".profile=",e,";")}var _;if(c){if(Ms(c)){if(c.enable){p(n);h(n.exit);g("true")}else g("false");return}_=c.append(t,n);g(_)}else _=n.def(s,".profile");var m=t.block();p(m);n("if(",_,"){",m,"}");var y=t.block();h(y);n.exit("if(",_,"){",y,"}")}function Q(d,p,o,t,a){var h=d.shared;function s(t){switch(t){case Pa:case Ua:case Ga:return 2;case Fa:case Ba:case qa:return 3;case Ya:case Ha:case Qa:return 4;default:return 1}}function l(t,r,i){var o=h.gl;var a=p.def(t,".location");var s=p.def(h.attributes,"[",a,"]");var e=i.state;var l=i.buffer;var n=[i.x,i.y,i.z,i.w];var c=["buffer","normalized","offset","stride"];function u(){p("if(!",s,".buffer){",o,".enableVertexAttribArray(",a,");}");var t=i.type;var e;if(!i.size)e=r;else e=p.def(i.size,"||",r);p("if(",s,".type!==",t,"||",s,".size!==",e,"||",c.map(function(t){return s+"."+t+"!=="+i[t]}).join("||"),"){",o,".bindBuffer(",xa,",",l,".buffer);",o,".vertexAttribPointer(",[a,e,t,i.normalized,i.stride,i.offset],");",s,".type=",t,";",s,".size=",e,";",c.map(function(t){return s+"."+t+"="+i[t]+";"}).join(""),"}");if(x){var n=i.divisor;p("if(",s,".divisor!==",n,"){",d.instancing,".vertexAttribDivisorANGLE(",[a,n],");",s,".divisor=",n,";}")}}function f(){p("if(",s,".buffer){",o,".disableVertexAttribArray(",a,");","}if(",bo.map(function(t,e){return s+"."+t+"!=="+n[e]}).join("||"),"){",o,".vertexAttrib4f(",a,",",n,");",bo.map(function(t,e){return s+"."+t+"="+n[e]+";"}).join(""),"}")}if(e===wo)u();else if(e===Mo)f();else{p("if(",e,"===",wo,"){");u();p("}else{");f();p("}")}}t.forEach(function(t){var e=t.name;var n=o.attributes[e];var r;if(n){if(!a(n))return;r=n.append(d,p)}else{if(!a(As))return;var i=d.scopeAttrib(e);at.optional(function(){d.assert(p,i+".state","missing attribute "+e)});r={};Object.keys(new _).forEach(function(t){r[t]=p.def(i,".",t)})}l(d.link(t),s(t.info.type),r)})}function W(i,o,t,e,n){var a=i.shared;var r=a.gl;var s;for(var l=0;l<e.length;++l){var c=e[l];var u=c.name;var f=c.info.type;var d=t.uniforms[u];var p=i.link(c);var h=p+".location";var g;if(d){if(!n(d))continue;if(Ms(d)){var _=d.value;at.command(_!==null&&typeof _!=="undefined",'missing uniform "'+u+'"',i.commandStr);if(f===$a||f===Ja){at.command(typeof _==="function"&&(f===$a&&(_._reglType==="texture2d"||_._reglType==="framebuffer")||f===Ja&&(_._reglType==="textureCube"||_._reglType==="framebufferCube")),"invalid texture for uniform "+u,i.commandStr);var m=i.link(_._texture||_.color[0]._texture);o(r,".uniform1i(",h,",",m+".bind());");o.exit(m,".unbind();")}else if(f===Wa||f===Va||f===Xa){at.optional(function(){at.command(jn(_),"invalid matrix for uniform "+u,i.commandStr);at.command(f===Wa&&_.length===4||f===Va&&_.length===9||f===Xa&&_.length===16,"invalid length for matrix uniform "+u,i.commandStr)});var y=i.global.def("new Float32Array(["+Array.prototype.slice.call(_)+"])");var v=2;if(f===Va)v=3;else if(f===Xa)v=4;o(r,".uniformMatrix",v,"fv(",h,",false,",y,");")}else{switch(f){case Oa:at.commandType(_,"number","uniform "+u,i.commandStr);s="1f";break;case Pa:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2f";break;case Fa:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3f";break;case Ya:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4f";break;case Za:at.commandType(_,"boolean","uniform "+u,i.commandStr);s="1i";break;case Ra:at.commandType(_,"number","uniform "+u,i.commandStr);s="1i";break;case Ga:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2i";break;case Ua:at.command(jn(_)&&_.length===2,"uniform "+u,i.commandStr);s="2i";break;case qa:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3i";break;case Ba:at.command(jn(_)&&_.length===3,"uniform "+u,i.commandStr);s="3i";break;case Qa:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4i";break;case Ha:at.command(jn(_)&&_.length===4,"uniform "+u,i.commandStr);s="4i";break}o(r,".uniform",s,"(",h,",",jn(_)?Array.prototype.slice.call(_):_,");")}continue}else g=d.append(i,o)}else{if(!n(As))continue;g=o.def(a.uniforms,"[",k.id(u),"]")}if(f===$a)o("if(",g,"&&",g,'._reglType==="framebuffer"){',g,"=",g,".color[0];","}");else if(f===Ja)o("if(",g,"&&",g,'._reglType==="framebufferCube"){',g,"=",g,".color[0];","}");at.optional(function(){function n(t,e){i.assert(o,t,'bad data or missing for uniform "'+u+'".  '+e)}function t(t){n("typeof "+g+'==="'+t+'"',"invalid type, expected "+t)}function e(t,e){n(a.isArrayLike+"("+g+")&&"+g+".length==="+t,"invalid vector, should have length "+t,i.commandStr)}function r(t){n("typeof "+g+'==="function"&&'+g+'._reglType==="texture'+(t===ja?"2d":"Cube")+'"',"invalid texture type",i.commandStr)}switch(f){case Ra:t("number");break;case Ua:e(2);break;case Ba:e(3);break;case Ha:e(4);break;case Oa:t("number");break;case Pa:e(2);break;case Fa:e(3);break;case Ya:e(4);break;case Za:t("boolean");break;case Ga:e(2);break;case qa:e(3);break;case Qa:e(4);break;case Wa:e(4);break;case Va:e(9);break;case Xa:e(16);break;case $a:r(ja);break;case Ja:r(Aa);break}});var b=1;switch(f){case $a:case Ja:var x=o.def(g,"._texture");o(r,".uniform1i(",h,",",x,".bind());");o.exit(x,".unbind();");continue;case Ra:case Za:s="1i";break;case Ua:case Ga:s="2i";b=2;break;case Ba:case qa:s="3i";b=3;break;case Ha:case Qa:s="4i";b=4;break;case Oa:s="1f";break;case Pa:s="2f";b=2;break;case Fa:s="3f";b=3;break;case Ya:s="4f";b=4;break;case Wa:s="Matrix2fv";break;case Va:s="Matrix3fv";break;case Xa:s="Matrix4fv";break}o(r,".uniform",s,"(",h,",");if(s.charAt(0)==="M"){var w=Math.pow(f-Wa+2,2);var M=i.global.def("new Float32Array(",w,")");o("false,(Array.isArray(",g,")||",g," instanceof Float32Array)?",g,":(",kt(w,function(t){return M+"["+t+"]="+g+"["+t+"]"}),",",M,")")}else if(b>1)o(kt(b,function(t){return g+"["+t+"]"}));else o(g);o(");")}}function V(r,i,o,a){var t=r.shared;var s=t.gl;var l=t.draw;var c=a.draw;function e(){var t=c.elements;var e;var n=i;if(t){if(t.contextDep&&a.contextDynamic||t.propDep)n=o;e=t.append(r,n)}else e=n.def(l,".",aa);if(e)n("if("+e+")"+s+".bindBuffer("+wa+","+e+".buffer.buffer);");return e}function n(){var t=c.count;var e;var n=i;if(t){if(t.contextDep&&a.contextDynamic||t.propDep)n=o;e=t.append(r,n);at.optional(function(){if(t.MISSING)r.assert(i,"false","missing vertex count");if(t.DYNAMIC)r.assert(n,e+">=0","missing vertex count")})}else{e=n.def(l,".",la);at.optional(function(){r.assert(n,e+">=0","missing vertex count")})}return e}var u=e();function f(t){var e=c[t];if(e)if(e.contextDep&&a.contextDynamic||e.propDep)return e.append(r,o);else return e.append(r,i);else return i.def(l,".",t)}var d=f(sa);var p=f(ca);var h=n();if(typeof h==="number"){if(h===0)return}else{o("if(",h,"){");o.exit("}")}var g,_;if(x){g=f(ua);_=r.instancing}var m=u+".type";var y=c.elements&&Ms(c.elements);function v(){function t(){o(_,".drawElementsInstancedANGLE(",[d,h,m,p+"<<(("+m+"-"+xo+")>>1)",g],");")}function e(){o(_,".drawArraysInstancedANGLE(",[d,p,h,g],");")}if(u)if(!y){o("if(",u,"){");t();o("}else{");e();o("}")}else t();else e()}function b(){function t(){o(s+".drawElements("+[d,h,m,p+"<<(("+m+"-"+xo+")>>1)"]+");")}function e(){o(s+".drawArrays("+[d,p,h]+");")}if(u)if(!y){o("if(",u,"){");t();o("}else{");e();o("}")}else t();else e()}if(x&&(typeof g!=="number"||g>=0))if(typeof g==="string"){o("if(",g,">0){");v();o("}else if(",g,"<0){");b();o("}")}else v();else b()}function X(t,e,n,r,i){var o=D();var a=o.proc("body",i);at.optional(function(){o.commandStr=e.commandStr;o.command=o.link(e.commandStr)});if(x)o.instancing=a.def(o.shared.extensions,".angle_instanced_arrays");t(o,a,n,r);return o.compile().body}function $(t,e,n,r){G(t,e);Q(t,e,n,r.attributes,function(){return true});W(t,e,n,r.uniforms,function(){return true});V(t,e,e,n)}function J(e,n){var t=e.proc("draw",1);G(e,t);U(e,t,n.context);B(e,t,n.framebuffer);H(e,t,n);Z(e,t,n.state);q(e,t,n,false,true);var r=n.shader.progVar.append(e,t);t(e.shared.gl,".useProgram(",r,".program);");if(n.shader.program)$(e,t,n,n.shader.program);else{var i=e.global.def("{}");var o=t.def(r,".id");var a=t.def(i,"[",o,"]");t(e.cond(a).then(a,".call(this,a0);").else(a,"=",i,"[",o,"]=",e.link(function(t){return X($,e,n,t,1)}),"(",r,");",a,".call(this,a0);"))}if(Object.keys(n.state).length>0)t(e.shared.current,".dirty=true;")}function K(t,e,n,r){t.batchId="a1";G(t,e);function i(){return true}Q(t,e,n,r.attributes,i);W(t,e,n,r.uniforms,i);V(t,e,e,n)}function tt(e,t,n,r){G(e,t);var i=n.contextDep;var o=t.def();var a="a0";var s="a1";var l=t.def();e.shared.props=l;e.batchId=o;var c=e.scope();var u=e.scope();t(c.entry,"for(",o,"=0;",o,"<",s,";++",o,"){",l,"=",a,"[",o,"];",u,"}",c.exit);function f(t){return t.contextDep&&i||t.propDep}function d(t){return!f(t)}if(n.needsContext)U(e,u,n.context);if(n.needsFramebuffer)B(e,u,n.framebuffer);Z(e,u,n.state,f);if(n.profile&&f(n.profile))q(e,u,n,false,true);if(!r){var p=e.global.def("{}");var h=n.shader.progVar.append(e,u);var g=u.def(h,".id");var _=u.def(p,"[",g,"]");u(e.shared.gl,".useProgram(",h,".program);","if(!",_,"){",_,"=",p,"[",g,"]=",e.link(function(t){return X(K,e,n,t,2)}),"(",h,");}",_,".call(this,a0[",o,"],",o,");")}else{Q(e,c,n,r.attributes,d);Q(e,u,n,r.attributes,f);W(e,c,n,r.uniforms,d);W(e,u,n,r.uniforms,f);V(e,c,u,n)}}function et(e,n){var t=e.proc("batch",2);e.batchId="0";G(e,t);var r=false;var i=true;Object.keys(n.context).forEach(function(t){r=r||n.context[t].propDep});if(!r){U(e,t,n.context);i=false}var o=n.framebuffer;var a=false;if(o){if(o.propDep)r=a=true;else if(o.contextDep&&r)a=true;if(!a)B(e,t,o)}else B(e,t,null);if(n.state.viewport&&n.state.viewport.propDep)r=true;function s(t){return t.contextDep&&r||t.propDep}H(e,t,n);Z(e,t,n.state,function(t){return!s(t)});if(!n.profile||!s(n.profile))q(e,t,n,false,"a1");n.contextDep=r;n.needsContext=i;n.needsFramebuffer=a;var l=n.shader.progVar;if(l.contextDep&&r||l.propDep)tt(e,t,n,null);else{var c=l.append(e,t);t(e.shared.gl,".useProgram(",c,".program);");if(n.shader.program)tt(e,t,n,n.shader.program);else{var u=e.global.def("{}");var f=t.def(c,".id");var d=t.def(u,"[",f,"]");t(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",u,"[",f,"]=",e.link(function(t){return X(tt,e,n,t,2)}),"(",c,");",d,".call(this,a0,a1);"))}}if(Object.keys(n.state).length>0)t(e.shared.current,".dirty=true;")}function nt(r,i){var o=r.proc("scope",3);r.batchId="a2";var a=r.shared;var t=a.current;U(r,o,i.context);if(i.framebuffer)i.framebuffer.append(r,o);xs(Object.keys(i.state)).forEach(function(n){var t=i.state[n];var e=t.append(r,o);if(jn(e))e.forEach(function(t,e){o.set(r.next[n],"["+e+"]",t)});else o.set(a.next,"."+n,e)});q(r,o,i,true,true);[aa,ca,la,ua,sa].forEach(function(t){var e=i.draw[t];if(!e)return;o.set(a.draw,"."+t,""+e.append(r,o))});Object.keys(i.uniforms).forEach(function(t){o.set(a.uniforms,"["+k.id(t)+"]",i.uniforms[t].append(r,o))});Object.keys(i.attributes).forEach(function(t){var e=i.attributes[t].append(r,o);var n=r.scopeAttrib(t);Object.keys(new _).forEach(function(t){o.set(n,"."+t,e[t])})});function e(t){var e=i.shader[t];if(e)o.set(a.shader,"."+t,e.append(r,o))}e(ia);e(oa);if(Object.keys(i.state).length>0){o(t,".dirty=true;");o.exit(t,".dirty=true;")}o("a1(",r.shared.context,",a0,",r.batchId,");")}function rt(t){if(Zs(t)!=="object"||jn(t))return;var e=Object.keys(t);for(var n=0;n<e.length;++n)if(dt.isDynamic(t[e[n]]))return true;return false}function it(r,t,e){var o=t.static[e];if(!o||!rt(o))return;var i=r.global;var n=Object.keys(o);var a=false;var s=false;var l=false;var c=r.global.def("{}");n.forEach(function(t){var e=o[t];if(dt.isDynamic(e)){if(typeof e==="function")e=o[t]=dt.unbox(e);var n=js(e,null);a=a||n.thisDep;l=l||n.propDep;s=s||n.contextDep}else{i(c,".",t,"=");switch(Zs(e)){case"number":i(e);break;case"string":i('"',e,'"');break;case"object":if(Array.isArray(e))i("[",e.join(),"]");break;default:i(r.link(e));break}i(";")}});function u(r,i){n.forEach(function(t){var e=o[t];if(!dt.isDynamic(e))return;var n=r.invoke(i,e);i(c,".",t,"=",n,";")})}t.dynamic[e]=new dt.DynamicVariable(zo,{thisDep:a,contextDep:s,propDep:l,ref:c,append:u});delete t.static[e]}function ot(e,n,t,r,i){var o=D();o.stats=o.link(i);Object.keys(n.static).forEach(function(t){it(o,n,t)});ba.forEach(function(t){it(o,e,t)});var a=R(e,n,t,r,o);J(o,a);nt(o,a);et(o,a);return o.compile()}return{next:p,current:m,procs:function(){var s=D();var l=s.proc("poll");var c=s.proc("refresh");var u=s.block();l(u);c(u);var t=s.shared;var f=t.gl;var d=t.next;var p=t.current;u(p,".dirty=false;");B(s,l);B(s,c,null,true);var e;if(x)e=s.link(x);for(var n=0;n<h.maxAttributes;++n){var r=c.def(t.attributes,"[",n,"]");var i=s.cond(r,".buffer");i.then(f,".enableVertexAttribArray(",n,");",f,".bindBuffer(",xa,",",r,".buffer.buffer);",f,".vertexAttribPointer(",n,",",r,".size,",r,".type,",r,".normalized,",r,".stride,",r,".offset);").else(f,".disableVertexAttribArray(",n,");",f,".vertexAttrib4f(",n,",",r,".x,",r,".y,",r,".z,",r,".w);",r,".buffer=null;");c(i);if(x)c(e,".vertexAttribDivisorANGLE(",n,",",r,".divisor);")}Object.keys(b).forEach(function(t){var e=b[t];var n=u.def(d,".",t);var r=s.block();r("if(",n,"){",f,".enable(",e,")}else{",f,".disable(",e,")}",p,".",t,"=",n,";");c(r);l("if(",n,"!==",p,".",t,"){",r,"}")});Object.keys(w).forEach(function(t){var e=w[t];var n=m[t];var r,i;var o=s.block();o(f,".",e,"(");if(jn(n)){var a=n.length;r=s.global.def(d,".",t);i=s.global.def(p,".",t);o(kt(a,function(t){return r+"["+t+"]"}),");",kt(a,function(t){return i+"["+t+"]="+r+"["+t+"];"}).join(""));l("if(",kt(a,function(t){return r+"["+t+"]!=="+i+"["+t+"]"}).join("||"),"){",o,"}")}else{r=u.def(d,".",t);i=u.def(p,".",t);o(r,");",p,".",t,"=",r,";");l("if(",r,"!==",i,"){",o,"}")}c(o)});return s.compile()}(),compile:ot}}function zs(){return{bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Ns=34918,Ds=34919,Is=35007,Ss=function t(e,u){if(!u.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||u.ext_disjoint_timer_query.createQueryEXT()}function f(t){n.push(t)}var d=[];function i(t){var e=r();u.ext_disjoint_timer_query.beginQueryEXT(Is,e);d.push(e);c(d.length-1,d.length,t)}function o(){u.ext_disjoint_timer_query.endQueryEXT(Is)}function a(){this.startQueryIndex=-1;this.endQueryIndex=-1;this.sum=0;this.stats=null}var s=[];function l(){return s.pop()||new a}function p(t){s.push(t)}var h=[];function c(t,e,n){var r=l();r.startQueryIndex=t;r.endQueryIndex=e;r.sum=0;r.stats=n;h.push(r)}var g=[];var _=[];function m(){var t,e;var n=d.length;if(n===0)return;_.length=Math.max(_.length,n+1);g.length=Math.max(g.length,n+1);g[0]=0;_[0]=0;var r=0;t=0;for(e=0;e<d.length;++e){var i=d[e];if(u.ext_disjoint_timer_query.getQueryObjectEXT(i,Ds)){r+=u.ext_disjoint_timer_query.getQueryObjectEXT(i,Ns);f(i)}else d[t++]=i;g[e+1]=r;_[e+1]=t}d.length=t;t=0;for(e=0;e<h.length;++e){var o=h[e];var a=o.startQueryIndex;var s=o.endQueryIndex;o.sum+=g[s]-g[a];var l=_[a];var c=_[s];if(c===l){o.stats.gpuTime+=o.sum/1e6;p(o)}else{o.startQueryIndex=l;o.endQueryIndex=c;h[t++]=o}}h.length=t}return{beginQuery:i,endQuery:o,pushScopeStats:c,update:m,getNumPendingQueries:function t(){return d.length},clear:function t(){n.push.apply(n,d);for(var e=0;e<n.length;e++)u.ext_disjoint_timer_query.deleteQueryEXT(n[e]);d.length=0;n.length=0},restore:function t(){d.length=0;n.length=0}}},Es=16384,Ls=256,Cs=1024,Os=34962,Ps="webglcontextlost",Fs="webglcontextrestored",Ys=1,Rs=2,Us=3;function Bs(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function Hs(t){var e=wt(t);if(!e)return null;var i=e.gl;var n=i.getContextAttributes();var g=i.isContextLost();var r=Mt(i,e);if(!r)return null;var o=gt();var a=zs();var s=r.extensions;var l=Ss(i,s);var c=ht();var u=i.drawingBufferWidth;var f=i.drawingBufferHeight;var d={tick:0,time:0,viewportWidth:u,viewportHeight:f,framebufferWidth:u,framebufferHeight:f,drawingBufferWidth:u,drawingBufferHeight:f,pixelRatio:e.pixelRatio};var p={};var h={elements:null,primitive:4,count:-1,offset:0,instances:-1};var _=be(i,s);var m=oo(i,s,_);var y=Ke(i,a,e,m);var v=bn(i,s,y,a);var b=uo(i,o,a,e);var x=si(i,s,_,function(){k.procs.poll()},d,a,e);var w=xi(i,s,_,a,e);var M=no(i,s,_,x,w,a);var k=Ts(i,o,s,_,y,v,x,M,p,m,b,h,d,l,e);var j=_o(i,M,k.procs.poll,d,n,s,_);var A=k.next;var T=i.canvas;var z=[];var N=[];var D=[];var I=[e.onDestroy];var S=null;function E(){if(z.length===0){if(l)l.update();S=null;return}S=pt.next(E);G();for(var t=z.length-1;t>=0;--t){var e=z[t];if(e)e(d,null,0)}i.flush();if(l)l.update()}function L(){if(!S&&z.length>0)S=pt.next(E)}function C(){if(S){pt.cancel(E);S=null}}function O(t){t.preventDefault();g=true;C();N.forEach(function(t){t()})}function P(t){i.getError();g=false;r.restore();b.restore();y.restore();x.restore();w.restore();M.restore();if(l)l.restore();k.procs.refresh();L();D.forEach(function(t){t()})}if(T){T.addEventListener(Ps,O,false);T.addEventListener(Fs,P,false)}function F(){z.length=0;C();if(T){T.removeEventListener(Ps,O);T.removeEventListener(Fs,P)}b.clear();M.clear();w.clear();x.clear();v.clear();y.clear();if(l)l.clear();I.forEach(function(t){t()})}function Y(t){at(!!t,"invalid args to regl({...})");at.type(t,"object","invalid args to regl({...})");function e(t){var r=rt({},t);delete r.uniforms;delete r.attributes;delete r.context;if("stencil"in r&&r.stencil.op){r.stencil.opBack=r.stencil.opFront=r.stencil.op;delete r.stencil.op}function e(e){if(e in r){var n=r[e];delete r[e];Object.keys(n).forEach(function(t){r[e+"."+t]=n[t]})}}e("blend");e("depth");e("cull");e("stencil");e("polygonOffset");e("scissor");e("sample");return r}function n(n){var r={};var i={};Object.keys(n).forEach(function(t){var e=n[t];if(dt.isDynamic(e))i[t]=dt.unbox(e,t);else r[t]=e});return{dynamic:i,static:r}}var r=n(t.context||{});var i=n(t.uniforms||{});var o=n(t.attributes||{});var a=n(e(t));var s={gpuTime:0,cpuTime:0,count:0};var l=k.compile(a,o,i,r,s);var c=l.draw;var u=l.batch;var f=l.scope;var d=[];function p(t){while(d.length<t)d.push(null);return d}function h(t,e){var n;if(g)at.raise("context lost");if(typeof t==="function")return f.call(this,null,t,0);else if(typeof e==="function")if(typeof t==="number"){for(n=0;n<t;++n)f.call(this,null,e,n);return}else if(Array.isArray(t)){for(n=0;n<t.length;++n)f.call(this,t[n],e,n);return}else return f.call(this,t,e,0);else if(typeof t==="number"){if(t>0)return u.call(this,p(t|0),t|0)}else if(Array.isArray(t)){if(t.length)return u.call(this,t,t.length)}else return c.call(this,t)}return rt(h,{stats:s})}var R=M.setFBO=Y({framebuffer:dt.define.call(null,Ys,"framebuffer")});function U(t,e){var n=0;k.procs.poll();var r=e.color;if(r){i.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0);n|=Es}if("depth"in e){i.clearDepth(+e.depth);n|=Ls}if("stencil"in e){i.clearStencil(e.stencil|0);n|=Cs}at(!!n,"called regl.clear with no buffer specified");i.clear(n)}function B(t){at(Zs(t)==="object"&&t,"regl.clear() takes an object as input");if("framebuffer"in t)if(t.framebuffer&&t.framebuffer_reglType==="framebufferCube")for(var e=0;e<6;++e)R(rt({framebuffer:t.framebuffer.faces[e]},t),U);else R(t,U);else U(null,t)}function H(n){at.type(n,"function","regl.frame() callback must be a function");z.push(n);function t(){var t=Bs(z,n);at(t>=0,"cannot cancel a frame twice");function e(){var t=Bs(z,e);z[t]=z[z.length-1];z.length-=1;if(z.length<=0)C()}z[t]=e}L();return{cancel:t}}function Z(){var t=A.viewport;var e=A.scissor_box;t[0]=t[1]=e[0]=e[1]=0;d.viewportWidth=d.framebufferWidth=d.drawingBufferWidth=t[2]=e[2]=i.drawingBufferWidth;d.viewportHeight=d.framebufferHeight=d.drawingBufferHeight=t[3]=e[3]=i.drawingBufferHeight}function G(){d.tick+=1;d.time=Q();Z();k.procs.poll()}function q(){Z();k.procs.refresh();if(l)l.update()}function Q(){return(ht()-c)/1e3}q();function W(t,n){at.type(n,"function","listener callback must be a function");var r;switch(t){case"frame":return H(n);case"lost":r=N;break;case"restore":r=D;break;case"destroy":r=I;break;default:at.raise("invalid event, must be one of frame,lost,restore,destroy")}r.push(n);return{cancel:function t(){for(var e=0;e<r.length;++e)if(r[e]===n){r[e]=r[r.length-1];r.pop();return}}}}var V=rt(Y,{clear:B,prop:dt.define.bind(null,Ys),context:dt.define.bind(null,Rs),this:dt.define.bind(null,Us),draw:Y({}),buffer:function t(e){return y.create(e,Os,false,false)},elements:function t(e){return v.create(e,false)},texture:x.create2D,cube:x.createCube,renderbuffer:w.create,framebuffer:M.create,framebufferCube:M.createCube,attributes:n,frame:H,on:W,limits:_,hasExtension:function t(e){return _.extensions.indexOf(e.toLowerCase())>=0},read:j,destroy:F,_gl:i,_refresh:q,poll:function t(){G();if(l)l.update()},now:Q,stats:a});e.onDone(null,V);return V}return Hs}()}),$3=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};var J3=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],p=e[10],h=e[11],g=e[12],_=e[13],m=e[14],y=e[15],v=n[0],b=n[1],x=n[2],e=n[3];return t[0]=v*r+b*s+x*f+e*g,t[1]=v*i+b*l+x*d+e*_,t[2]=v*o+b*c+x*p+e*m,t[3]=v*a+b*u+x*h+e*y,v=n[4],b=n[5],x=n[6],e=n[7],t[4]=v*r+b*s+x*f+e*g,t[5]=v*i+b*l+x*d+e*_,t[6]=v*o+b*c+x*p+e*m,t[7]=v*a+b*u+x*h+e*y,v=n[8],b=n[9],x=n[10],e=n[11],t[8]=v*r+b*s+x*f+e*g,t[9]=v*i+b*l+x*d+e*_,t[10]=v*o+b*c+x*p+e*m,t[11]=v*a+b*u+x*h+e*y,v=n[12],b=n[13],x=n[14],e=n[15],t[12]=v*r+b*s+x*f+e*g,t[13]=v*i+b*l+x*d+e*_,t[14]=v*o+b*c+x*p+e*m,t[15]=v*a+b*u+x*h+e*y,t};var K3=function(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t};var t4=["manifest","onDone","onProgress","onError"],e4=["type","src","stream","credentials","parser"],n4=["onData","onDone"],r4=-1,i4=0,o4=1;function a4(t){throw new Error("resl: "+t)}function s4(t,e,n){Object.keys(t).forEach(function(t){e.indexOf(t)<0&&a4('invalid parameter "'+t+'" in '+n)})}function l4(t,e){this.state=i4,this.ready=!1,this.progress=0,this.name=t,this.cancel=e}function c4(n){"object"===Zs(n)&&n||a4("invalid or missing configuration"),s4(n,t4,"config");var u=n.manifest;function t(t){if(t in n){var e=n[t];return"function"!=typeof e&&a4('invalid callback "'+t+'"'),e}return null}"object"===Zs(u)&&u||a4("missing manifest");var r=t("onDone");r||a4("missing onDone() callback");var i=t("onProgress"),e=t("onError"),p={},o=i4;function a(e){var n=e.name,t=e.stream,r="binary"===e.type,i=e.parser,o=new XMLHttpRequest,a=null,s=new l4(n,function(){s.state!==o4&&s.state!==r4&&(o.onreadystatechange=null,o.abort(),s.state=r4)});function l(){if(!(o.readyState<2||s.state===o4||s.state===r4)){if(200!==o.status)return h('error loading resource "'+e.name+'"');if(2<o.readyState&&s.state===i4){var t="binary"===e.type?o.response:o.responseText;if(i.data)try{a=i.data(t)}catch(t){return h(t)}else a=t}if(3<o.readyState&&s.state===i4){if(i.done)try{a=i.done()}catch(t){return h(t)}s.state=o4}p[n]=a,s.progress=.75*s.progress+.25,s.ready=e.stream&&!!a||s.state===o4,g()}}return o.onreadystatechange=t?l:function(){4===o.readyState&&l()},r&&(o.responseType="arraybuffer"),e.credentials&&(o.withCredentials=!0),o.open("GET",e.src,!0),o.send(),s}function s(t,e){var n,r,i=t.name,o=t.parser,a=new l4(i,function(){a.state!==o4&&a.state!==r4&&(a.state=r4,d(),e.src="")}),s=e;function l(){if(a.state===i4)if(o.data)try{s=o.data(e)}catch(t){return h(t),0}else s=e}function c(t){l(),p[i]=s,t.lengthComputable?a.progress=Math.max(a.progress,t.loaded/t.total):a.progress=.75*a.progress+.25,g(i)}function u(){if(l(),a.state===i4){if(o.done)try{s=o.done()}catch(t){return h(t)}a.state=o4}a.progress=1,a.ready=!0,p[i]=s,d(),g("finish "+i)}function f(){h('error loading asset "'+i+'"')}function d(){t.stream&&e.removeEventListener("progress",c),"image"===t.type?e.addEventListener("load",u):e.addEventListener("canplay",u),e.removeEventListener("error",f)}return t.stream&&e.addEventListener("progress",c),"image"===t.type?e.addEventListener("load",u):(r=n=!1,e.addEventListener("loadedmetadata",function(){r=!0,n&&u()}),e.addEventListener("canplay",function(){n=!0,r&&u()})),e.addEventListener("error",f),t.credentials?e.crossOrigin="use-credentials":e.crossOrigin="anonymous",e.src=t.src,a}var f={text:a,binary:a,image:function(t){return s(t,document.createElement("img"))},video:function(t){return s(t,document.createElement("video"))},audio:function(t){return s(t,document.createElement("audio"))}},l=Object.keys(u).map(function(t){var r=u[t];function e(t,e){if(t in r.parser){var n=r.parser[t];return"function"!=typeof n&&a4("invalid parser callback "+t+' for asset "'+t+'"'),n}return e}"string"==typeof r?r={src:r}:"object"===Zs(r)&&r||a4('invalid asset definition "'+t+'"'),s4(r,e4,'asset "'+t+'"');var n,i,o,a,s,l,c={};return"parser"in r&&("function"==typeof r.parser?c={data:r.parser}:"object"===Zs(r.parser)&&r.parser?(s4(c,n4,'parser for asset "'+t+'"'),"onData"in c||a4('missing onData callback for parser in asset "'+t+'"'),c={data:e("onData"),done:e("onDone")}):a4('invalid parser for asset "'+t+'"')),{name:t,type:(a="type",s=Object.keys(f),l="text",a in r&&(l=r[a]),s.indexOf(l)<0&&a4("invalid "+a+' "'+l+'" for asset "'+t+'", possible values: '+s),l),stream:!!r.stream,credentials:!!r.credentials,src:(i=!0,o="",(n="src")in r?o=r[n]:i&&a4("missing "+n+' for asset "'+t+'"'),"string"!=typeof o&&a4("invalid "+n+' for asset "'+t+'", must be a string'),o),parser:c}}).map(function(t){return f[t.type](t)});function h(t){o!==r4&&o!==o4&&(o=r4,l.forEach(function(t){t.cancel()}),e?e("string"==typeof t?new Error("resl: "+t):t):console.error("resl error:",t))}function g(t){var e,n;o!==r4&&o!==o4&&(n=e=0,l.forEach(function(t){t.ready&&(n+=1),e+=t.progress}),n===l.length?(o=o4,r(p)):i&&i(e/l.length,t))}0===l.length&&setTimeout(function(){g("done")},1)}var u4,f4=!1;function d4(e){f4||(f4=!0,c4({onDone:function(t){(u4=t).spritesheet=e.texture({data:u4.spritesheet,mag:"linear",min:"mipmap",mipmap:!0})},manifest:{spritesheet:{type:"image",src:window.Flourish.static_prefix+"/shapes/spritesheet.png"}}}))}var p4={symbolCircle:{scale:.7991119226506982,sprite_min:[.07505550483433136,.07505550483433136],sprite_max:[.17494449516566862,.17494449516566862],centroid:[.125,.125]},symbolCross:{scale:.9999999999999999,sprite_min:[.3125,.0625],sprite_max:[.4375,.1875],centroid:[.375,.125]},symbolDiamond:{scale:1.3160740129524926,sprite_min:[.5427453741904692,.04274537419046921],sprite_max:[.7072546258095308,.2072546258095308],centroid:[.625,.125]},symbolSquare:{scale:1,sprite_min:[.8125,.0625],sprite_max:[.9375,.1875],centroid:[.875,.125]},symbolStar:{scale:1.3347757051499591,sprite_min:[.041576518428127554,.29157651842812754],sprite_max:[.20842348157187246,.45842348157187246],centroid:[.125,.375]},symbolTriangle:{scale:1.2408064788027995,sprite_min:[.29744959507482505,.29744959507482505],sprite_max:[.45255040492517495,.45255040492517495],centroid:[.375,.375]},symbolWye:{scale:1.0550466939622536,sprite_min:[.5590595816273591,.30905958162735914],sprite_max:[.6909404183726409,.44094041837264086],centroid:[.625,.375]}};function h4(t,e,n){var r=2*e;t[r]=e,t[1+r]=n}function g4(t,e,n){e*=4,n=p4[n];t[e++]=n.sprite_min[0],t[e++]=n.sprite_max[1],t[e++]=n.sprite_max[0],t[e]=n.sprite_min[1]}var _4=Object.create(null);function m4(t,e,n){var r=3*e,e=_4[n];e?(t[r++]=e[0],t[r++]=e[1],t[r++]=e[2]):(e=_4[n]=[0,0,0],n.indexOf("rgb(")?(t[r++]=e[0]=parseInt(n.slice(1,3),16)/255,t[r++]=e[1]=parseInt(n.slice(3,5),16)/255,t[r++]=e[2]=parseInt(n.slice(5,7),16)/255):(n=n.split(","),t[r++]=e[0]=parseInt(n[0].slice(4),10)/255,t[r++]=e[1]=parseInt(n[1],10)/255,t[r++]=e[2]=parseInt(n[2],10)/255))}function y4(){var f=Object.create(null),d=Object.create(null);return t.source=function(t){return d[t]||f[t]},t;function t(t,e){d=Object.assign(Object.create(null),f);var n,r=Object.create(null),i=Object.create(null);for(n in f)i[n]=!0;for(var o=0;o<t.length;o++){var a=e(t[o],o);i[a]=!1,f[a]?f[a]=t[o]:r[a]=t[o]}var s,l=[];for(s in i)i[s]&&(l.push(f[s]),delete f[s]);var c=Object.values(r),u=Object.values(f);return Object.assign(f,r),{enter:c,update:u,exit:l}}}var v4=["stroke_width","curr_color","prev_color","curr_x","curr_y","curr_r","prev_x","prev_y","prev_r","curr_uv","prev_uv","id"],b4=function(){function r(t){ga(this,r),this.buffers={},this.storage={},this.regl=t,this.joiner=y4(),this.count_total=0;for(var e=this.count_remaining=0;e<v4.length;e++){var n=v4[e];this.storage[n]=new Float32Array(0),this.buffers[n]=t.buffer()}}return ma(r,[{key:"upload",value:function(){for(var t in this.storage)t in this.storage&&this.buffers[t](this.storage[t])}},{key:"destroy",value:function(){for(var t=v4;t<v4.length;t++)this.buffers[v4[t]].destroy();this.buffers={},this.storage={}}}]),r}();b4.facets=Object.create(null),b4.keys=[],b4.allocate=function(t,e){if(!e)throw new Error("Unexpected: next_facet_keys were not passed to allocateFacets()");for(var n=0;n<e.length;n++){var r=e[n];b4.facets[r]||(b4.facets[r]=new b4(t))}for(n=0;n<b4.keys.length;n++){var i=b4.keys[n];-1===e.indexOf(i)&&(b4.facets[i].destroy(),delete b4.facets[i])}b4.keys=e};var x4=function(t,e,n){var r,i,o,a,s,l,c,u,f,d,p,h=n[0],g=n[1],_=n[2];e===t?(t[12]=e[0]*h+e[4]*g+e[8]*_+e[12],t[13]=e[1]*h+e[5]*g+e[9]*_+e[13],t[14]=e[2]*h+e[6]*g+e[10]*_+e[14],t[15]=e[3]*h+e[7]*g+e[11]*_+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],p=e[10],n=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=d,t[10]=p,t[11]=n,t[12]=r*h+s*g+f*_+e[12],t[13]=i*h+l*g+d*_+e[13],t[14]=o*h+c*g+p*_+e[14],t[15]=a*h+u*g+n*_+e[15]);return t};var w4=function(t,e,n){var r=n[0],i=n[1],n=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};var M4=function(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1};function k4(){return Math.min(2,window.devicePixelRatio||1)}var j4=0,A4=1,T4=2,z4=new Float32Array(16),N4=new Float32Array(2),D4=Object.create(null);function I4(t,e){var n=D4[e.facet]=D4[e.facet]||{matrix:new Float32Array(16),aspect:1,scale_pixel:new Float32Array(3),translate:new Float32Array(3),scale:new Float32Array(3),top:new Float32Array(3),left:new Float32Array(3),bottom:new Float32Array(3),right:new Float32Array(3),scale_responsive:new Float32Array(3),initialized:!1};$3(n.matrix);var r=t.viewportWidth/k4(),i=t.viewportHeight/k4(),o=Mw.facets[b4.keys.indexOf(e.facet)||0],a=o.layout.y/i,s=(o.layout.y+o.layout.plot_h)/i,l=o.layout.x/r,c=(o.layout.x+o.layout.plot_w)/r,u=D2.responsive_dots?Math.min(o.scales.w,o.scales.h)/300:1;n.initialized||(L4(n.top,a),L4(n.left,l),L4(n.right,c),L4(n.bottom,s),L4(n.scale_responsive,u),n.initialized=!0),t.transition_init&&(E4(n.top,a),E4(n.left,l),E4(n.right,c),E4(n.bottom,s),E4(n.scale_responsive,u));e=t.transition_progress,e=M4(e=1<(e=e<0?0:e)?1:e);C4(n.top,e),C4(n.left,e),C4(n.right,e),C4(n.bottom,e),C4(n.scale_responsive,e);o=n.top[A4],a=n.left[A4],l=n.right[A4],c=n.bottom[A4],s=c-o,u=l-a,t=r/i,e=(l-a)/(c-o);return n.scale[0]=u,n.scale[1]=s,n.scale[2]=1,n.translate[0]=u-1+2*a,n.translate[1]=1-s-2*o,x4(n.matrix,n.matrix,n.translate),w4(n.matrix,n.matrix,n.scale),n.aspect=t*e,n.scale_pixel[0]=1/(l-a)/r,n.scale_pixel[1]=1/(c-o)/i,n.scale_pixel[2]=n.scale_responsive[A4],n}var S4={u_proj:function(t){return t.proj},u_view:function(t){return t.view},u_proj_view:function(t){return J3(z4,t.proj,t.facet.matrix)},u_scale_aspect:function(t){t=t.facet.aspect;return N4[0]=Math.max(1,1/t),N4[1]=Math.max(1,t),N4},u_scale_pixel:function(t){return t.facet.scale_pixel},u_transition_stagger:function(t,e){return t.transition_stagger?t.transition_stagger*vM()/yM(t,e):0}};function E4(t,e){t[T4]=e,t[j4]=t[A4]}function L4(t,e){t[j4]=t[A4]=t[T4]=e}function C4(t,e){t[A4]=t[j4]+(t[T4]-t[j4])*e}var O4,P4,F4,Y4,R4=(O4=document.createElement("canvas").getContext("2d"),function(t,e){O4.font=e||"10px sans-serif";t=O4.measureText(t);return{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent}});function U4(t,e){t=t.facet.scales[e?"prevXScale":"x"](t.x)+t.facet.layout.x;return t=!isFinite(t)?1e9:t}function B4(t,e){t=t.facet.scales[e?"prevYScale":"y"](t.y)+t.facet.layout.y;return t=!isFinite(t)?1e9:t}function H4(t){return D2.responsive_dots?Math.min(t.facet.scales.w,t.facet.scales.h)/300:1}function Z4(){if(F4==D2.layout.body_font.name)return Y4;F4=D2.layout.body_font.name;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnop0123456789 /;[].";return 10/(R4(t,"10px "+F4).width/t.length)}function G4(t){if(t.name.length){if("none"==D2.labels_responsive)return D2.label_font_size;if("data"!=D2.labels_responsive)return Math.max(D2.label_font_size_min,Math.min(D2.label_font_size_max,D2.label_font_size_min*window.innerWidth/500));var e=t.name.join(" "),t=(2*G3(t)*H4(t)-10)/e.length*Y4,e=D2.label_font_size_max;return t=D2.label_font_size_min<=(t=Math.min(t,e))?t:0}}function q4(t){return"fixed"==D2.label_color_type?D2.label_color:"match"==D2.label_color_type||"data"!=D2.labels_responsive||D2.label_bg_size?a3(t.color):function(t){if(t){var e=Li(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}(a3(t.color))?"black":"white"}function Q4(a,n){var t=D2.labels_show?a.data_points.filter(function(t){return!("slider"in a.data_points.column_names)||(null==c7.value()||t.slider==c7.value())}):[];D2.labels_selective&&(t=t.filter(function(t){return-1<D2.labels_selected.indexOf(t.row)})),Y4=Z4();var e=t[0]&&t[0].id&&!(!t[0].slider&&!t[0].filter),r=(P4=P4||Fs("#overlay .data-labels")).selectAll(".data-label").data(t,function(t){return e?t.id:t.row}),i=r.enter().append("g").attr("class","data-label").attr("transform",s).attr("pointer-events","none");i.append("text").attr("dominant-baseline","middle").attr("dy","0.1em").attr("class","label-bg"),i.append("text").attr("dominant-baseline","middle").attr("dy","0.1em").attr("class","label-main");i=r.merge(i).attr("text-anchor",l);function o(t,e){return n?0:e*D2.animation_stagger*1e3}function s(e){var t,n,r,i=a.facets.filter(function(t){return e.facet.name==t.name})[0]||a.facets[0],o=0;"next"==D2.label_offset&&(t=G3(e)*H4(e),n=.25*G4(e),"start"==(r=l(e))&&(o+=t+n),"end"==r&&(o-=t+n));o=i.scales.x(e.x)+i.layout.x+o+e.beeswarm_offset_x,i=i.scales.y(e.y)+i.layout.y+e.beeswarm_offset_y;return"translate("+(o=!isFinite(o)?1e9:o)+","+(i=!isFinite(i)?1e9:i)+")"}function l(e){if("data"==D2.labels_responsive)return"middle";if("auto"!=D2.label_align)return D2.label_align;var t=a.facets.filter(function(t){return e.facet==t.name})[0]||a.facets[0];return t.scales.x(e.x)>t.layout.w/2?"end":"start"}i.select(".label-bg").text(function(t){return t.id||""}).attr("fill",q4).attr("stroke",(D2.chart_bg.background_color_enabled?D2.chart_bg:D2.layout).background_color).attr("stroke-width",function(t){return G4(t)*D2.label_bg_size/100}).attr("font-size",G4),i.select(".label-main").text(function(t){return t.id||""}).attr("fill",q4).attr("font-size",G4),(t.length<500?i.transition().duration(n?0:1e3*D2.animation_duration):i.transition().duration(n||2500<t.length?0:1e3*D2.animation_duration)).delay(o).attr("transform",s),r.exit().remove()}var W4,V4,X4=25,$4={};function J4(t,e,n,r,i,o,a){var s=n+t/2+10,i=t/2+Math.min(0,n-t/2-10-i.left)+Math.max(0,s-i.right),o=i-10<5?[-i,-15*o,Math.max(10,5-i),-10*o]:t-5<i+10?[Math.min(-10,t-i-5),-10*o,Math.min(10,t-i),-15*o]:[-10,-10*o,10,-10*o];return{pos:[i,a],shape:o}}function K4(t,e,n,r,i,o,a){var s=r+e/2+10,i=e/2+Math.min(0,r-e/2-10-i.top)+Math.max(0,s-i.bottom),o=i-10<5?[-15*o,-i,-10*o,Math.max(10,5-i)]:e-5<i+10?[-10*o,Math.min(-10,e-i-5),-15*o,Math.min(10,e-i)]:[-10*o,-10,-10*o,10];return{pos:[a,i],shape:o}}function t5(t,e,n){var r,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)i.setAttribute(r,e[r]);var o=i.style;if(n)for(r in n)o[r]=n[r];return i}function e5(){return W4||((W4=document.createElement("div")).id="flourish-popup-constrainer",(V4=W4.style).overflow="hidden",V4.pointerEvents="none",V4.position="absolute",V4.left="0",V4.top="0",V4.margin="0",V4.padding="0",document.body.appendChild(W4),this._resizeConstrainer(),W4)}$4.bottom=function(t,e){return{shape:[-10,-10,10,-10],pos:[t/2,e+10]}},$4.top=function(t,e){return{shape:[-10,10,10,10],pos:[t/2,-10]}},$4.left=function(t,e){return{shape:[10,10,10,-10],pos:[-10,e/2]}},$4.right=function(t,e){return{shape:[-10,10,-10,-10],pos:[t+10,e/2]}},$4.topLeft=function(t,e){return{shape:[15,10,10,15],pos:[-10,-10]}},$4.bottomLeft=function(t,e){return{shape:[15,-10,10,-15],pos:[-10,e+10]}},$4.topRight=function(t,e){return{shape:[-15,10,-10,15],pos:[t+10,-10]}},$4.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+10,e+10]}},$4.bottomFlexible=function(t,e,n,r,i){return J4(t,0,n,0,i,1,e+10)},$4.topFlexible=function(t,e,n,r,i){return J4(t,0,n,0,i,-1,-10)},$4.rightFlexible=function(t,e,n,r,i){return K4(0,e,0,r,i,1,t+10)},$4.leftFlexible=function(t,e,n,r,i){return K4(0,e,0,r,i,-1,-10)};var n5,r5=1,i5={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function o5(){for(var t in this.unique_id=r5++,this.is_visible=!0,i5)this["_"+t]=i5[t];this.handlers={click:[]}}for(n5 in i5)!function(e){o5.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}(n5);function a5(){return new o5}o5.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(t=t.getBoundingClientRect(),this._point=[Math.floor(t.left+t.width/2),Math.floor(t.top+t.height/2)]):console.error("Popup: could not understand argument"),this)},o5.prototype.directions=function(t){return void 0===t?this._directions:(this._directions=(t="string"==typeof t?[t]:t).slice(),this)},o5.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]}),this},o5.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},o5.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},o5.prototype._getElement=function(){var t,e,n,r=this,i="flourish-popup-"+r.unique_id,o=document.getElementById(i);return o||((o=document.createElement("div")).className="flourish-popup",o.id=i,(t=o.style).display="none",t.margin=t.padding=0,t.position="absolute",t.width="80px",t.height="40px",t.boxSizing="border-box",o.addEventListener("click",function(t){r.fire("click",t)},!1),n=t5("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),(e=t5("filter",{id:"dropshadow-"+r.unique_id,height:"130%"})).appendChild(t5("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),e.appendChild(t5("feOffset",{dx:0,dy:2,result:"offsetblur"})),(i=t5("feComponentTransfer")).appendChild(t5("feFuncA",{type:"linear",slope:.2})),e.appendChild(i),i=t5("feMerge"),e.appendChild(i),i.appendChild(t5("feMergeNode")),i.appendChild(t5("feMergeNode",{in:"SourceGraphic"})),n.appendChild(e),(e=t5("g",{filter:"url(#dropshadow-"+r.unique_id+")",fill:"white",stroke:"none"})).appendChild(t5("rect",{x:X4,y:X4,rx:5})),e.appendChild(t5("path")),n.appendChild(e),o.appendChild(n),(n=document.createElement("div")).className="flourish-popup-content",(t=n.style).position="absolute",t.top=t.left=X4+"px",t.padding="10px",o.appendChild(n),r._getConstrainer().appendChild(o)),r._resizeConstrainer(),o},o5.prototype._getConstrainer=e5,o5.prototype._resizeConstrainer=function(){W4||e5.call(this);var t=V4.display;V4.display="none",V4.width=document.documentElement.scrollWidth+"px",V4.height=document.documentElement.scrollHeight+"px",V4.display=t},o5.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],i=t._container.getBoundingClientRect();n<i.left?n=i.left:n>i.right&&(n=i.right),r<i.top?r=i.top:r>i.bottom&&(r=i.bottom);var o=n-e.left,a=r-e.top,s=t._getElement(),l=s.style,c=s.querySelector(".flourish-popup-svg"),u=c.querySelector("g"),f=u.querySelector("rect"),d=u.querySelector("path"),p=s.querySelector(".flourish-popup-content");l.display="block",p.style.maxWidth=(w=i,(t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?w.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),w.width))+"px"),t._inner_html!=t._html&&(p.innerHTML=t._inner_html=t._html);for(var h,g,_=p.getBoundingClientRect();h=Math.ceil(_.width),g=Math.ceil(_.height),l.width=h+2*X4+"px",l.height=g+2*X4+"px",_=p.getBoundingClientRect(),h!=Math.ceil(_.width)||g!=Math.ceil(_.height););f.setAttribute("width",h),f.setAttribute("height",g),c.setAttribute("width",h+2*X4),c.setAttribute("height",g+2*X4);for(var m,y,v,b,x,w,M=X4-10,k=null,j=null,A=null,T=1/0,z=1/0,N=0;N<t._directions.length;N++){var D=t._directions[N],I=(v=h,S=g,b=n,x=r,I=i,I=$4[D](v,S,b,x,I),b=b-X4-I.pos[0],I=x-X4-I.pos[1],{left:b,top:I,right:b+v+2*X4,bottom:I+S+2*X4}),S=Math.max(0,Math.floor(i.left)-I.left-M)+Math.max(0,I.right-Math.ceil(i.right)-M),I=Math.max(0,Math.floor(i.top)-I.top-M)+Math.max(0,I.bottom-Math.ceil(i.bottom)-M);if(0==S&&0==I){k=D;break}(S<T||S==T&&I<m)&&(T=S,m=I,j=D),(I<z||I==z&&S<y)&&(z=I,y=S,A=D)}return D=k||("horizontal"==t._fallbackFit?j:"vertical"==t._fallbackFit?A:(console.warn("Popup: failed to point box of size ("+h+", "+g+") at ("+n+", "+r+") within ("+i.left+", "+i.top+", "+i.right+", "+i.bottom+")"),t._directions[0])),w=l,e=d,u=h,s=g,f=o,c=a,d=n,o=r,a=i,a=$4[D](u,s,d,o,a),w.left=f-X4-a.pos[0]+"px",w.top=c-X4-a.pos[1]+"px",e.setAttribute("d","M0,0L"+a.shape.join(",")+"Z"),e.setAttribute("transform","translate("+(a.pos[0]+X4)+","+(a.pos[1]+X4)+")"),t}console.error("Popup: cannot draw popup till point() has been specified")},o5.prototype.hide=function(){return this.is_visible&&(this.is_visible=!1,this._getElement().style.display="none"),this},a5.version="2.1.5";var s5=$_("start","end","cancel","interrupt"),l5=[],c5=0,u5=1,f5=2,d5=3,p5=4,h5=5,g5=6;function _5(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==u5)return h();for(e in u)if((i=u[e]).name===l.name){if(i.state===d5)return vm(d);i.state===p5?(i.state=g5,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=g5,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(vm(function(){l.state===d5&&(l.state=p5,l.timer.restart(p,l.delay,l.time),p(t))}),l.state=f5,l.on.call("start",a,a.__data__,l.index,l.group),l.state===f5){for(l.state=d5,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function p(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(h),l.state=h5,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===h5&&(l.on.call("end",a,a.__data__,l.index,l.group),h())}function h(){for(var t in l.state=g5,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:s5,tween:l5,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:c5},((u=a.__transition)[s]=l).timer=hm(function(t){l.state=u5,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function m5(t,e){e=v5(t,e);if(e.state>c5)throw new Error("too late; already scheduled");return e}function y5(t,e){e=v5(t,e);if(e.state>d5)throw new Error("too late; already running");return e}function v5(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function b5(t,e,n){var r=t._id;return t.each(function(){var t=y5(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return v5(t,r).value[e]}}function x5(t,e){var n;return("number"==typeof e?Mu:e instanceof Li?zc:(n=Li(e))?(e=n,zc):Tu)(t,e)}function w5(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function M5(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var k5=Ps.prototype.constructor;function j5(t){return function(){this.style.removeProperty(t)}}function A5(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function T5(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var z5=0;function N5(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}Kt=Ps.prototype;N5.prototype={constructor:N5,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=ns(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,_5(f[d],e,n,d,f,v5(s,n)));return new N5(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=is(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,p=t.call(l,l.__data__,f,c),h=v5(l,n),g=0,_=p.length;g<_;++g)(d=p[g])&&_5(d,e,n,g,p,h);o.push(p),a.push(l)}return new N5(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=os(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new N5(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new N5(o,this._parents,this._name,this._id)},selection:function(){return new k5(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++z5,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&_5(a,t,n,c,s,{time:(a=v5(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new N5(r,this._parents,t,n)},call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?v5(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?m5:y5,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=Ka(t),r="transform"===n?Yu:x5;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,b5(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=Ka(t),this.tween(n,(t.local?w5:M5)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,p,h,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Fu:x5;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=ps(this,M),e=(this.style.removeProperty(M),ps(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,j5(t)):"function"==typeof e?this.styleTween(t,(y=z,v=b5(this,"style."+(m=t),e),function(){var t=ps(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=ps(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=y5(this,c),e=t.on,n=null==t.value[g]?h=h||j5(u):void 0;e===f&&p===n||(d=(f=e).copy()).on(_,p=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=ps(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,A5(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=b5(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,T5(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=v5(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=y5(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=y5(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){m5(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){m5(this,t).delay=e}})(e,t)):v5(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){y5(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){y5(this,t).duration=e}})(e,t)):v5(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){y5(this,t).ease=e}}(e,t)):v5(this.node(),e).ease},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=y5(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var D5={time:null,delay:0,duration:250,ease:Hm};Ps.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>f5&&n.state<h5,n.state=g5,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},Ps.prototype.transition=function(t){var e,n;t=t instanceof N5?(e=t._id,t._name):(e=++z5,(n=D5).time=fm(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&_5(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return D5.time=fm(),D5;return n}(a,e));return new N5(r,this._parents,t,e)};var I5,S5=1,E5={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function L5(){for(var t in this.unique_id=S5++,this._is_open=!1,this._onclose=null,E5)this["_"+t]=E5[t]}for(I5 in E5)!function(e){L5.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}(I5);L5.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(t=t.getBoundingClientRect(),this._point=[Math.floor(t.left+t.width/2),Math.floor(t.top+t.height/2)]):console.error("Panel: could not understand argument"),this)},L5.prototype.container=function(t){return t&&(this._container=t),this},L5.prototype.close=L5.prototype.hide=function(){if(this._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;Fs(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",function(){Fs(this).style("display",t._is_open?"block":"none")}).on("end",function(){Fs(this).style("display","none")}).select(".flourish-panel-close").style("opacity","0"),Fs(t._inner).transition().duration(e).style("opacity",0),Fs(t._content).transition().duration(e/2).style("opacity",0)}(this),this},L5.prototype.draw=function(){return this._content.innerHTML=this._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,i="overlay"==t._position,o="top"==t._position||"bottom"==t._position,a="left"==t._position||"right"==t._position,s=100*(t._max_width||1/0)/n,l=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,r="click"==t._vertical_position&&!Flourish.fixed_height,u=i?Math.min(t._width_overlay,s):o?100:Math.min(t._width_side,s),f=i?Math.min(t._height_overlay,l):a?100:Math.min(t._height_side,l),d=i?(100-u)/2:"right"==t._position?100-u:0,o=r?Math.max(1,Math.min(c-f/2,99-f)):(100-f)/2,p=i?o:"bottom"==t._position?100-f:0,s=i?0:u,l=i?0:f,o=i?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-u:0,n=i?c:"bottom"==t._position?100:"top"==t._position?-f:0;Fs(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",i?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",i?null:"none"),Fs(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",s+"%").style("height",l+"%").style("left",o+"%").style("top",n+"%").transition().duration(e).style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",p+"%").on("end",function(){Fs(t._inner).style("pointer-events","all").style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",p+"%")}).on("interrupt",function(){Fs(t._inner).style("pointer-events","all").style("width",u+"%").style("height",f+"%").style("left",d+"%").style("top",p+"%")});r=a&&r;Fs(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",function(){Fs(this).style("opacity",1)}),Fs(t._content).select(".flourish-panel-content-inner").style("position",r?"absolute":null).style("top",r?c+"%":null).style("transform",r?"translateY(-50%)":null),Fs(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0),t._is_open=!0,gm()}(this),this},L5.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},L5.prototype.margins=function(){var t,e={top:0,right:0,bottom:0,left:0};return this._is_open&&"overlay"!=this._position&&(t=this._getElement().getBoundingClientRect(),"top"==this._position&&(e.top=t.top+t.height),"right"==this._position&&(e.right=t.left),"bottom"==this._position&&(e.bottom=t.top),"left"==this._position&&(e.left=t.left+t.width)),e.css=e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px",e};var C5,O5={mode:"popup",locked_id:null,popup_is_custom:!(L5.prototype._getElement=function(){var t,e,n,r=this,i="flourish-panel-"+r.unique_id,o=document.getElementById(i);return o||((o=document.createElement("div")).className="flourish-panel",o.id=i,o.addEventListener("click",function(t){t.stopPropagation(),r.hide(),r._onclose&&r._onclose()}),(t=o.style).position="absolute",t.zIndex="999999",t.pointerEvents="none",t.width="100%",t.height="100%",t.top="0",t.left="0",t.background="rgba(255, 255, 255, 0)",(e=document.createElement("div")).className="flourish-panel-inner",o.appendChild(e),(t=(r._inner=e).style).width="0",t.height="0",t.position="absolute",t.boxSizing="border-box",(i=document.createElement("div")).className="flourish-panel-shadow",e.appendChild(i),(i=document.createElement("div")).className="flourish-panel-content",e.appendChild(i),(t=(r._content=i).style).opacity="0",t.overflowY="auto",t.height="100%",Fs((n=r)._inner).append("svg").attr("class","flourish-panel-close").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).on("mouseover",function(){n._closeable&&(this.style.opacity=.66)}).on("mouseout",function(){n._closeable&&(this.style.opacity=1)}).on("click",function(){Ns.stopPropagation(),n.hide(),n._onclose&&n._onclose()}).on("touch",function(){Ns.stopPropagation(),n.hide(),n._onclose&&n._onclose()}).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30"),r._container.appendChild(o)),o}),popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"start",popup_font_size:1,popup_width:12,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h1>Tap or click to explore</h1>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"start",panel_font_size:1.25,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};function P5(i,o,t){var e="<div class='flourish-panel-content-inner'>",n=i["_"+t+"_default_template"],r=i._state[t+"_list_type"],a=i._state[t+"_list_separator"],t="<br />"===a,s=t?"":a,l=t?a:"";if(n)e+=n.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(i._column_names[n])){var e=i._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+a+o[n][e]+"</li>"}),r+="</ul>"}else r=o[n];return void 0!==r?r:""});else{var c,u={};(o[i._title_key]||o[i._subtitle_key])&&(e+="<header>",o[i._title_key]&&(e+="<h1>"+o[i._title_key]+"</h1>",u[c=i._column_names[i._title_key]]=!0),o[i._subtitle_key]&&(e+="<h2>"+o[i._subtitle_key]+"</h2>",u[c=i._column_names[i._subtitle_key]]=!0),e+="</header>");var f,d="";for(f in i._column_names)if(!(-1<i._column_names_hidden.indexOf(f))&&f!=i._title_key&&f!=i._subtitle_key)if(Array.isArray(o[f]))for(var p=0;p<o[f].length;p++)u[c=i._column_names[f][p]]||(u[c]=!0,"table"==r?d+="<tr><td class='table-col-label'><span class='data-heading'>"+c+"</span></td><td class='table-col-value'>"+o[f][p]+"</td></tr>":"ul"==r&&(d+="<li><span class='data-heading'>"+c+s+" </span> "+l+o[f][p]+"</li>"));else u[c=i._column_names[f]]||(u[c]=!0,"table"==r?d+="<tr><td class='table-col-label'><span class='data-heading'>"+c+"</span></td><td class='table-col-value'>"+o[f]+"</td></tr>":"ul"==r&&(d+="<li><span class='data-heading'>"+c+s+" </span> "+l+o[f]+"</li>"));""!==d&&(e+="<div class='main-content'><"+r+">",e+=d,e+="</"+r+"></div></div>")}return e}function F5(n,r,i){var o;return Object.keys(n._column_names).some(function(t){if(Array.isArray(n._column_names[t])){var e=n._column_names[t].indexOf(r);if(0<=e)return o=i[t][e],!0}else if(n._column_names[t]==r)return o=i[t],!0}),void 0!==o?o:""}function Y5(t,e,n,r){var i="",e=R5(e,t,r),r=R5(n,t,r);return e&&(i+="<header>"+e+"</header>"),r&&(i+="<div class='main-content'>"+r+"</div>"),i}function R5(t,r,i){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,function(t,e,n){return""==F5(r,e,i)?"":n}).replace(/\{\{(visualisation|story)\/(.*)\}\}/g,function(t,e,n){n=n.split("/");if(n.length<1||!["visualisation","story"].includes(e))return t;n={id:n[0],w:n[1]||"100%",h:n[2]||"400px%"},e="https://flo.uri.sh/"+e+"/"+n.id+"/embed?";return Fs(ts("iframe").call(document.documentElement)).attr("src",e).attr("title","Interactive or visual content").attr("class","flourish-embed-iframe").attr("frameborder","0").attr("scrolling","no").attr("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation").style("width",n.width).style("height",n.height).node().outerHTML}).replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,e){return F5(r,e,i)}).trim()}function U5(t,e,n){var r="";return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=Y5(t,t._state.popup_custom_header,t._state.popup_custom_main,e):r+=P5(t,e,"popup"),r}function B5(t,e){var n="";return t._state.panel_is_custom?n+=Y5(t,t._state.panel_custom_header,t._state.panel_custom_main,e):n+=P5(t,e,"panel"),n}function H5(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",function(){event.stopPropagation()});var r=t.panel._getElement(),i=r.querySelector(".flourish-panel-inner"),o=r.querySelector(".flourish-panel-content"),n=Li(t._state.panel_background);i.style.background="rgba("+n.r+","+n.g+","+n.b+","+t._state.panel_background_opacity+")",i.style.borderRadius=t._state.popup_radius+"rem",i.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",i.addEventListener("click",function(){event.stopPropagation()}),o.style.padding=t._state.panel_padding+"rem",o.style.textAlign=t._state.panel_align,o.style.color=t._state.panel_text_color,o.style.fontSize=t._state.panel_font_size+"rem",o.style.boxSizing="border-box";e=e.querySelector(".flourish-popup-svg g");e.style.fill=t._state.popup_background,e.style.opacity=t._state.popup_background_opacity;r=r.querySelector(".flourish-panel-close path");r&&(r.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?e.removeAttribute("filter"):e.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),e.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),e.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){document.querySelector("#popup-styles")||((i=document.createElement("style")).id="popup-styles",document.head.appendChild(i));var e=new il,n="block"==t._state.popup_header_type,r=Li(t._state.popup_header_background||"transparent");r.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var i=t._state.panel_position;e.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=i&&t._state.panel_shadow?"block":"none").style("top","bottom"==i?"-3rem":"top"==i?"auto":0).style("right","left"==i?"-3rem":"right"==i?"auto":0).style("bottom","top"==i?"-3rem":"bottom"==i?"auto":0).style("left","right"==i?"-3rem":"left"==i?"auto":0).style("width","left"==i||"right"==i?"3rem":"100%").style("height","top"==i||"bottom"==i?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),e.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==i||"right"==i?"1.5rem":"100%").style("height","top"==i||"bottom"==i?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==i?"-50%":"top"==i?"auto":0).style("left","left"==i?"-50%":"right"==i?"auto":0).style("top","top"==i?"-50%":"bottom"==i?"auto":0).style("right","right"==i?"-50%":"left"==i?"auto":0).style("filter","blur(15px)"),e.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),e.select(".flourish-popup header, .flourish-panel header").style("margin","0"),e.select(".flourish-popup header").style("font-weight","bold").style("color",n?t._state.popup_header_text_color:null).style("background",n?r.rgb():null).style("padding",t._state.popup_padding+"rem").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),e.select(".flourish-popup header:not(:last-child)").style("padding-bottom",n?null:"0"),e.select(".flourish-popup header:not(:last-child)").style("padding-bottom",n?null:"0"),e.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),e.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),e.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),e.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",n?null:"0"),e.select(".flourish-popup h1, .flourish-panel h1").style("font-size","1em").style("margin","0"),e.select(".flourish-popup h1, .flourish-popup h2, .flourish-popup ul li").style("text-align",t._state.popup_align),e.select(".flourish-panel h1, .flourish-panel h2, .flourish-panel ul li").style("text-align",t._state.panel_align),e.select(".flourish-popup h2, .flourish-panel h2").style("font-size","1em").style("margin",n?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),e.select(".flourish-popup h2:empty, .flourish-panel h2:empty, .flourish-popup h1:empty, .flourish-panel h1:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),e.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),e.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),e.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),e.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),e.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em").style("vertical-align","top").style("font-size","inherit").style("text-align","start").style("font-weight","normal").style("overflow","hidden").style("word-break","break-word").style("text-overflow","ellipsis"),e.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),e.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight).style("display","inline-block"),e.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight).style("display","inline-block"),e.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","end").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em"),e.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),e.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),e.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style","none"),document.head.querySelector("#popup-styles").innerHTML=e.print()}(t)}function Z5(t,e,n){var r,i=this;for(r in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._column_names=[],this._column_names_hidden=[],this._getLockedPosition=function(){return null},O5)null==t[r]&&(t[r]=O5[r]);this.panel=(new L5).container(this._panel_container).on("close",function(){i._state.locked_id=null,i.popup.hide(),"function"==typeof i._on_panel_close&&i._on_panel_close()}),this.popup=a5().container(this._popup_container).point(0,0).draw().hide()}function G5(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function q5(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}function Q5(t){var e,n={},r="x"===Mw.boxes.category_col?"vertical":"horizontal";for(e in t){var i=t[e];if("x"===e)i=F9(i);else if("y"===e)i=Y9(i);else if("size"===e)i=R9(i);else if("color"===e)i=U9(i);else if("facet"===e)i=t.facet.key;else if(["top","mid","bottom"].includes(e))i=("vertical"==r?Y9:F9)(i);else if("id"===e)continue;n[e]=i}return n}function W5(){var t,e;C5.panel.underlay_color((t=D2.layout.background_color,e=.8,"string"==typeof t&&((t=Li(t)).opacity=void 0!==e?e:1,t))),C5.setColumnNames(kw.data.column_names).getLockedPosition(V5).update()}function V5(t){if("webgl"===D2.render_mode)return null;t=Fs("#"+t).node();return t?[t,t&&t.__data__]:void 0}Z5.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},Z5.prototype.update=function(t){var e;null!==this._state.locked_id&&"none"!=this._state.mode?(e=this._getLockedPosition(this._state.locked_id))?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function"):this.clickout()},Z5.prototype.click=function(t,e,n,r){var i;"none"!=this._state.mode&&(i="popup"==this._state.mode?"popup":"panel",this._checkIfPopupIsEmpty(e,i)?"panel"==i?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,q5(this)):this._state.locked_id=null,"panel"==i?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==i&&(this.panel.hide(),this._drawPopup(e,r))))},Z5.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},Z5.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},Z5.prototype.mouseover=function(t,e,n,r,i){var o="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,o,"both"==this._state.mode))"panel"==o?this.hidePanel():this.hidePopup();else{var a=this;if("both"==this._state.mode&&(this._point(t),this._drawPopup(e,n,!0),(r?q5:G5)(this),r&&(a.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){a.click(t,e,i,n)})),"popup"==this._state.mode){if(null!==this._state.locked_id)return;G5(this),this._point(t),this._drawPopup(e,n)}"panel"==this._state.mode&&null===this._state.locked_id&&"overlay"!=this._state.panel_position&&this._state.panel_side_fixed&&(clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n))}},Z5.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}"panel"==this._state.mode&&null===this._state.locked_id&&"overlay"!=this._state.panel_position&&this._state.panel_side_fixed&&this._showDefaultPanelContent()},Z5.prototype.locked=function(){return this._state.locked_id},Z5.prototype.mode=function(){return this._state.mode},Z5.prototype.setColumnNames=function(t){return this._column_names=t,this},Z5.prototype.hideColumnNames=function(t){return this._column_names_hidden=t,this},Z5.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout(function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()},100),t._drawPanel()},Z5.prototype._checkIfPopupIsEmpty=function(t,e,n){return""==("panel"==e?B5(this,t):U5(this,t,n)).trim()},Z5.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},Z5.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(U5(this,t,n)),H5(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},Z5.prototype._drawPanel=function(t,e){return H5(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),(void 0===t?this.panel:this.panel.html(B5(this,t))).draw(),e&&e(this.panel._getElement(),t),this},Z5.prototype.hidePanel=function(){return this.panel.hide(),this},Z5.prototype.hidePopup=function(){return this.popup.hide(),this},Z5.prototype.popupDirections=function(t){return t?(this._popup_directions=t,this):this._popup_directions.slice()},Z5.prototype.margins=function(){return this.panel.margins()},Z5.prototype._getBiggestGap=function(t){var e,n,r,i=this._popup_container.getBoundingClientRect(),o=0,a={right:(i.width+i.left-(t.width+t.left))/i.width,bottom:(i.height+i.top-(t.height+t.top))/i.height,left:(t.left-i.left)/i.width,top:(t.top-i.top)/i.height},s={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(r in a)this._popup_directions.indexOf(r)<0||o<a[r]&&(o=a[r],n=s[e=r]);var l=t.left,i=t.top;return"left"==e||"right"==e?i+=.5*t.height:"bottom"==e&&(i+=t.height),"top"==e||"bottom"==e?l+=.5*t.width:"right"==e&&(l+=t.width),{side:e,arrow_directions:n,x:l,y:i}},Z5.prototype._point=function(t){var e=this._popup_directions;if(Array.isArray(t))r=t[0],i=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var n=t.getBoundingClientRect(),n=this._getBiggestGap(n),r=n.x,i=n.y,e=n.arrow_directions}return this.panel.point(t),this.popup.directions(e).point(r,i),this},Z5.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},Z5.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},Z5.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},Z5.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var X5,$5,J5,K5,tM,eM,nM={x:0,y:0,width:1,height:1,data:new Uint8Array(4),framebuffer:null},rM=null,iM=(X5=lM,J5=$5=!1,function t(e,n,r){if($5)return J5=!0,K5=e,tM=n,void(eM=r);$5=!0,X5(e,n,function(){$5=!1,r.apply(this,arguments),J5&&(J5=!1,t(K5,tM,eM,eM=null))})});function oM(i){return function(t){var n=t.offsetX,r=t.offsetY;iM(n,r,function(t,e){t&&e?(t=i.getBoundingClientRect(),rM={coordinates:[n+t.left,r+t.top],data:e},C5.mouseover(rM.coordinates,rM.data)):(C5.mouseout(),rM=null)})}}function aM(t){rM?C5.click(rM.coordinates,rM.data,!0):C5.clickout(),"story_editor"===Flourish.environment&&lM(t.offsetX,t.offsetY,function(t,e,n){t&&(-1==(t=D2.labels_selected.indexOf(n))?D2.labels_selected.push(n):D2.labels_selected.splice(t,1),Q4(Mw))})}var sM={color:[tM=K5=0,0,0,0],depth:1};function lM(e,o,a){!function(t){if(RM())u4?LM(TM,t):d4(TM)}(function(t){if(t.transition_progress<1)return a(!1,!1,-1);var n=fM(TM,t);if(void 0===n)return a(!1,!1,-1);var r=Math.floor(e*k4()),i=t.drawingBufferHeight-Math.floor(o*k4());return r<0||i<0||r>=t.drawingBufferWidth||i>=t.drawingBufferHeight?a(!1,!1,-1):(sM.framebuffer=n,TM.clear(sM),gM.pickPass(TM),void window.requestAnimationFrame(function(){nM.x=r,nM.y=i,nM.framebuffer=n,TM.read(nM);var t=nM.data,e=t[3],t=t[2]|t[1]<<8|t[0]<<16,e=e&&Mw.data_points[t];a(!!e,e,e?t:-1)}))})}var cM=eM=null,uM=[-1,-1];function fM(t,e){var n=e.drawingBufferWidth,e=e.drawingBufferHeight;if(cM)uM[0]===n&&uM[1]===e||cM.resize(n,e);else try{cM=cM||t.framebuffer({width:n,height:e,depth:!1,stencil:!1})}catch(t){return}return uM[0]=n,uM[1]=e,cM}var dM,pM,hM,gM=(dM="plotter-points",hM=!(pM=function(n,t,e){return function(t){var e,n=Mw.facets,r=function(t,e){for(var n=Object.create(null),r=0;r<t.length;r++)n[t[r][e]]=r;return n}(n,"key");for(e in _4=Object.create(null),b4.allocate(t,n.map(function(t){return t.key})),b4.facets){var i=r[e];if(void 0===i)throw new Error("Unexpected: referenced unallocated facet "+JSON.stringify(e));var o=n[i],a=b4.facets[e],s=a.storage,l=Mw.data_points.filter(function(e){var t=!("slider"in Mw.data_points.column_names)||null==c7.value(),n="x"in Mw.data_points.column_names,r="y"in Mw.data_points.column_names,i="size"in Mw.data_points.column_names;return t?function(t){return o(t)&&t.facet_index===e}:function(t){return o(t)&&t.facet_index===e&&p7(t.slider)==p7(c7.value())};function o(t){return!(n&&"string"!=typeof t.x&&isNaN(t.x)||r&&"string"!=typeof t.y&&isNaN(t.y)||i&&"string"!=typeof t.size&&isNaN(t.size))}}(i)),c=function(t){var n=Object.create(null);return t&&t.length?1===t.length?function(t){return e(t,t.name[0])}:function(t){return e(t,t.name.join("ÿ"))}:function(t){return t.row};function e(t,e){return t._id_key||(n[e]?n[e]++:n[e]=1,t._id_key=e+n[e])}}(kw.data.column_names.name),u=a.joiner(l,c),f=u.update.concat(u.enter).concat(u.exit);!function(t){for(var e=0;e<t.length;e++){var n=t[e];n._color_webgl_curr?(n._color_webgl_prev=n._color_webgl_curr,n._color_webgl_curr=a3(n.color),n._shape_webgl_prev=n._shape_webgl_curr,n._shape_webgl_curr=H3(n)):(n._color_webgl_prev=n._color_webgl_curr=a3(n.color),n._shape_webgl_prev=n._shape_webgl_curr=H3(n))}}(f),s.id=new Float32Array(2*f.length),s.prev_x=new Float32Array(f.length),s.curr_x=new Float32Array(f.length),s.curr_y=new Float32Array(f.length),s.prev_y=new Float32Array(f.length),s.curr_r=new Float32Array(f.length),s.prev_r=new Float32Array(f.length),s.curr_uv=new Float32Array(4*f.length),s.prev_uv=new Float32Array(4*f.length),s.stroke_width=new Float32Array(f.length),s.curr_color=new Float32Array(3*f.length),s.prev_color=new Float32Array(3*f.length);var d=u.update.length,p=d+u.enter.length;a.count_total=f.length,a.count_remaining=p;for(var h=o.scales.x.range(),i=h[0]/o.layout.plot_w,l=h[1]/o.layout.plot_w,u=o.scales.y.range(),h=1-u[0]/o.layout.plot_h,u=1-u[1]/o.layout.plot_h,g=o.scales.x.copy().range([i,l]),_=o.scales.y.copy().range([h,u]),m=function(t){return g(t.x)+t.beeswarm_offset_x/o.layout.w},y=function(t){return _(t.y)+t.beeswarm_offset_y/o.layout.h},v=0;v<d;v++){var b=f[v],x=a.joiner.source(c(f[v]))||b,w=b._shape_webgl_curr,M=x===b?x._shape_webgl_prev:x._shape_webgl_curr;s.prev_x[v]="_pwx"in x?x._pwx:m(x),s.curr_x[v]=b._pwx=m(b),s.prev_y[v]="_pwy"in x?x._pwy:y(x),s.curr_y[v]=b._pwy=y(b),s.curr_r[v]=4.5*xM(b)/Math.PI*mM(w),s.prev_r[v]=4.5*xM(x)/Math.PI*mM(M),s.stroke_width[v]=mM(w),h4(s.id,v,b.row_filtered),g4(s.curr_uv,v,w),g4(s.prev_uv,v,M),m4(s.curr_color,v,b._color_webgl_curr),m4(s.prev_color,v,x===b?x._color_webgl_prev:x._color_webgl_curr)}for(v=d;v<p;v++){var k=f[v];s.curr_x[v]=s.prev_x[v]=k._pwx=m(k),s.curr_y[v]=s.prev_y[v]=k._pwy=y(k),s.curr_r[v]=4.5*xM(k)/Math.PI*mM(k._shape_webgl_curr),s.prev_r[v]=0,s.stroke_width[v]=mM(k._shape_webgl_curr),h4(s.id,v,k.row_filtered),g4(s.curr_uv,v,k._shape_webgl_curr),g4(s.prev_uv,v,k._shape_webgl_curr),m4(s.curr_color,v,k._color_webgl_curr),m4(s.prev_color,v,k._color_webgl_curr)}for(v=p;v<f.length;v++){var j=f[v];s.curr_x[v]=s.prev_x[v]="_pwx"in j?j._pwx:m(j),s.curr_y[v]=s.prev_y[v]="_pwy"in j?j._pwy:y(j),s.curr_r[v]=0,s.prev_r[v]=4.5*xM(j)/Math.PI*mM(j._shape_webgl_prev),s.stroke_width[v]=mM(j._shape_webgl_prev),h4(s.id,v,j.row_filtered),g4(s.curr_uv,v,j._shape_webgl_prev),g4(s.prev_uv,v,j._shape_webgl_prev),m4(s.curr_color,v,j._color_webgl_prev),m4(s.prev_color,v,j._color_webgl_prev)}a.upload()}}(n),{instances:yM,vert:"precision highp float;\n#define GLSLIFY 1\nuniform mat4 u_proj_view;uniform float u_pixel_ratio;uniform vec2 u_scale_aspect;uniform vec3 u_scale_pixel;uniform float state_stroke_width;attribute vec2 a_coord;attribute highp vec2 instance_id;attribute float instance_stroke_width;attribute float instance_scale_x_curr;attribute float instance_scale_y_curr;attribute float instance_scale_r_curr;attribute vec3 instance_color_curr;\n#if IS_TRANSITION\nuniform float u_transition_progress;uniform float u_transition_stagger;attribute float instance_scale_x_prev;attribute float instance_scale_y_prev;attribute float instance_scale_r_prev;attribute vec3 instance_color_prev;varying float v_transition_progress;\n#endif\n#if !IS_ALL_CIRCLES\nvarying vec2 v_uv1;varying vec2 v_uv2;attribute vec4 instance_uv_prev;attribute vec4 instance_uv_curr;\n#endif\nvarying float v_coord_pixel;varying vec2 v_coord;varying vec3 v_color;float cubicInOut(float t){if(t<0.5){return 4.0*t*t*t;}float u=1.0-t;return 1.0-4.0*u*u*u;}vec3 packUInt24IntoVec3(highp float i){return vec3(floor(i/65536.0),mod(floor(i/256.0),256.0),mod(i,256.0))/255.0;}void main(){v_coord=a_coord;\n#if IS_PICKING\nv_color=packUInt24IntoVec3(instance_id.y);\n#else\nv_color=instance_color_curr;\n#endif\n#if IS_TRANSITION\nfloat t=u_transition_progress;t=clamp(t-instance_id.x*u_transition_stagger,0.0,1.0);t=cubicInOut(t);v_color=mix(instance_color_prev,v_color,t);v_transition_progress=t;float radius=mix(instance_scale_r_prev,instance_scale_r_curr,t);vec2 p_prev=vec2(instance_scale_x_prev,instance_scale_y_prev);vec2 p_curr=vec2(instance_scale_x_curr,instance_scale_y_curr);vec2 P=mix(p_prev,p_curr,t);\n#if !IS_ALL_CIRCLES\nv_uv1=mix(instance_uv_prev.xy,instance_uv_prev.zw,a_coord.xy*0.5+0.5);v_uv2=mix(instance_uv_curr.xy,instance_uv_curr.zw,a_coord.xy*0.5+0.5);\n#endif\n#else\nfloat radius=instance_scale_r_curr;vec2 P=vec2(instance_scale_x_curr,instance_scale_y_curr);\n#if !IS_ALL_CIRCLES\nv_uv1=mix(instance_uv_curr.xy,instance_uv_curr.zw,a_coord.xy*0.5+0.5);\n#endif\n#endif\nP=P*2.0-1.0;P+=u_scale_pixel.xy*u_scale_pixel.z*a_coord*(radius+state_stroke_width/u_scale_pixel.z);\n#if !IS_PICKING\nv_coord_pixel=u_pixel_ratio/radius/u_scale_pixel.z;\n#if !IS_ALL_CIRCLES\nv_coord_pixel*=instance_stroke_width;\n#endif\n#endif\ngl_Position=u_proj_view*vec4(P,0,1);}",frag:"precision highp float;\n#define GLSLIFY 1\n#define DEBUG_SHOW_TRANSITIONS 0\nuniform vec3 state_stroke_color;uniform float state_fill_opacity;uniform float state_stroke_width;uniform float state_stroke_opacity;uniform sampler2D t_spritesheet;varying vec2 v_uv1;varying vec2 v_uv2;varying float v_coord_pixel;\n#if IS_TRANSITION\nvarying float v_transition_progress;\n#endif\nvarying vec3 v_color;varying vec2 v_coord;float aastep(float threshold,float value){\n#ifdef GL_OES_standard_derivatives\nfloat afwidth=length(vec2(dFdx(value),dFdy(value)))*0.70710678118654757;return smoothstep(threshold-afwidth,threshold+afwidth,value);\n#else\nreturn step(threshold,value);\n#endif\n}float getPointDistance(){\n#if IS_TRANSITION\nfloat dist1=texture2D(t_spritesheet,v_uv1).r;float dist2=texture2D(t_spritesheet,v_uv2).r;return mix(dist1,dist2,v_transition_progress);\n#else\nreturn texture2D(t_spritesheet,v_uv1).r;\n#endif\n}float getDiffuseAlpha(out float alpha_stroke){\n#if IS_ALL_CIRCLES\nfloat alpha_outer=1.0-aastep(1.0,length(v_coord));float alpha_inner=1.0-aastep(1.0-v_coord_pixel*state_stroke_width,length(v_coord));\n#else\nfloat dist=getPointDistance();float alpha_outer=aastep(0.5,dist);float alpha_inner=aastep(0.5,dist-v_coord_pixel*state_stroke_width);\n#endif\nalpha_stroke=alpha_outer-alpha_inner;return alpha_stroke*state_stroke_opacity+alpha_inner*state_fill_opacity;}float getPickingAlpha(){\n#if IS_ALL_CIRCLES\nreturn step(length(v_coord),1.0);\n#else\nreturn step(0.5,getPointDistance());\n#endif\n}void main(){\n#if IS_PICKING\nfloat alpha=getPickingAlpha();vec3 color=v_color;\n#else\nfloat alpha_stroke;float alpha=getDiffuseAlpha(alpha_stroke);\n#if IS_STROKE_FIXED\nvec3 color=mix(v_color,state_stroke_color,alpha_stroke);\n#else\nvec3 color=v_color;\n#endif\n#endif\ngl_FragColor=vec4(color,clamp(alpha,0.0,1.0));\n#if !IS_PICKING && DEBUG_SHOW_TRANSITIONS && IS_TRANSITION\ngl_FragColor.rgb=vec3(1,0,0);\n#endif\n}",count:6,depth:{enable:!0,mask:!1},blend:{enable:!0,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:"one minus src alpha"},equation:{rgb:"add",alpha:"add"}},context:{facet:I4},uniforms:S4,attributes:{instance_id:bM("id"),instance_uv_curr:bM("curr_uv"),instance_uv_prev:bM("prev_uv"),instance_stroke_width:bM("stroke_width"),instance_scale_x_curr:bM("curr_x"),instance_scale_y_curr:bM("curr_y"),instance_scale_x_prev:bM("prev_x"),instance_scale_y_prev:bM("prev_y"),instance_scale_r_curr:bM("curr_r"),instance_scale_r_prev:bM("prev_r"),instance_color_curr:bM("curr_color"),instance_color_prev:bM("prev_color"),a_coord:[-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]},framebuffer:function(t,e){return e.picking?fM(n,t):void 0}}}),function(t,e){if(!hM)try{var n;!MM[dM]||kM[dM]?(n=pM(t,D2,kw),Object.assign(n,{vert:AM(n.vert,jM),frag:AM(n.frag,jM,["GL_OES_standard_derivatives"]),profile:!0}),MM[dM]=t(n),MM[dM](e),kM[dM]=!1):MM[dM](e)}catch(t){throw hM=!0,t}});function _M(n){var r=[];return function(t){for(var e=r.length;e<Mw.facets.length;e++)r[e]=Object.assign({facet:Mw.facets[e].key},n);r.length=Mw.facets.length;for(e=0;e<r.length;e++)r[e].facet=Mw.facets[e].key;gM(t,r)}}function mM(t){return p4[t].scale}function yM(t,e){return jM.IS_TRANSITION(t,e)?b4.facets[e.facet||""].count_total:b4.facets[e.facet||""].count_remaining}function vM(){for(var t=0,e=0;e<b4.keys.length;e++){var n=b4.facets[b4.keys[e]].storage.curr_x.length;t<n&&(t=n)}return t}function bM(n){var r={buffer:null,divisor:1};return function(t,e){return r.buffer=b4.facets[e.facet||""].buffers[n],r}}function xM(t){return Math.sqrt(B3(t))}gM.mainPass=_M({picking:!1}),gM.pickPass=_M({picking:!0});var wM,MM=Object.create(null),kM=Object.create(null),jM={IS_PICKING:"picking",IS_ALL_CIRCLES:function(){return!1},IS_STROKE_FIXED:function(){return"fixed"===D2.stroke_mode},IS_TRANSITION:function(t,e){t=t.time_current-t.time_last_update<D2.animation_duration+D2.animation_stagger*vM();return t&&(PM=!0),t}};function AM(o,t,e){if(!o)return o;for(var a=Object.keys(t),s=Object.values(t),l=Object.create(null),c=[],u=[],n=0;e&&n<e.length;n++){var r=e[n];c.push("#ifdef "+r),c.push("#extension "+r+" : enable"),c.push("#endif")}var f=c.length;if(24<a.length)throw new Error("Too many dynamic shader flags: no more than 24 may be used.");return function(t,e){for(var n=0,r=0;r<a.length;r++){var i="function"==typeof s[r]?s[r](t,e):e[s[r]];(u[r]=!!i)&&(n|=1<<r)}if(l[n])return l[n];c.length=f;for(r=0;r<a.length;r++)c.push("#define "+a[r]+(u[r]?" 1":" 0"));return c.push(o),l[n]=c.join("\n")}}var TM,zM=Date.now(),NM=0,DM=0,IM=0,SM=0,EM=!1;function LM(t,e){function n(t){return function(){return D2[t]}}var r,i,o,a,s;DM=(Date.now()-zM)/1e3,IM=DM-SM,SM=DM,e&&(wM=wM||(t=t,r=new Float32Array(16),i=new Float32Array(16),o=new Float32Array(16),a=new Float32Array(2),s=new Float32Array(3),t({context:{time_last_update:function(){return NM},time_current:function(){return DM},time_delta:function(){return IM},transition_progress:function(){return(DM-NM)/D2.animation_duration},transition_init:function(){return EM},transition_stagger:function(){return D2.animation_stagger?D2.animation_stagger/D2.animation_duration:0},view:function(){return $3(i)},proj:function(){return K3(r,-1,1,-1,1,-1,1)},aspect_ratio:function(t){return t.viewportWidth/t.viewportHeight},assets:u4},uniforms:{u_time:function(){return DM},u_time_since_update:function(){return DM-NM},u_transition_progress:t.context("transition_progress"),u_transition_stagger:t.context("transition_stagger"),u_pixel_ratio:k4,u_view:t.context("view"),u_proj:t.context("proj"),u_proj_view:function(t){return J3(o,t.proj,t.view)},u_scale_aspect:function(t){t=t.aspect_ratio;return a[0]=Math.max(1,1/t),a[1]=Math.max(1,t),a},t_spritesheet:t.context("assets.spritesheet"),state_fill_opacity:n("fill_opacity"),state_stroke_opacity:n("stroke_opacity"),state_stroke_color:function(){return m4(s,0,D2.stroke_color),s},state_stroke_width:function(t,e){return jM.IS_ALL_CIRCLES(t,e)?D2.stroke_width:D2.stroke_width*Math.PI/4}}})))(e),EM=!1}LM.update=function(t){EM=!0,t||(NM=DM)};var CM,OM,PM=!0;function FM(t){if(TM)throw new Error("createScatterGL should only be called once");try{OM=(CM=t).appendChild(document.createElement("canvas")),HM(),TM=X3({canvas:OM,extensions:["ANGLE_instanced_arrays"],optionalExtensions:["OES_standard_derivatives"],attributes:{premultipliedAlpha:!0,preserveDrawingBuffer:!0}})}catch(t){return void console.log("WebGL disabled")}CM.addEventListener("mousemove",oM(CM),!1),CM.addEventListener("click",aM),TM.frame(function(t){if(TM&&(PM&&TM.clear(UM),RM())){if(!u4)return d4(TM);var e=PM;PM=!1,LM(TM,e&&t)}}.bind(null,BM)),window.addEventListener("resize",HM,!1),YM(!0)}function YM(t){PM=!0,RM()?(CM.style.display="block",function(){for(var t in MM)kM[t]=!0}(),LM.update(t),HM()):CM.style.display="none"}function RM(){return TM&&"webgl"===D2.render_mode}var UM={color:[0,0,0,0],depth:1};function BM(){TM&&gM.mainPass(TM)}function HM(){var t=k4(),e=Math.min(4096/t,nA.getPrimaryHeight()),n=nA.getPrimaryWidth();CM.style.position="absolute",CM.style.top=0,CM.style.left=0,CM.style.width=n+"px",CM.style.height=e+"px",OM.style.width=n+"px",OM.style.height=e+"px",OM.width=n*t,OM.height=e*t}"classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var n=this;return{contains:function(t){return-1!==n.className.baseVal.split(" ").indexOf(t)},add:function(t){return n.setAttribute("class",(n.getAttribute("class")||"")+" "+t)},remove:function(t){var e=n.getAttribute("class").replace(new RegExp("(\\s|^)".concat(t,"(\\s|$)"),"g"),"$2");n.classList.contains(t)&&n.setAttribute("class",e)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)}}}});Kt=document.createElement("style");Kt.innerHTML='body.fl-cursor-custom,body.fl-cursor-custom *{cursor:none!important}body.fl-cursor-pointer,body.fl-cursor-pointer *{cursor:pointer!important}body.fl-cursor-default .fl-annotations .fl-annotations-cursor,body.fl-cursor-pointer .fl-annotations .fl-annotations-cursor{visibility:hidden}.fl-annotations{position:absolute;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,0);cursor:pointer;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-transition:opacity .25s;transition:opacity .25s}.fl-annotations,.fl-annotations.is-dragging,.fl-annotations.is-dragging *{pointer-events:none}.flourish-popup{z-index:100000}.fl-project-editor{font-family:Source Sans Pro,sans-serif;color:#333;margin:0;font-size:16px;height:100%;-webkit-font-smoothing:antialiased}.fl-project-editor *{box-sizing:border-box}.fl-project-editor .no-select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fl-project-editor h1,.fl-project-editor h2,.fl-project-editor h3,.fl-project-editor h4,.fl-project-editor p{margin:0;font-weight:400}.fl-project-editor input,.fl-project-editor select,.fl-project-editor textarea{font-family:Source Sans Pro,sans-serif}.fl-project-editor a:link,.fl-project-editor a:visited{color:inherit;text-decoration:none}.fl-project-editor a:active,.fl-project-editor a:hover{opacity:.75}.fl-project-editor header{display:block;position:absolute;top:0;left:0;width:100%}.fl-project-editor main{display:block;position:absolute;top:80px;left:0;width:100%;height:calc(100vh - 80px);overflow-y:auto;-webkit-transition:height .5s ease,top .5s ease;transition:height .5s ease,top .5s ease}@media(min-width:420px){.fl-project-editor main{top:92px;height:calc(100vh - 92px)}}.fl-project-editor .hide-editor-bar main{top:50px;height:calc(100vh - 50px)}@media(min-width:420px){.fl-project-editor .hide-editor-bar main{top:62px;height:calc(100vh - 62px)}}.fl-project-editor .user-nav{float:right;padding-top:0;display:none}@media(min-width:820px){.fl-project-editor .user-nav{display:block;margin-top:13px;height:36px}.fl-project-editor .user-nav .dropdown-head #current-picture{height:36px;width:36px;border-radius:9999px;margin-left:10px}.fl-project-editor .user-nav .dropdown-list{left:auto;right:-5px;margin-top:-5px}}.fl-project-editor .visualisation-editor{overflow-x:hidden}.fl-project-editor .visualisation-editor .template-chooser.visible+.tab-panes{display:none}.fl-project-editor .visualisation-editor .tab-panes{height:100%;width:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation,.fl-project-editor .visualisation-editor .tab-panes .row-inner,.fl-project-editor .visualisation-editor .tab-panes .row.editor,.fl-project-editor .visualisation-editor .tab-panes .tab-pane{height:100%}.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{position:relative}@media (min-width:820px){.fl-project-editor .visualisation-editor .tab-panes #visualisation .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row-inner .editor-core,.fl-project-editor .visualisation-editor .tab-panes .row.editor .editor-core,.fl-project-editor .visualisation-editor .tab-panes .tab-pane .editor-core{min-height:100%;padding-bottom:40px}}.fl-project-editor .visualisation-editor .tab-panes .tab-pane .side-panel{display:none}.fl-project-editor .visualisation-editor .tab-panes .tab-pane.active .side-panel{display:block}.fl-project-editor .visualisation-editor .tab-panes .tab-pane:not(.active) #spreadsheet-container input{display:none}.fl-project-editor .story-editor,.fl-project-editor .visualisation-editor{background:#f9f9f9}.fl-project-editor .row.editor{padding:0}.no-template .fl-project-editor .row.editor{display:none}.fl-project-editor .row.editor .row-inner{max-width:none;padding:0 10px}.fl-project-editor .row.editor #visibility-status .label,.fl-project-editor .row.editor .blueprint-tag{display:inline-block;margin-left:2px}.fl-project-editor .row.editor #story,.fl-project-editor .row.editor #visualisation{height:100%;width:100%;-webkit-transition:height .5s ease;transition:height .5s ease;position:relative}.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{width:100%;height:auto;overflow:visible;-webkit-transition:width .5s ease;transition:width .5s ease;position:relative;text-align:center}.fl-project-editor .row.editor #story .editor-core .preview-holder,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder{width:100%;height:100%;padding-right:4px;min-width:100px;min-height:100px;-webkit-transition:margin-left .5s ease,width .5s ease,opacity 1s;transition:margin-left .5s ease,width .5s ease,opacity 1s;position:relative;background:#fff;display:inline-block;box-shadow:0 0 2px rgba(0,0,0,.2)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview{max-height:100%;overflow-y:auto;min-width:100px;text-align:right;border:none;background:#fff;display:block;width:100%;height:100%}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{width:100vw;border:none;position:relative}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview #blank-slide,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder #preview iframe{height:100%;width:100%;min-width:100px;border:none;-webkit-box-flex:1;flex:1}.fl-project-editor .row.editor #story .editor-core .preview-holder .loading-spinner,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .loading-spinner{position:absolute;left:50%;top:50%;width:27px;height:27px;opacity:0;pointer-events:none;z-index:5;margin-top:-13.5px;margin-left:-13.5px}.fl-project-editor .row.editor #story .editor-core .preview-holder .unsupported-notice,.fl-project-editor .row.editor #visualisation .editor-core .preview-holder .unsupported-notice{position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f9f9f9;padding:20px;z-index:10}.fl-project-editor .row.editor #story .editor-core #resize-overlay,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}.fl-project-editor .row.editor #story .editor-core #resize-overlay.dragging,.fl-project-editor .row.editor #visualisation .editor-core #resize-overlay.dragging{display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{position:absolute;width:4px;bottom:0;top:0;right:0;margin-bottom:0;display:none;z-index:100;-webkit-transition:width .2s;transition:width .2s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle{cursor:ew-resize;position:absolute;width:4px;bottom:0;top:0;right:0;background:#eee;-webkit-transition:width .1s,background .1s;transition:width .1s,background .1s}.fl-project-editor .row.editor #story .editor-core #resize-handle-container #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container #resize-handle:after{display:block;content:"";position:absolute;top:0;bottom:0;left:-4px;background:transparent;right:0;width:auto}.fl-project-editor .row.editor #story .editor-core #resize-handle-container .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container .resize-handle-icon{position:absolute;right:3px;top:50%;margin-top:-15px;opacity:.8;pointer-events:none;-webkit-transition:right .1s;transition:right .1s;display:none}.fl-project-editor .row.editor #story .editor-core #resize-handle-container>i,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container>i{position:absolute;top:5px;left:5px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover{width:6px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle{width:6px;background:#ddd}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover #resize-handle:after{left:-10px}.fl-project-editor .row.editor #story .editor-core #resize-handle-container:hover .resize-handle-icon,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container:hover .resize-handle-icon{right:2px;display:block}.fl-project-editor .row.editor #story .editor-core #resize-handle-container.dragging #resize-handle:after,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container.dragging #resize-handle:after{left:-200px;right:0}@media(min-width:770px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0}.fl-project-editor .row.editor #story .editor-core #resize-handle-container,.fl-project-editor .row.editor #visualisation .editor-core #resize-handle-container{display:block}}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core,.fl-project-editor .row.editor #visualisation .editor-core{padding:0 10px 0 0}}.fl-project-editor .row.editor #visualisation{padding:10px 0 0}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{-webkit-transform-origin:left top;transform-origin:left top}.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview.mini-preview{z-index:1000;opacity:1;box-shadow:none;-webkit-animation:fadeIn .5s;animation:fadeIn .5s;overflow:hidden;pointer-events:none}@-webkit-keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}1%{opacity:0}to{opacity:1}}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core .preview-holder iframe#preview{width:100%}}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview iframe{height:calc(100% - 64px)}.fl-project-editor .row.editor #story .editor-core .preview-holder #preview.nav-style-none iframe{height:100%}@media(min-width:820px){.fl-project-editor .row.editor #story .editor-core{max-width:calc(100% - 220px);margin-left:220px;min-height:calc(100vh - 94px)}}.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile #visualisation .editor-core .preview-holder iframe{width:320px}.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.mobile.landscape #visualisation .editor-core .preview-holder iframe{width:500px}.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet #visualisation .editor-core .preview-holder iframe{width:768px}.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #story .editor-core .preview-holder iframe,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder,.fl-project-editor .row.editor.tablet.landscape #visualisation .editor-core .preview-holder iframe{width:1024px}@media(min-width:820px){.fl-project-editor .row.editor #visualisation .editor-core{max-width:calc(100% - 350px)}}.fl-project-editor .project-header{padding:0 10px;position:absolute;top:2px;left:48px;right:0;width:auto}@media(min-width:420px){.fl-project-editor .project-header{left:60px}.fl-project-editor .project-header:after{clear:both;display:block;content:""}}@media(min-width:620px){.fl-project-editor .project-header{height:60px;z-index:110}}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{text-align:left;margin:-1px 0 0 3px;height:auto;line-height:1em;display:inline-block;border-radius:3px;vertical-align:top}@media(min-width:420px){.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .blueprint-tag,.fl-project-editor .project-header .read-only{font-size:11px;padding:2px 3px 1px}}.fl-project-editor .project-header #visibility-status{cursor:pointer}.fl-project-editor .project-header #visibility-status:hover{color:#333}.fl-project-editor .project-header #visibility-status,.fl-project-editor .project-header .read-only{color:#aaa;font-weight:400;padding:1px 3px 2px;background:#eee}.fl-project-editor .project-header #visibility-status.public,.fl-project-editor .project-header .read-only.public{background:#ffdc98;color:#000}.fl-project-editor .project-header #visibility-status.public:hover,.fl-project-editor .project-header .read-only.public:hover{background:#eec26d;color:#000}.fl-project-editor .project-header .blueprint-tag{font-size:9px;font-weight:700;background:#2886b2;color:#fff;text-transform:uppercase;padding:1px 5px 2px;cursor:default}.fl-project-editor .project-header .project-settings{margin-left:10px;font-size:14px;font-weight:400;line-height:0;vertical-align:top;margin-bottom:-3px;display:inline-block;margin-top:-2px;z-index:110;height:auto}.fl-project-editor .project-header .project-settings .dropdown-head{padding-right:5px;padding-left:5px;padding-bottom:10px;font-size:16px}.fl-project-editor .project-header .project-settings .dropdown-list{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header .project-settings{top:0;margin-top:-4px;padding-top:19px}}@media(min-width:620px){.fl-project-editor .project-header .project-settings{padding-top:18px}}.fl-project-editor .project-header .has-name+.project-settings{margin-left:0}.fl-project-editor .project-header .name{position:relative;vertical-align:top;font-weight:400;font-style:italic;height:23px;margin-left:0;width:auto;display:inline-block;font-size:16px;z-index:110;margin-top:3px}@media(min-width:420px){.fl-project-editor .project-header .name{margin-top:5px;height:26px}}@media(min-width:620px){.fl-project-editor .project-header .name{font-size:18px}}@media(min-width:820px){.fl-project-editor .project-header .name{font-size:18px}}.fl-project-editor .project-header .name input{font-size:1em;font-size:inherit;border:none;border-bottom:1px solid #ccc;border-radius:0;background:#fff;font-style:italic;padding:0;display:inline-block;color:#aaa;position:absolute;left:0;top:0;box-sizing:content-box;outline:none;height:23px}@media(min-width:420px){.fl-project-editor .project-header .name input{height:26px}}.fl-project-editor .project-header .name .name-width-setter{font-size:inherit;padding:0;display:inline-block;opacity:0;pointer-events:none;max-width:140px;min-width:40px;white-space:pre}@media(min-width:420px){.fl-project-editor .project-header .name .name-width-setter{max-width:240px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-width-setter{max-width:340px}}.fl-project-editor .project-header .name.not-editable input{border-color:transparent;color:#333;top:0;background:transparent;font-style:normal}.fl-project-editor .project-header .name.has-name .name-width-setter,.fl-project-editor .project-header .name.has-name input{font-style:normal;background:none}.fl-project-editor .project-header .name.has-name input{color:#333;border-color:#ccc;top:0;font-style:normal}.fl-project-editor .project-header .name.has-name .name-overlay{display:block;top:0}.fl-project-editor .project-header .name .name-overlay{display:none;content:"";position:absolute;left:125px;top:0;width:20px;height:100%;background:-webkit-gradient(linear,left top,right top,from(hsla(0,0%,100%,0)),color-stop(80%,#fff));background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,#fff 80%)}@media(min-width:420px){.fl-project-editor .project-header .name .name-overlay{left:225px}}@media(min-width:620px){.fl-project-editor .project-header .name .name-overlay{left:325px}}@media(min-width:820px){.fl-project-editor .project-header .name .name-overlay{left:325px}}.fl-project-editor .project-header .project-author{color:#aaa;font-weight:400;top:30px;font-size:11px;line-height:1em;position:absolute}@media(min-width:420px){.fl-project-editor .project-header .project-author{top:38px;font-size:12px}}@media(min-width:820px){.fl-project-editor .project-header .project-author{font-size:12px}}.fl-project-editor .project-header .project-author+.dropdown .dropdown-head{display:inline-block}.fl-project-editor .project-header .project-author+.dropdown .badge{top:-14px}.fl-project-editor .project-header .project-author+.dropdown .dropdown-list .badge{position:absolute;right:10px;top:12px;pointer-events:none}.fl-project-editor .project-header #export-btn-group{float:right;margin-bottom:0;margin-right:0;margin-top:9px}.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px;padding:0;text-align:center}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:none}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:0}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{width:30px;height:30px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group #story-btn,.fl-project-editor .project-header #export-btn-group .export-btn{padding:0 8px;height:36px;width:auto}.fl-project-editor .project-header #export-btn-group #story-btn span,.fl-project-editor .project-header #export-btn-group .export-btn span{display:inline}.fl-project-editor .project-header #export-btn-group #story-btn i,.fl-project-editor .project-header #export-btn-group .export-btn i{margin-right:3px}}.fl-project-editor .project-header #export-btn-group #create-btn{height:36px;line-height:34px}.visualisation-editor.no-template .fl-project-editor .project-header #export-btn-group{display:none}.fl-project-editor .project-header #export-btn-group #story-btn-form{display:inline-block}.fl-project-editor .project-header #export-btn-group #story-btn{border:1px solid #ddd;background-color:#eee;color:#333;font-family:Source Sans Pro;margin-right:8px;overflow:visible}@media(min-width:420px){.fl-project-editor .project-header #export-btn-group{margin-top:15px}}@media(min-width:820px){.fl-project-editor .project-header #export-btn-group{margin-top:12px}}.fl-project-editor .row.editor-bar{background:#e3e3e3;height:30px;font-size:12px;padding:0 10px}.fl-project-editor .row.editor-bar #visualisation-tabs{z-index:110;width:calc(100% - 120px);margin-left:60px;text-align:center}.fl-project-editor .row.editor-bar #visualisation-tabs button{font-size:12px;line-height:1em}.fl-project-editor .row.editor-bar #visualisation-tabs button i{margin-right:3px;font-size:11px}.fl-project-editor .row.editor-bar #visibility-status,.fl-project-editor .row.editor-bar .read-only{display:inline-block;float:left;font-weight:700;color:#aaa;margin-top:7px}.fl-project-editor .row.editor-bar .confirm-saved{float:right;margin-top:8px;margin-left:0;width:60px}@media(min-width:820px){.fl-project-editor .row.editor-bar #visualisation-tabs{width:calc(100% - 380px);margin-left:0}}.fl-project-editor .tab-data .tab-preview{position:fixed;z-index:2}.fl-project-editor .tab-data #preview-menu{opacity:0;pointer-events:none}.fl-project-editor .side-panel{text-align:left;position:relative;background:#f9f9f9;line-height:1.1;margin-left:0;padding:10px 0 1px;width:100%}.fl-project-editor .side-panel.closed{margin-left:-300px}.fl-project-editor .side-panel .side-panel-inner{margin-bottom:87px;background:#fff}@media(min-width:820px){.fl-project-editor .side-panel .side-panel-inner{border:none;background:transparent}}.fl-project-editor .side-panel .side-panel-close{position:absolute;top:15px;right:10px;font-size:1.25em;width:1.5em;height:1.5em;padding:.1em;text-align:center;border:1px solid rgba(0,0,0,.4);border-radius:3px;background:#eaeaea;-webkit-transition:right .5s ease;transition:right .5s ease;z-index:1}.fl-project-editor .side-panel .side-panel-close.opener{right:calc(-1.5em + 1px);border-bottom-left-radius:0;border-top-left-radius:0}.fl-project-editor .side-panel .side-panel-close:hover{opacity:1}.fl-project-editor .side-panel .side-panel-close:hover i{opacity:.7}.fl-project-editor .side-panel#slides-panel{height:100%;padding:0;background:#fff;margin-top:20px}.fl-project-editor .side-panel#slides-panel .side-panel-scrollbox{padding:0 15px 10px}@media(min-width:820px){.fl-project-editor .side-panel#slides-panel{max-width:200px;right:auto;position:absolute;top:0;margin-top:0;border-right:1px solid #ddd}}.fl-project-editor .side-panel .side-panel-scrollbox{width:100%;height:100%;padding:10px 10px 20px;overflow-y:scroll}.fl-project-editor .side-panel .side-panel-scrollbox .side-panel-inner{width:100%}@media(min-width:1220px){.fl-project-editor .side-panel .side-panel-scrollbox{padding:20px}}.fl-project-editor .side-panel h1{margin:1em 0 .5em;font-size:.9em;opacity:.5;cursor:default}.fl-project-editor .side-panel h2{font-size:13px;letter-spacing:0;font-weight:500;margin:0 0 .6em;position:relative;color:#333;word-wrap:break-word}.fl-project-editor .side-panel .toplevel-settings-block{padding:0 5px 20px}.fl-project-editor .side-panel .toplevel-settings-block .settings-option{display:inline-block}.fl-project-editor .side-panel .toplevel-settings-block .settings-option:first-child{margin-top:9px}.fl-project-editor .side-panel .settings-divider{margin:1rem -10px 0;clear:both;width:calc(100% + 20px);height:1px;background:#eee}.fl-project-editor .side-panel .settings-subhead{text-transform:uppercase;font-size:.7rem;font-weight:700;color:#999;padding:.5rem 5px .25rem;margin:0;width:100%}.fl-project-editor .side-panel .settings-block{margin:0;display:inline-block;width:100%;background-color:#fff;padding:0 10px;min-height:24px}.fl-project-editor .side-panel .settings-block h2{margin:0 -10px;font-size:.8rem;padding:.75em 30px;font-weight:700;background-color:#f5f5f5;border-top:1px solid #ddd;cursor:pointer;color:#535e65}.fl-project-editor .side-panel .settings-block h2:focus{outline:none}.fl-project-editor .side-panel .settings-block h2:focus,.fl-project-editor .side-panel .settings-block h2:hover{background:#e8e8e8}.fl-project-editor .side-panel .settings-block h2:after{content:"";width:.6rem;height:.8rem;position:absolute;left:15px;background-repeat:no-repeat;background-position:50%;background-image:url(data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgZGF0YS1wcmVmaXg9ImZhcyIgZGF0YS1pY29uPSJjYXJldC1yaWdodCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTkyIDUxMiIgY2xhc3M9InN2Zy1pbmxpbmUtLWZhIGZhLWNhcmV0LXJpZ2h0IGZhLXctNiBmYS0zeCI+PHBhdGggZmlsbD0iIzUzNWU2NSIgZD0iTTAgMzg0LjY2MlYxMjcuMzM4YzAtMTcuODE4IDIxLjU0My0yNi43NDEgMzQuMTQyLTE0LjE0MmwxMjguNjYyIDEyOC42NjJjNy44MSA3LjgxIDcuODEgMjAuNDc0IDAgMjguMjg0TDM0LjE0MiAzOTguODA0QzIxLjU0MyA0MTEuNDA0IDAgNDAyLjQ4IDAgMzg0LjY2MnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .settings-block .settings-divider,.fl-project-editor .side-panel .settings-block .settings-option,.fl-project-editor .side-panel .settings-block .settings-subhead{display:none}.fl-project-editor .side-panel .settings-block input::-webkit-contacts-auto-fill-button{visibility:hidden;display:none!important;pointer-events:none;position:absolute;right:0}.fl-project-editor .side-panel .settings-block.open{padding-bottom:1rem}.fl-project-editor .side-panel .settings-block.open h2:after{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fl-project-editor .side-panel .settings-block.open .settings-option{display:inline-block}.fl-project-editor .side-panel .settings-block.open .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker{vertical-align:top;line-height:0;position:relative}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker:hover:not(.is-null) .cancel-setting{-webkit-transform:translateX(27px);transform:translateX(27px)}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker.is-null .color-wrapper input{opacity:0}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting{width:30px;border:1px solid #ddd;background:#fff;position:absolute;padding:0;height:30px;vertical-align:top;left:0;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting svg{margin-left:2px;width:8px;height:8px;pointer-events:none;-webkit-transition:opacity .2s;transition:opacity .2s}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:focus{border:1px solid #ddd}.fl-project-editor .side-panel .settings-block.open .settings-option.option-type-color.width-quarter .color-picker .cancel-setting:hover svg{opacity:.4}.fl-project-editor .side-panel .settings-block.open .settings-divider,.fl-project-editor .side-panel .settings-block.open .settings-subhead{display:block}.fl-project-editor .side-panel .settings-block.open h2+.settings-divider{background:transparent;margin-top:.25rem}.fl-project-editor .side-panel .settings-block.hidden{display:none}.fl-project-editor .side-panel h3{font-size:.8rem;line-height:1.2em;font-weight:400;margin-top:0;margin-bottom:3px;color:#333;display:inline-block;cursor:default;overflow:hidden;vertical-align:top;background:#fff;text-overflow:ellipsis}.fl-project-editor .side-panel p{font-size:12px;margin-top:0;font-weight:300}.fl-project-editor .side-panel .settings-option{position:relative;margin-top:.75rem;display:none;vertical-align:bottom;width:100%;padding:0 5px}.fl-project-editor .side-panel .settings-option label{font-size:13px;display:inline-block;vertical-align:top;width:100%}.fl-project-editor .side-panel .settings-option label .help-tip{margin-left:3px;color:#d0d0d0;font-style:normal}.fl-project-editor .side-panel .settings-option label .help-tip:hover{color:#aaa}.fl-project-editor .side-panel .settings-option label:hover{z-index:2;position:relative}.fl-project-editor .side-panel .settings-option label:hover h3{padding-right:1px}.fl-project-editor .side-panel .settings-option button,.fl-project-editor .side-panel .settings-option input,.fl-project-editor .side-panel .settings-option select,.fl-project-editor .side-panel .settings-option textarea{border-radius:3px;border:1px solid #ddd;padding:.2em .1em .2em .3em;min-height:30px;font-size:13px;display:block;outline:none;-webkit-transition:border .2s linear;transition:border .2s linear;max-width:100%}.fl-project-editor .side-panel .settings-option button:focus,.fl-project-editor .side-panel .settings-option input:focus,.fl-project-editor .side-panel .settings-option select:focus,.fl-project-editor .side-panel .settings-option textarea:focus{border:1px solid #777}.fl-project-editor .side-panel .settings-option ::-webkit-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option :-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option ::-ms-input-placeholder{color:#ddd}.fl-project-editor .side-panel .settings-option .autocomplete .dropdown-list .dropdown-item{font-size:13px;padding:10px 10px 10px 6px}.fl-project-editor .side-panel .settings-option .color-wrapper{width:30px;height:30px;overflow:hidden;border-radius:3px;position:relative;display:inline-block;background-color:#fff}.fl-project-editor .side-panel .settings-option .color-wrapper input{-webkit-transform:scale(10);transform:scale(10);position:absolute}.fl-project-editor .side-panel .settings-option .color-wrapper:before{display:block;position:absolute;content:"";top:0;bottom:-10px;left:0;width:1px;pointer-events:none;background:rgba(0,0,0,.1);-webkit-transform-origin:top;transform-origin:top;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.fl-project-editor .side-panel .settings-option .color-wrapper:after{display:block;position:absolute;content:"";border:1px solid rgba(0,0,0,.1);left:0;right:0;top:0;bottom:0;pointer-events:none}.fl-project-editor .side-panel .settings-option .color-wrapper:invalid{box-shadow:none}.fl-project-editor .side-panel .settings-option .single-button{background:#eee;color:#333;width:100%;border:none;padding:0;cursor:pointer;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .single-button:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .single-button:focus{border:none}.fl-project-editor .side-panel .settings-option .buttons-container{display:-webkit-box;display:flex}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]{width:0;height:0;opacity:0;margin:0;display:inline-block;display:none}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label{font-size:13px;background:#eee;color:#333;display:inline-block;height:30px;cursor:pointer;text-align:center;padding-top:8px;border-right:1px solid #fff;border-bottom:1px solid #fff;background-size:cover;background-position:50% 50%;-webkit-transition:background-color .2s linear;transition:background-color .2s linear}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label i{color:#555}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]+label img{margin-top:-8px}.fl-project-editor .side-panel .settings-option .buttons-container.large input[type=radio]+label{height:60px}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:not([disabled])+label:hover{background-color:#e0e0e0}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:disabled+label{cursor:default}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label{background-color:#ccdee6;cursor:default;position:relative}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:hover{background-color:#ccdee6}.fl-project-editor .side-panel .settings-option .buttons-container input[type=radio]:checked+label:after{width:100%;height:2px;background:#2886b2;bottom:0;position:absolute;content:"";left:0}.fl-project-editor .side-panel .settings-option input[data-autocomplete]+.fa{position:absolute;right:10px;margin-top:-21px;font-size:12px;pointer-events:none}.fl-project-editor .side-panel .settings-option select{width:100%;height:30px}.fl-project-editor .side-panel .settings-option.option-type-color input{padding:0;background:#fff}.fl-project-editor .side-panel .settings-option.option-type-color,.fl-project-editor .side-panel .settings-option.option-type-number,.fl-project-editor .side-panel .settings-option.option-type-rows{width:50%}.fl-project-editor .side-panel .settings-option.option-type-color.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-number.width-quarter input,.fl-project-editor .side-panel .settings-option.option-type-rows.width-quarter input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-color input,.fl-project-editor .side-panel .settings-option.option-type-number input,.fl-project-editor .side-panel .settings-option.option-type-rows input{width:calc((100% - 10px)/2);min-width:40px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons).settings-buttons>label{height:auto}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input{display:none}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons)>label:first-child{position:absolute;padding-left:37px;padding-top:7px;width:auto;right:5px;left:5px}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider{position:relative;cursor:pointer;width:33px;height:30px;background:transparent;padding-left:0;padding-top:0}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:hover:after{border-color:#bbb}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:before{position:absolute;content:"";height:12px;width:33px;top:9px;left:0;border-radius:6px;background-color:#ddd;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) .slider:after{position:absolute;content:"";height:24px;width:24px;left:0;bottom:3px;border-radius:50%;background-color:#fff;border:1px solid #ddd;box-sizing:border-box;-webkit-transition:.1s;transition:.1s}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:before{background:#ccdee6}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:after{left:9px;background:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-boolean:not(.settings-buttons) input:checked+.slider:hover:after{background-color:#2886b2;border-color:#2886b2}.fl-project-editor .side-panel .settings-option.option-type-code textarea,.fl-project-editor .side-panel .settings-option.option-type-string input,.fl-project-editor .side-panel .settings-option.option-type-text textarea,.fl-project-editor .side-panel .settings-option.option-type-url input{width:100%}.fl-project-editor .side-panel .settings-option.option-type-code textarea.size-large,.fl-project-editor .side-panel .settings-option.option-type-text textarea.size-large{height:50vh}.fl-project-editor .side-panel .settings-option.option-type-code label{width:calc(100% - 18px)}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control{font-size:.7em;color:#999;-webkit-transform:scaleY(-1);transform:scaleY(-1);margin-bottom:.3em;display:inline-block;vertical-align:bottom;-webkit-transition:-webkit-transform .1s ease;transition:-webkit-transform .1s ease;transition:transform .1s ease;transition:transform .1s ease,-webkit-transform .1s ease}.fl-project-editor .side-panel .settings-option.option-type-code .wrap-control.selected{-webkit-transform:scale(-1);transform:scale(-1);cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-code textarea{font-family:monospace;font-size:13px}.fl-project-editor .side-panel .settings-option.option-type-font input.font-menu{width:100%;outline:none}.fl-project-editor .side-panel .settings-option.option-type-colors input{width:100%;margin:0;z-index:1;cursor:pointer}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{display:-webkit-box;display:flex;-webkit-box-align:stretch;align-items:stretch;min-height:30px;overflow:hidden}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches em,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item em{font-style:normal;color:#777;display:block;padding:8px;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span,.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{display:inline-block;height:30px;-webkit-box-flex:1;flex:1}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches span:nth-child(n+13):nth-child(-n+99),.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span:nth-child(n+13):nth-child(-n+99){display:none}.fl-project-editor .side-panel .settings-option.option-type-colors .color-swatches{padding:0;position:absolute;left:4px;right:26px;z-index:0;pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item{padding:2px 0!important;width:100%}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item label{position:absolute;top:6px;left:8px;color:hsla(0,0%,98%,.9);pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors .dropdown-item span{pointer-events:none}.fl-project-editor .side-panel .settings-option.option-type-colors.custom input{opacity:0}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches{-webkit-box-align:start;align-items:flex-start}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span{max-width:28px;pointer-events:auto;-webkit-transition:-webkit-transform .1s;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span:hover{-webkit-transform:scale(1.2);transform:scale(1.2)}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa{font-size:24px;color:#ccc;margin-left:4px}.fl-project-editor .side-panel .settings-option.option-type-colors.custom .color-swatches span.fa:before{position:relative;top:2px}.fl-project-editor .side-panel .settings-option.hidden{display:none}.fl-project-editor .side-panel .settings-option.width-full{width:100%!important}.fl-project-editor .side-panel .settings-option.width-half{width:50%!important}.fl-project-editor .side-panel .settings-option.width-quarter{width:25%!important}.fl-project-editor .side-panel .settings-option.width-three-quarters{width:75%!important}.fl-project-editor .side-panel .settings-option .description-link{cursor:pointer;color:#dd4141}.fl-project-editor .side-panel .detailed-settings h2{margin-bottom:.75rem}.fl-project-editor .side-panel .detailed-settings h2:after{content:""}.fl-project-editor .side-panel .palette{max-height:calc(100vh - 210px);overflow-y:auto;padding:1px}.fl-project-editor .side-panel .palette .swatch-color,.fl-project-editor .side-panel .palette button,.fl-project-editor .side-panel .palette input[type=color]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;display:inline-block;width:28px;height:28px;padding:0;margin:1px;border:none;outline:none;background:transparent}.fl-project-editor .side-panel .palette .swatch-color.fa-plus-square:before,.fl-project-editor .side-panel .palette button.fa-plus-square:before,.fl-project-editor .side-panel .palette input[type=color].fa-plus-square:before{font-size:32px;color:#ddd;margin-left:1px}.fl-project-editor .side-panel .palette .swatch-color.fa-times,.fl-project-editor .side-panel .palette button.fa-times,.fl-project-editor .side-panel .palette input[type=color].fa-times{position:absolute;right:0;opacity:0;color:#aaa}.fl-project-editor .side-panel .palette .swatch-color.fa-times:hover,.fl-project-editor .side-panel .palette button.fa-times:hover,.fl-project-editor .side-panel .palette input[type=color].fa-times:hover{color:#888}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette button::-webkit-color-swatch-wrapper,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch-wrapper{padding:0}.fl-project-editor .side-panel .palette .swatch-color::-webkit-color-swatch,.fl-project-editor .side-panel .palette button::-webkit-color-swatch,.fl-project-editor .side-panel .palette input[type=color]::-webkit-color-swatch{border:none}.fl-project-editor .side-panel .palette [draggable]{cursor:move;cursor:grab;cursor:-webkit-grab}.fl-project-editor .side-panel .palette [draggable]:active{cursor:grabbing;cursor:-webkit-grabbing}.fl-project-editor .side-panel .palette .swatch-handle{display:block;width:15px;height:28px;color:#ddd;position:absolute;left:1px;top:7px;text-align:center;font-size:18px;font-weight:700;line-height:5.5px;pointer-events:none}.fl-project-editor .side-panel .palette input[type=text]{width:120px;width:calc(100% - 52px);background:transparent;padding:5px 8px;border-width:0;margin:0}.fl-project-editor .side-panel .palette p{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin:0;padding:5px 5px 5px 20px;border-bottom:1px solid #eee}.fl-project-editor .side-panel .palette p:first-child{border-top:1px solid #eee}.fl-project-editor .side-panel .palette p:hover button.fa-times{opacity:.5}.fl-project-editor .side-panel .palette p:hover [draggable]:before{opacity:1}.fl-project-editor .side-panel .side-panel-top{border-top:none;border-bottom:1px solid rgba(0,0,0,.1);margin-top:0;padding:17px 10px 20px;font-size:1em}.fl-project-editor .side-panel .side-panel-top.shadow{box-shadow:3px 3px 5px rgba(0,0,0,.1)}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .side-panel-icon-btn{color:#fff;background:#9a9a9a;padding:7px 0 0;border-radius:9999px;width:30px;height:30px;text-align:center;margin:0}.fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .4em;height:1em;border-left:1px solid rgba(0,0,0,.25);display:inline-block;vertical-align:middle}#story .fl-project-editor .side-panel .side-panel-top .side-panel-top-menu .separator{margin:0 .25em}.fl-project-editor .side-panel .current-template{margin:0;opacity:0;-webkit-transition:opacity .2s;transition:opacity .2s;position:relative;padding:10px 10px 0;min-height:56px;border-bottom:1px solid #ddd}.fl-project-editor .side-panel .current-template h1{padding-right:76px;opacity:1;font-size:12px;font-weight:400;min-height:36px;margin:0;padding-top:3px}.fl-project-editor .side-panel .current-template h1>span{display:block;font-weight:700;font-size:16px}.fl-project-editor .side-panel .current-template h3{margin-top:.7em}.fl-project-editor .side-panel .current-template h3 i{margin-left:.2em;color:rgba(0,0,0,.5)}.fl-project-editor .side-panel .current-template .current-template-title{position:relative}.fl-project-editor .side-panel .current-template .current-template-title .current-template-version{margin-left:4px;font-size:12px}.fl-project-editor .side-panel .current-template .current-template-thumbnail{position:absolute;right:-10px;top:-10px;width:76px;height:calc(100% + 19px);background-size:cover;background-position:50%;background-repeat:no-repeat}.fl-project-editor .side-panel .current-template .current-template-thumbnail:after{width:20px;height:100%;position:absolute;left:0;right:0;background:-webkit-gradient(linear,left top,right top,from(#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0));content:"";display:block}.fl-project-editor .side-panel .template-theme button#reset-to-theme:disabled{color:#d3d3d3}@media (min-width:620px) and (max-width:819px){.fl-project-editor .side-panel .side-panel-inner{max-width:500px;margin:20px auto}}@media(min-width:820px){.fl-project-editor .side-panel{max-width:size(3.5);position:fixed;right:0;top:93px;background:#fff;overflow-y:auto;height:calc(100vh - 93px);border-left:1px solid #ddd}.fl-project-editor .side-panel .current-template{padding-top:0;min-height:46px}}.fl-project-editor .tab-preview #visualisation .editor-core{overflow:visible!important}.fl-project-editor .tab-preview.active #visualisation .editor-core{overflow:auto!important}.fl-project-editor body.full-screen .row.editor #story,.fl-project-editor body.full-screen .row.editor #visualisation{position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important}.fl-project-editor body.full-screen .row.editor #story .editor-core #preview,.fl-project-editor body.full-screen .row.editor #visualisation .editor-core #preview{width:100%!important}.fl-project-editor body.full-screen .row.editor #story #exit-full-screen,.fl-project-editor body.full-screen .row.editor #visualisation #exit-full-screen{display:block}.fl-project-editor body.loading .loading-spinner{opacity:1!important;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-transform-origin:center center;transform-origin:center center}.fl-project-editor body.loading .content{min-height:100vh}.fl-project-editor body.loading .preview-holder{pointer-events:none;background-color:#f3f3f3}.fl-project-editor body.loading .preview-holder #preview{background:transparent!important}.fl-project-editor body.loading .preview-holder iframe{opacity:.1}.fl-project-editor body.loading #blank-slide,.fl-project-editor body.loading .row.data{opacity:0;pointer-events:none}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor #private-publishing{display:inline-block;padding-right:15px;margin-top:10px;width:100%}.fl-project-editor #private-publishing+input{width:100%;padding:5px}.fl-project-editor #private-publishing+input.hidden{display:none}.fl-project-editor #private-publishing+input.error{border-color:#dd4141}.fl-project-editor #private-publishing.upgrade-btn{width:auto;color:#999}.fl-project-editor #private-publishing.upgrade-btn:after{top:4px}.fl-annotations-source-element{position:absolute;left:-3rem;width:3rem;height:3rem;z-index:9999;background:#333;background-position:50%;background-size:40%;background-repeat:no-repeat;border:none;border-radius:100% 0 0 100%;top:.25rem;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg data-prefix=\'fas\' data-icon=\'pencil-alt\' xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 512 512\'%3E%3Cpath fill=\'%23fff\' d=\'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z\'/%3E%3C/svg%3E")}.fl-annotations-add-element,.fl-annotations-source-element{cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;pointer-events:all}.fl-annotations-add-element{display:block;border:none;margin:1rem;border-radius:2rem;color:#fff;font-weight:700;text-align:center;padding-left:1.5rem;padding-right:0;font-size:1rem;height:2.5rem;line-height:2.5rem;background:#333;background-position:.5rem;background-size:1.5rem;background-repeat:no-repeat;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 36 36\'%3E%3Cstyle%3E.fl-annotations-cursor rect{fill:%23fff}%3C/style%3E%3Cg xmlns=\'http://www.w3.org/2000/svg\' class=\'fl-annotations-cursor\' transform=\'translate(18 18)\'%3E%3Ccircle r=\'16\' style=\'transition:stroke .25s\' fill=\'none\' stroke=\'%23fff\' stroke-width=\'2\' stroke-dasharray=\'4,4\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-1-6h2V6h-2z\'/%3E%3Cpath fill=\'%23FFF\' d=\'M-6-1H6v2H-6z\'/%3E%3C/g%3E%3C/svg%3E")}.fl-annotations .fl-annotations-node{pointer-events:none}.fl-annotations .fl-annotations-node.fl-connector-popup,.fl-annotations.is-editing .fl-annotations-node{pointer-events:all}.fl-annotations .fl-annotations-node.fl-marker text,.fl-annotations .fl-annotations-node.fl-point text{fill:#fff;text-anchor:middle;dominant-baseline:middle;alignment-baseline:middle;font-size:.8rem;font-weight:800}.fl-annotations .fl-annotations-node.fl-marker.selected circle{fill:#333}.fl-annotations .fl-notch{fill:none;stroke-dasharray:4,4;pointer-events:none}.fl-annotations.is-editing .fl-notch{pointer-events:all}.fl-annotations .fl-annotations-node .fl-connector,.fl-annotations .fl-annotations-node text,.fl-annotations.is-editing.is-dragging .fl-notch{pointer-events:none}.fl-annotations .fl-annotations-inline a,.fl-annotations.is-editing .fl-annotations-inline{pointer-events:all}.fl-annotations .fl-annotations-cursor{visibility:hidden;pointer-events:none}.fl-annotations.is-edit-add .fl-annotations-cursor{visibility:visible}.fl-annotations .fl-annotations-cursor circle{fill:none;stroke:#eee;stroke-width:2px;stroke-dasharray:4,4;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid circle{stroke:#333;-webkit-animation:cursorRotate 5s linear 0s infinite normal;animation:cursorRotate 5s linear 0s infinite normal}.fl-annotations .fl-annotations-cursor line{stroke:#eee;stroke-width:2px;-webkit-transition:stroke .25s;transition:stroke .25s}.fl-annotations .fl-annotations-cursor.is-valid line{stroke:#333}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle{stroke-dasharray:6,2;stroke-dashoffset:1}.fl-annotations .fl-annotations-cursor.inner-outline circle,.fl-annotations .fl-annotations-cursor.inner-outline line,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline circle,.fl-annotations .fl-annotations-cursor.is-valid.inner-outline line{stroke:#fff;stroke-width:4px}@-webkit-keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes cursorRotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fl-project-editor .fl-annotation-list{list-style-type:none;margin:0;padding:1rem;border-bottom:1px solid #eee}.fl-project-editor .fl-annotation-list:empty{padding:0}.fl-annotation-list-wrap{background:#fff;margin:0;font-size:.8rem;max-height:10rem;overflow:auto;position:relative;box-shadow:inset 0 -10px 10px -10px rgba(0,0,0,.25);-webkit-transition:box-shadow .5s;transition:box-shadow .5s}.fl-annotation-list-wrap.scroll-end{box-shadow:inset 0 -10px 10px -10px transparent}.fl-project-editor .fl-annotation-list>li{display:-webkit-box;display:flex;position:relative;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;list-style-type:none;line-height:1.35rem;color:#b1b1b1;cursor:pointer}.fl-project-editor .fl-annotation-list .drop-overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:10;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;display:none}.fl-project-editor .fl-annotation-list.dragging .drop-overlay{display:-webkit-box;display:flex}.fl-project-editor .fl-annotation-list .drop-above,.fl-project-editor .fl-annotation-list .drop-below{-webkit-box-flex:1;flex-grow:1}.fl-project-editor .fl-annotation-list .drop-above{border-top:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-below{border-bottom:1px solid #fff}.fl-project-editor .fl-annotation-list .drop-above.dropping{border-top:1px solid #666}.fl-project-editor .fl-annotation-list .drop-below.dropping{border-bottom:1px solid #666}.fl-project-editor .fl-annotation-list>li .text{display:block;overflow:hidden;text-overflow:ellipsis;-webkit-box-flex:1;flex-grow:1;white-space:nowrap}.fl-project-editor .fl-annotation-list>li .icon{display:none;margin-left:.5rem;color:#333;opacity:0;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected .icon,.fl-project-editor .fl-annotation-list>li:hover .icon{display:inline-block;margin-left:.5rem;opacity:.5}.fl-project-editor .fl-annotation-list>li .icon:hover{opacity:1}.fl-project-editor .fl-annotation-list>li:hover{color:#000}.fl-project-editor .fl-annotation-list>li:before{content:"";width:.75rem;height:.75rem;display:inline-block;background:#b1b1b1;vertical-align:middle;margin-right:.5rem;border-radius:100%;flex-shrink:0}.fl-project-editor .fl-annotation-list>li.selected{cursor:default}.fl-project-editor .fl-annotation-list>li.selected:before{background:#333}.fl-project-editor .fl-annotation-list>li.selected .text{color:#333}.fl-annotation-list li.drag-over{background:red}.icon-pencil{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguNjYgNC4wODZMOS43NTYgMi45OUEuODA5LjgwOSAwIDAwMTAgMi4zOTZhLjg0NS44NDUgMCAwMC0uMjQ0LS42TDguMjA1LjI1QS44Mi44MiAwIDAwNy42MDQgMGEuNzg0Ljc4NCAwIDAwLS41OTQuMjVMNS45MTQgMS4zNCA4LjY2IDQuMDg2ek0yLjc0NiAxMGw1LjQ5Mi01LjQ5Mi0yLjc0Ni0yLjc0NkwwIDcuMjU0VjEwaDIuNzQ2em0tLjYzNC0zLjIzNGMtLjA5NyAwLS4xNDUtLjA0OS0uMTQ1LS4xNDYgMC0uMDQ0LjAxNS0uMDguMDQ2LS4xMTJsMy41NzgtMy41NzdhLjE1My4xNTMgMCAwMS4xMTItLjA0N2MuMDk3IDAgLjE0NS4wNDkuMTQ1LjE0NmEuMTUzLjE1MyAwIDAxLS4wNDYuMTEyTDIuMjI0IDYuNzE5YS4xNTMuMTUzIDAgMDEtLjExMi4wNDd6bS4yODQgMi4zOUgxLjY5VjguMzFILjg0NXYtLjcwNmwuNi0uNiAxLjU1MiAxLjU1LS42MDEuNjAxeiIgZmlsbD0iIzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9zdmc+")}.icon-clone{width:10px;height:10px;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg aria-hidden="true" data-prefix="fas" data-icon="clone" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-clone fa-w-16 fa-3x"><path fill="currentColor" d="M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z"/></svg>\')}.icon-trash{width:10px;height:10px;background-image:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEiIGhlaWdodD0iMTEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTguMjg2IDEwLjg1N2MuMjk0IDAgLjU0Ny0uMTM1Ljc1Ni0uNDA1LjIxLS4yNy4zMTUtLjU5LjMxNS0uOTZ2LTYuMzVIMTBjLjA2MyAwIC4xMTQtLjAyLjE1NC0uMDYuMDQtLjA0LjA2LS4wOS4wNi0uMTUzVjIuNWEuMjA5LjIwOSAwIDAwLS4wNi0uMTU0LjIwOS4yMDkgMCAwMC0uMTU0LS4wNkg3LjkzbC0uNDY4LTEuMTE5QS45MjguOTI4IDAgMDA3LjEuNzQ2Ljk0NS45NDUgMCAwMDYuNTcxLjU3SDQuNDNhLjk0NS45NDUgMCAwMC0uNTMuMTc1LjkyOC45MjggMCAwMC0uMzYxLjQyMWwtLjQ2OSAxLjExOUgxYS4yMDkuMjA5IDAgMDAtLjE1NC4wNi4yMDkuMjA5IDAgMDAtLjA2LjE1NHYuNDI5YzAgLjA2Mi4wMi4xMTMuMDYuMTU0LjA0LjA0LjA5Mi4wNi4xNTQuMDZoLjY0M3Y2LjM3NWMwIC4zNy4xMDUuNjg2LjMxNS45NDcuMjEuMjYyLjQ2Mi4zOTIuNzU2LjM5Mmg1LjU3MnpNNyAyLjI4Nkg0bC4zMjgtLjc4NGEuMTg5LjE4OSAwIDAxLjExNC0uMDczaDIuMTIzYS4xODkuMTg5IDAgMDEuMTE0LjA3M0w3IDIuMjg2ek00IDkuMTQzaC0uNDI5YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5Mi0uMDYuMTU0LS4wNkg0Yy4wNjMgMCAuMTE0LjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6bTEuNzE0IDBoLS40MjhhLjIwOS4yMDkgMCAwMS0uMTU0LS4wNi4yMDkuMjA5IDAgMDEtLjA2LS4xNTRWNC4yMTRjMC0uMDYyLjAyLS4xMTQuMDYtLjE1NC4wNC0uMDQuMDkxLS4wNi4xNTQtLjA2aC40MjhjLjA2MyAwIC4xMTQuMDIuMTU0LjA2LjA0LjA0LjA2LjA5Mi4wNi4xNTRWOC45M2MwIC4wNjItLjAyLjExMy0uMDYuMTU0YS4yMDkuMjA5IDAgMDEtLjE1NC4wNnptMS43MTUgMEg3YS4yMDkuMjA5IDAgMDEtLjE1NC0uMDYuMjA5LjIwOSAwIDAxLS4wNi0uMTU0VjQuMjE0YzAtLjA2Mi4wMi0uMTE0LjA2LS4xNTQuMDQtLjA0LjA5MS0uMDYuMTU0LS4wNmguNDI5Yy4wNjIgMCAuMTEzLjAyLjE1NC4wNi4wNC4wNC4wNi4wOTIuMDYuMTU0VjguOTNjMCAuMDYyLS4wMi4xMTMtLjA2LjE1NGEuMjA5LjIwOSAwIDAxLS4xNTQuMDZ6IiBmaWxsPSIjMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=")}.fl-project-editor .side-panel .help-tip{display:inline-block;position:relative;width:.7rem;height:.7rem;-webkit-transform:translateY(1px);transform:translateY(1px);opacity:.6;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBjbGFzcz0ic3ZnLWlubGluZS0tZmEgZmEtcXVlc3Rpb24tY2lyY2xlIGZhLXctMTYgZmEtM3giPjxwYXRoIGZpbGw9IiNhYWEiIGQ9Ik01MDQgMjU2YzAgMTM2Ljk5Ny0xMTEuMDQzIDI0OC0yNDggMjQ4UzggMzkyLjk5NyA4IDI1NkM4IDExOS4wODMgMTE5LjA0MyA4IDI1NiA4czI0OCAxMTEuMDgzIDI0OCAyNDh6TTI2Mi42NTUgOTBjLTU0LjQ5NyAwLTg5LjI1NSAyMi45NTctMTE2LjU0OSA2My43NTgtMy41MzYgNS4yODYtMi4zNTMgMTIuNDE1IDIuNzE1IDE2LjI1OGwzNC42OTkgMjYuMzFjNS4yMDUgMy45NDcgMTIuNjIxIDMuMDA4IDE2LjY2NS0yLjEyMiAxNy44NjQtMjIuNjU4IDMwLjExMy0zNS43OTcgNTcuMzAzLTM1Ljc5NyAyMC40MjkgMCA0NS42OTggMTMuMTQ4IDQ1LjY5OCAzMi45NTggMCAxNC45NzYtMTIuMzYzIDIyLjY2Ny0zMi41MzQgMzMuOTc2QzI0Ny4xMjggMjM4LjUyOCAyMTYgMjU0Ljk0MSAyMTYgMjk2djRjMCA2LjYyNyA1LjM3MyAxMiAxMiAxMmg1NmM2LjYyNyAwIDEyLTUuMzczIDEyLTEydi0xLjMzM2MwLTI4LjQ2MiA4My4xODYtMjkuNjQ3IDgzLjE4Ni0xMDYuNjY3IDAtNTguMDAyLTYwLjE2NS0xMDItMTE2LjUzMS0xMDJ6TTI1NiAzMzhjLTI1LjM2NSAwLTQ2IDIwLjYzNS00NiA0NiAwIDI1LjM2NCAyMC42MzUgNDYgNDYgNDZzNDYtMjAuNjM2IDQ2LTQ2YzAtMjUuMzY1LTIwLjYzNS00Ni00Ni00NnoiLz48L3N2Zz4=)}.fl-project-editor .side-panel .help-tip:hover{opacity:1}.fl-project-editor .side-panel .help-tip:after{content:attr(data-popup-body);position:absolute;bottom:100%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}.fl-annotations-tip{font-family:Source Sans Pro,sans-serif;max-width:15rem;background:#fff;color:#333;box-shadow:0 0 8px rgba(0,0,0,.2);border-radius:.5rem;padding:.625rem;font-size:.72rem;line-height:1.25em;position:absolute;z-index:999999;pointer-events:none}.fl-annotations-tip:after{content:"";position:absolute;bottom:-8px;left:50%;margin-left:-8px;width:0;height:0;border-color:#fff transparent transparent;border-style:solid;border-width:8px 8px 0}.fl-annotations-tip.hidden{display:none}.fl-disable-selection,.fl-disable-selection *{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.fl-project-editor{z-index:100000;overflow-y:auto;width:18rem;background:#fff;box-shadow:0 -2px 5px 0 rgba(0,0,0,.2);height:100vh;overflow:auto}.fl-project-editor .side-panel .side-panel-inner{margin:0;max-width:none}.fl-project-editor .side-panel{padding:0;background:transparent;height:auto;position:static;overflow:none}.fl-annotation-settings{border-top:1px solid #eee}.fl-annotation-contents :first-child{margin-top:0}.fl-annotation-contents :last-child{margin-bottom:0}.fl-annotation-contents a{color:inherit;-webkit-text-stroke-color:inherit}.fl-annotation-contents img{-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;pointer-events:none}.empty-annotation-message{padding:1rem;font-size:1rem;text-align:center;color:#aaa}.fl-project-editor .fl-annotation-settings .settings-block,.fl-project-editor .fl-annotation-settings .toplevel-settings-block{display:none}.fl-project-editor.active-annotation .fl-annotation-settings .settings-block,.fl-project-editor.active-annotation .fl-annotation-settings .toplevel-settings-block{display:block}.fl-project-editor.active-annotation .fl-annotation-settings .empty-annotation-message{display:none}@media screen and (min-width:521px){.fl-annotations-add-element{display:none}}@media screen and (max-width:520px){.fl-project-editor{right:0;position:absolute}.is-edit-settings .fl-annotations-add-element,.is-edit-settings.is-editing .fl-annotations-source-element{left:-21rem}}',document.head.appendChild(Kt);var ZM=function(t,e){"string"==typeof e&&(e=function(e){return e=String(e).toUpperCase(),function(t){return e===t.nodeName}}(e));"function"!=typeof e&&(e=function(e){return function(t){return e===t}}(e));for(;t&&!e(t);)t=t.parentNode;return t||null};function GM(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var qM=GM;function QM(t){return"function"==typeof t}function WM(t){return"object"===Zs(t)&&null!==t}function VM(t){return void 0===t}(GM.EventEmitter=GM).prototype._events=void 0,GM.prototype._maxListeners=void 0,GM.defaultMaxListeners=10,GM.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},GM.prototype.emit=function(t){var e,n,r,i,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||WM(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(VM(n=this._events[t]))return!1;if(QM(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(WM(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},GM.prototype.on=GM.prototype.addListener=function(t,e){var n;if(!QM(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,QM(e.listener)?e.listener:e),this._events[t]?WM(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,WM(this._events[t])&&!this._events[t].warned&&(n=VM(this._maxListeners)?GM.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},GM.prototype.once=function(t,e){if(!QM(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},GM.prototype.removeListener=function(t,e){var n,r,i,o;if(!QM(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(n=this._events[t]).length,r=-1,n===e||QM(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(WM(n)){for(o=i;0<o--;)if(n[o]===e||n[o].listener&&n[o].listener===e){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},GM.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(QM(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},GM.prototype.listeners=function(t){t=this._events&&this._events[t]?QM(this._events[t])?[this._events[t]]:this._events[t].slice():[];return t},GM.prototype.listenerCount=function(t){if(this._events){t=this._events[t];if(QM(t))return 1;if(t)return t.length}return 0},GM.listenerCount=function(t,e){return t.listenerCount(e)};function XM(t,a){a=a||{},t=t||window;var s=new qM;s.target=a.target||t;var l=null,c=a.filtered,e=$M,n=(e="string"==typeof a.type?$M.filter(function(t){return 0===t.indexOf(a.type)}):e).map(function(i){var o=i.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start");return{type:i,listener:function(t){var e,n,r=t;/^touch/.test(i)&&(/^touchend$/.test(i)&&!1!==a.preventSimulated&&t.preventDefault(),r=c?function(t,e){var n;l&&/^touch(end|cancel)/.test(e)?(n=t6(t.changedTouches,l.identifier||0))&&(l=null):!l&&/^touchstart/.test(e)?l=n=KM(t.changedTouches,s.target):l&&(n=t6(t.changedTouches,l.identifier||0));return n}(t,i):KM(t.changedTouches,s.target)),r&&(e=r,n=s.target,r=e.clientX||0,e=e.clientY||0,n=function(t){return t===window||t===document||t===document.body?JM:t.getBoundingClientRect()}(n),n=[r-n.left,e-n.top],s.emit(o,t,n))}}});return s.enable=function(){return n.forEach(e6(t,!0)),s},s.disable=function(){return l=null,n.forEach(e6(t,!1)),s},s.enable(),s}var $M=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"],JM={left:0,top:0};function KM(t,e){return Array.prototype.slice.call(t).filter(function(t){return t.target===e})[0]||t[0]}function t6(t,e){for(var n=0;n<t.length;n++)if(t[n].identifier===e)return t[n];return null}function e6(e,n){return function(t){n?e.addEventListener(t.type,t.listener,{passive:!1}):e.removeEventListener(t.type,t.listener,{passive:!1})}}var n6,r6,i6=void 0!==e&&(e.crypto||e.msCrypto);i6&&i6.getRandomValues&&(n6=new Uint8Array(16),M6=function(){return i6.getRandomValues(n6),n6}),M6||(r6=new Array(16),M6=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r6[e]=t>>>((3&e)<<3)&255;return r6});for(var o6=M6,a6=[],s6=0;s6<256;++s6)a6[s6]=(s6+256).toString(16).substr(1);var l6=function(t,e){return e=e||0,a6[t[e++]]+a6[t[e++]]+a6[t[e++]]+a6[t[e++]]+"-"+a6[t[e++]]+a6[t[e++]]+"-"+a6[t[e++]]+a6[t[e++]]+"-"+a6[t[e++]]+a6[t[e++]]+"-"+a6[t[e++]]+a6[t[e++]]+a6[t[e++]]+a6[t[e++]]+a6[t[e++]]+a6[t[e++]]};function c6(t,e){ga(this,c6),this.id="",this.position=t,this.device_visibility="all",this.text_size=1,this.text_color="#333333",this.text_bg="#ffffff",this.text_weight="bold",this.text_line_height=1.25,this.label_width=10,this.popup_position="center",this.popup_bg="#ffffff",this.line_marker="none",this.stroke_color="#333333",this.stroke_opacity=1,this.stroke_width=2,this.subject_fill="#333333",this.point_radius=.5,this.point_text="",this.point_text_color="#FFFFFF",this.subject_fill_opacity=0,this.subject_type="none",this.connector_type="direct",this.connector_extend_line="enabled",this.contents="Type your annotation...",e&&Object.assign(this,e),this.view=Object.assign({},p6),this.view.origin=this.view.origin.slice(),this.view.content_offset=this.view.content_offset.slice()}var u6,f6,d6=function(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var i=(t=t||{}).random||(t.rng||o6)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;++o)e[r+o]=i[o];return e||l6(i)},p6={origin:[0,0],content_offset:[.025,.025]};c6.getDefaultSettings=function(){var t=new c6,t=Object.assign({},t);return delete t.view,delete t.position,delete t.id,delete t.contents,t};function h6(){return window.innerWidth!==u6&&(u6=window.innerWidth,f6=u6<=520),f6}var g6=en.end,Kt=i("trimEnd"),e=Kt?function(){return g6(this)}:"".trimEnd;$t({target:"String",proto:!0,name:"trimEnd",forced:Kt},{trimEnd:e,trimRight:e});var _6=D.TypeError,m6=l("match"),y6=v("".indexOf);$t({target:"String",proto:!0,forced:!function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[m6]=!1,"/./"[e](n)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~y6(We(u(this)),We(function(t){if($r(t))throw _6("The method doesn't accept regular expressions");return t}(t)),1<arguments.length?arguments[1]:void 0)}});var v6=n(function(t,e){t.exports=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function e(t,e,n){if(e)r(t.prototype,e);if(n)r(t,n);return t}function i(t,e){if(!t)return;if(typeof t==="string")return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}function o(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){var n;if(typeof Symbol==="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=i(t))||e&&t&&typeof t.length==="number"){if(n)t=n;var r=0;return function(){if(r>=t.length)return{done:true};return{done:false,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n=t[Symbol.iterator]();return n.next.bind(n)}function t(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=t(function(e){function t(){return{baseUrl:null,breaks:false,gfm:true,headerIds:true,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:true,pedantic:false,renderer:null,sanitize:false,sanitizer:null,silent:false,smartLists:false,smartypants:false,tokenizer:null,walkTokens:null,xhtml:false}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}}),a=/[&<>"']/,s=/[&<>"']/g,l=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},f=function t(e){return u[e]};function d(t,e){if(e){if(a.test(t))return t.replace(s,f)}else if(l.test(t))return t.replace(c,f);return t}var p=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function g(t){return t.replace(p,function(t,e){e=e.toLowerCase();if(e==="colon")return":";if(e.charAt(0)==="#")return e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1));return""})}var _=/(^|[^\[])\^/g;function m(r,e){r=r.source||r;e=e||"";var i={replace:function t(e,n){n=n.source||n;n=n.replace(_,"$1");r=r.replace(e,n);return i},getRegex:function t(){return new RegExp(r,e)}};return i}var y=/[^\w:]/g,v=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function b(t,e,n){if(t){var r;try{r=decodeURIComponent(g(n)).replace(y,"").toLowerCase()}catch(t){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}if(e&&!v.test(n))n=A(e,n);try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}var x={},w=/^[^:]+:\/*[^/]*$/,M=/^([^:]+:)[\s\S]*$/,k=/^([^:]+:\/*[^/]*)[\s\S]*$/,j;function A(t,e){if(!x[" "+t])if(w.test(t))x[" "+t]=t+"/";else x[" "+t]=N(t,"/",true);t=x[" "+t];var n=t.indexOf(":")===-1;if(e.substring(0,2)==="//"){if(n)return e;return t.replace(M,"$1")+e}else if(e.charAt(0)==="/"){if(n)return e;return t.replace(k,"$1")+e}else return t+e}function T(t){var e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)if(Object.prototype.hasOwnProperty.call(n,r))t[r]=n[r]}return t}function z(t,e){var n=t.replace(/\|/g,function(t,e,n){var r=false,i=e;while(--i>=0&&n[i]==="\\")r=!r;if(r)return"|";else return" |"}),r=n.split(/ \|/);var i=0;if(r.length>e)r.splice(e);else while(r.length<e)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function N(t,e,n){var r=t.length;if(r===0)return"";var i=0;while(i<r){var o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.substr(0,r-i)}function D(t,e){if(t.indexOf(e[1])===-1)return-1;var n=t.length;var r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]){r--;if(r<0)return i}return-1}function I(t){if(t&&t.sanitize&&!t.silent)console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function S(t,e){if(e<1)return"";var n="";while(e>1){if(e&1)n+=t;e>>=1;t+=t}return n+t}var E={escape:d,unescape:g,edit:m,cleanUrl:b,resolveUrl:A,noopTest:{exec:function t(){}},merge:T,splitCells:z,rtrim:N,findClosingBracket:D,checkSanitizeDeprecation:I,repeatString:S},L=n.defaults,C=E.rtrim,O=E.splitCells,P=E.escape,F=E.findClosingBracket;function Y(t,e,n){var r=e.href;var i=e.title?P(e.title):null;var o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!")return{type:"link",raw:n,href:r,title:i,text:o};else return{type:"image",raw:n,href:r,title:i,text:P(o)}}function R(t,e){var n=t.match(/^(\s+)(?:```)/);if(n===null)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);if(e===null)return t;var n=e[0];if(n.length>=r.length)return t.slice(r.length);return t}).join("\n")}var U=function(){function t(t){this.options=t||L}var e=t.prototype;e.space=function t(e){var n=this.rules.block.newline.exec(e);if(n){if(n[0].length>1)return{type:"space",raw:n[0]};return{raw:"\n"}}};e.code=function t(e,n){var r=this.rules.block.code.exec(e);if(r){var i=n[n.length-1];if(i&&i.type==="paragraph")return{raw:r[0],text:r[0].trimRight()};var o=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:!this.options.pedantic?C(o,"\n"):o}}};e.fences=function t(e){var n=this.rules.block.fences.exec(e);if(n){var r=n[0];var i=R(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}};e.heading=function t(e){var n=this.rules.block.heading.exec(e);if(n){var r=n[2].trim();if(/#$/.test(r)){var i=C(r,"#");if(this.options.pedantic)r=i.trim();else if(!i||/ $/.test(i))r=i.trim()}return{type:"heading",raw:n[0],depth:n[1].length,text:r}}};e.nptable=function t(e){var n=this.rules.block.nptable.exec(e);if(n){var r={type:"table",header:O(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};if(r.header.length===r.align.length){var i=r.align.length;var o;for(o=0;o<i;o++)if(/^ *-+: *$/.test(r.align[o]))r.align[o]="right";else if(/^ *:-+: *$/.test(r.align[o]))r.align[o]="center";else if(/^ *:-+ *$/.test(r.align[o]))r.align[o]="left";else r.align[o]=null;i=r.cells.length;for(o=0;o<i;o++)r.cells[o]=O(r.cells[o],r.header.length);return r}}};e.hr=function t(e){var n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}};e.blockquote=function t(e){var n=this.rules.block.blockquote.exec(e);if(n){var r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],text:r}}};e.list=function t(e){var n=this.rules.block.list.exec(e);if(n){var r=n[0];var i=n[2];var o=i.length>1;var t={type:"list",raw:r,ordered:o,start:o?+i.slice(0,-1):"",loose:false,items:[]};var a=n[0].match(this.rules.block.item);var s=false,l,c,u,f,d,p,h,g;var _=a.length;u=this.rules.block.listItemStart.exec(a[0]);for(var m=0;m<_;m++){l=a[m];r=l;if(m!==_-1){f=this.rules.block.listItemStart.exec(a[m+1]);if(!this.options.pedantic?f[1].length>u[0].length||f[1].length>3:f[1].length>u[1].length){a.splice(m,2,a[m]+"\n"+a[m+1]);m--;_--;continue}else if(!this.options.pedantic||this.options.smartLists?f[2][f[2].length-1]!==i[i.length-1]:o===(f[2].length===1)){d=a.slice(m+1).join("\n");t.raw=t.raw.substring(0,t.raw.length-d.length);m=_-1}u=f}c=l.length;l=l.replace(/^ *([*+-]|\d+[.)]) ?/,"");if(~l.indexOf("\n ")){c-=l.length;l=!this.options.pedantic?l.replace(new RegExp("^ {1,"+c+"}","gm"),""):l.replace(/^ {1,4}/gm,"")}p=s||/\n\n(?!\s*$)/.test(l);if(m!==_-1){s=l.charAt(l.length-1)==="\n";if(!p)p=s}if(p)t.loose=true;if(this.options.gfm){h=/^\[[ xX]\] /.test(l);g=undefined;if(h){g=l[1]!==" ";l=l.replace(/^\[[ xX]\] +/,"")}}t.items.push({type:"list_item",raw:r,task:h,checked:g,loose:p,text:l})}return t}};e.html=function t(e){var n=this.rules.block.html.exec(e);if(n)return{type:this.options.sanitize?"paragraph":"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):P(n[0]):n[0]}};e.def=function t(e){var n=this.rules.block.def.exec(e);if(n){if(n[3])n[3]=n[3].substring(1,n[3].length-1);var r=n[1].toLowerCase().replace(/\s+/g," ");return{tag:r,raw:n[0],href:n[2],title:n[3]}}};e.table=function t(e){var n=this.rules.block.table.exec(e);if(n){var r={type:"table",header:O(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];var i=r.align.length;var o;for(o=0;o<i;o++)if(/^ *-+: *$/.test(r.align[o]))r.align[o]="right";else if(/^ *:-+: *$/.test(r.align[o]))r.align[o]="center";else if(/^ *:-+ *$/.test(r.align[o]))r.align[o]="left";else r.align[o]=null;i=r.cells.length;for(o=0;o<i;o++)r.cells[o]=O(r.cells[o].replace(/^ *\| *| *\| *$/g,""),r.header.length);return r}}};e.lheading=function t(e){var n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1]}};e.paragraph=function t(e){var n=this.rules.block.paragraph.exec(e);if(n)return{type:"paragraph",raw:n[0],text:n[1].charAt(n[1].length-1)==="\n"?n[1].slice(0,-1):n[1]}};e.text=function t(e,n){var r=this.rules.block.text.exec(e);if(r){var i=n[n.length-1];if(i&&i.type==="text")return{raw:r[0],text:r[0]};return{type:"text",raw:r[0],text:r[0]}}};e.escape=function t(e){var n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:P(n[1])}};e.tag=function t(e,n,r){var i=this.rules.inline.tag.exec(e);if(i){if(!n&&/^<a /i.test(i[0]))n=true;else if(n&&/^<\/a>/i.test(i[0]))n=false;if(!r&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0]))r=true;else if(r&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0]))r=false;return{type:this.options.sanitize?"text":"html",raw:i[0],inLink:n,inRawBlock:r,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):P(i[0]):i[0]}}};e.link=function t(e){var n=this.rules.inline.link.exec(e);if(n){var r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var i=C(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{var o=F(n[2],"()");if(o>-1){var a=n[0].indexOf("!")===0?5:4;var s=a+n[1].length+o;n[2]=n[2].substring(0,o);n[0]=n[0].substring(0,s).trim();n[3]=""}}var l=n[2];var c="";if(this.options.pedantic){var t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);if(t){l=t[1];c=t[3]}}else c=n[3]?n[3].slice(1,-1):"";l=l.trim();if(/^</.test(l))if(this.options.pedantic&&!/>$/.test(r))l=l.slice(1);else l=l.slice(1,-1);return Y(n,{href:l?l.replace(this.rules.inline._escapes,"$1"):l,title:c?c.replace(this.rules.inline._escapes,"$1"):c},n[0])}};e.reflink=function t(e,n){var r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){var i=(r[2]||r[1]).replace(/\s+/g," ");i=n[i.toLowerCase()];if(!i||!i.href){var o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return Y(r,i,r[0])}};e.strong=function t(e,n,r){if(r===void 0)r="";var i=this.rules.inline.strong.start.exec(e);if(i&&(!i[1]||i[1]&&(r===""||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o=i[0]==="**"?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;o.lastIndex=0;var a;while((i=o.exec(n))!=null){a=this.rules.inline.strong.middle.exec(n.slice(0,i.index+3));if(a)return{type:"strong",raw:e.slice(0,a[0].length),text:e.slice(2,a[0].length-2)}}}};e.em=function t(e,n,r){if(r===void 0)r="";var i=this.rules.inline.em.start.exec(e);if(i&&(!i[1]||i[1]&&(r===""||this.rules.inline.punctuation.exec(r)))){n=n.slice(-1*e.length);var o=i[0]==="*"?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;o.lastIndex=0;var a;while((i=o.exec(n))!=null){a=this.rules.inline.em.middle.exec(n.slice(0,i.index+2));if(a)return{type:"em",raw:e.slice(0,a[0].length),text:e.slice(1,a[0].length-1)}}}};e.codespan=function t(e){var n=this.rules.inline.code.exec(e);if(n){var r=n[2].replace(/\n/g," ");var i=/[^ ]/.test(r);var o=/^ /.test(r)&&/ $/.test(r);if(i&&o)r=r.substring(1,r.length-1);r=P(r,true);return{type:"codespan",raw:n[0],text:r}}};e.br=function t(e){var n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}};e.del=function t(e){var n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2]}};e.autolink=function t(e,n){var r=this.rules.inline.autolink.exec(e);if(r){var i,o;if(r[2]==="@"){i=P(this.options.mangle?n(r[1]):r[1]);o="mailto:"+i}else{i=P(r[1]);o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}};e.url=function t(e,n){var r;if(r=this.rules.inline.url.exec(e)){var i,o;if(r[2]==="@"){i=P(this.options.mangle?n(r[0]):r[0]);o="mailto:"+i}else{var a;do{a=r[0];r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(a!==r[0]);i=P(r[0]);if(r[1]==="www.")o="http://"+i;else o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}};e.inlineText=function t(e,n,r){var i=this.rules.inline.text.exec(e);if(i){var o;if(n)o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):P(i[0]):i[0];else o=P(this.options.smartypants?r(i[0]):i[0]);return{type:"text",raw:i[0],text:o}}};return t}(),B=E.noopTest,H=E.edit,Z=E.merge,G={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:"+"<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)"+"|comment[^\\n]*(\\n+|$)"+"|<\\?[\\s\\S]*?(?:\\?>\\n*|$)"+"|<![A-Z][\\s\\S]*?(?:>\\n*|$)"+"|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)"+"|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)"+"|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+"|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)"+")",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:B,table:B,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};G.def=H(G.def).replace("label",G._label).replace("title",G._title).getRegex(),G.bullet=/(?:[*+-]|\d{1,9}[.)])/,G.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,G.item=H(G.item,"gm").replace(/bull/g,G.bullet).getRegex(),G.listItemStart=H(/^( *)(bull)/).replace("bull",G.bullet).getRegex(),G.list=H(G.list).replace(/bull/g,G.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+G.def.source+")").getRegex(),G._tag="address|article|aside|base|basefont|blockquote|body|caption"+"|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption"+"|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe"+"|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option"+"|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr"+"|track|ul",G._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,G.html=H(G.html,"i").replace("comment",G._comment).replace("tag",G._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),G.paragraph=H(G._paragraph).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.blockquote=H(G.blockquote).replace("paragraph",G.paragraph).getRegex(),G.normal=Z({},G),G.gfm=Z({},G.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n"+" {0,3}([-:]+ *\\|[-| :]*)"+"(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n"+" {0,3}\\|?( *[-:]+[-| :]*)"+"(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),G.gfm.nptable=H(G.gfm.nptable).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.gfm.table=H(G.gfm.table).replace("hr",G.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",G._tag).getRegex(),G.pedantic=Z({},G.normal,{html:H("^ *(?:comment *(?:\\n|\\s*$)"+"|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)"+"|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",G._comment).replace(/tag/g,"(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub"+"|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)"+"\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:B,paragraph:H(G.normal._paragraph).replace("hr",G.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:B,tag:"^comment"+"|^</[a-zA-Z][\\w:-]*\\s*>"+"|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>"+"|^<\\?[\\s\\S]*?\\?>"+"|^<![a-zA-Z]+\\s[\\s\\S]*?>"+"|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:B,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};q.punctuation=H(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex(),q._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",q._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",q._comment=H(G._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),q.em.start=H(q.em.start).replace(/punctuation/g,q._punctuation).getRegex(),q.em.middle=H(q.em.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.em.endAst=H(q.em.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.em.endUnd=H(q.em.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.start=H(q.strong.start).replace(/punctuation/g,q._punctuation).getRegex(),q.strong.middle=H(q.strong.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.strong.endAst=H(q.strong.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.endUnd=H(q.strong.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.blockSkip=H(q._blockSkip,"g").getRegex(),q.overlapSkip=H(q._overlapSkip,"g").getRegex(),q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q.autolink=H(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex(),q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q.tag=H(q.tag).replace("comment",q._comment).replace("attribute",q._attribute).getRegex(),q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q.link=H(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex(),q.reflink=H(q.reflink).replace("label",q._label).getRegex(),q.reflinkSearch=H(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex(),q.normal=Z({},q),q.pedantic=Z({},q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:H(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:H(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()}),q.gfm=Z({},q.normal,{escape:H(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),q.gfm.url=H(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex(),q.breaks=Z({},q.gfm,{br:H(q.br).replace("{2,}","*").getRegex(),text:H(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Q={block:G,inline:q},W=n.defaults,V=Q.block,X=Q.inline,$=E.repeatString;function J(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function K(t){var e="",n,r;var i=t.length;for(n=0;n<i;n++){r=t.charCodeAt(n);if(Math.random()>.5)r="x"+r.toString(16);e+="&#"+r+";"}return e}var tt=function(){function i(t){this.tokens=[];this.tokens.links=Object.create(null);this.options=t||W;this.options.tokenizer=this.options.tokenizer||new U;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;var e={block:V.normal,inline:X.normal};if(this.options.pedantic){e.block=V.pedantic;e.inline=X.pedantic}else if(this.options.gfm){e.block=V.gfm;if(this.options.breaks)e.inline=X.breaks;else e.inline=X.gfm}this.tokenizer.rules=e}i.lex=function t(e,n){var r=new i(n);return r.lex(e)};i.lexInline=function t(e,n){var r=new i(n);return r.inlineTokens(e)};var t=i.prototype;t.lex=function t(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(e,this.tokens,true);this.inline(this.tokens);return this.tokens};t.blockTokens=function t(e,n,r){if(n===void 0)n=[];if(r===void 0)r=true;if(this.options.pedantic)e=e.replace(/^ +$/gm,"");var i,o,a,s;while(e){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);if(i.type)n.push(i);continue}if(i=this.tokenizer.code(e,n)){e=e.substring(i.raw.length);if(i.type)n.push(i);else{s=n[n.length-1];s.raw+="\n"+i.raw;s.text+="\n"+i.text}continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.nptable(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length);i.tokens=this.blockTokens(i.text,[],r);n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length);a=i.items.length;for(o=0;o<a;o++)i.items[o].tokens=this.blockTokens(i.items[o].text,[],false);n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length);n.push(i);continue}if(r&&(i=this.tokenizer.def(e))){e=e.substring(i.raw.length);if(!this.tokens.links[i.tag])this.tokens.links[i.tag]={href:i.href,title:i.title};continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length);n.push(i);continue}if(r&&(i=this.tokenizer.paragraph(e))){e=e.substring(i.raw.length);n.push(i);continue}if(i=this.tokenizer.text(e,n)){e=e.substring(i.raw.length);if(i.type)n.push(i);else{s=n[n.length-1];s.raw+="\n"+i.raw;s.text+="\n"+i.text}continue}if(e){var l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return n};t.inline=function t(e){var n,r,i,o,a,s;var l=e.length;for(n=0;n<l;n++){s=e[n];switch(s.type){case"paragraph":case"text":case"heading":{s.tokens=[];this.inlineTokens(s.text,s.tokens);break}case"table":{s.tokens={header:[],cells:[]};o=s.header.length;for(r=0;r<o;r++){s.tokens.header[r]=[];this.inlineTokens(s.header[r],s.tokens.header[r])}o=s.cells.length;for(r=0;r<o;r++){a=s.cells[r];s.tokens.cells[r]=[];for(i=0;i<a.length;i++){s.tokens.cells[r][i]=[];this.inlineTokens(a[i],s.tokens.cells[r][i])}}break}case"blockquote":{this.inline(s.tokens);break}case"list":{o=s.items.length;for(r=0;r<o;r++)this.inline(s.items[r].tokens);break}}}return e};t.inlineTokens=function t(e,n,r,i){if(n===void 0)n=[];if(r===void 0)r=false;if(i===void 0)i=false;var o;var a=e;var s;var l,c;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)while((s=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null)if(u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1)))a=a.slice(0,s.index)+"["+$("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex)}while((s=this.tokenizer.rules.inline.blockSkip.exec(a))!=null)a=a.slice(0,s.index)+"["+$("a",s[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);while(e){if(!l)c="";l=false;if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.tag(e,r,i)){e=e.substring(o.raw.length);r=o.inLink;i=o.inRawBlock;n.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length);if(o.type==="link")o.tokens=this.inlineTokens(o.text,[],true,i);n.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);if(o.type==="link")o.tokens=this.inlineTokens(o.text,[],true,i);n.push(o);continue}if(o=this.tokenizer.strong(e,a,c)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.em(e,a,c)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length);o.tokens=this.inlineTokens(o.text,[],r,i);n.push(o);continue}if(o=this.tokenizer.autolink(e,K)){e=e.substring(o.raw.length);n.push(o);continue}if(!r&&(o=this.tokenizer.url(e,K))){e=e.substring(o.raw.length);n.push(o);continue}if(o=this.tokenizer.inlineText(e,i,J)){e=e.substring(o.raw.length);c=o.raw.slice(-1);l=true;n.push(o);continue}if(e){var f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n};e(i,null,[{key:"rules",get:function t(){return{block:V,inline:X}}}]);return i}(),et=n.defaults,nt=E.cleanUrl,rt=E.escape,it=function(){function t(t){this.options=t||et}var e=t.prototype;e.code=function t(e,n,r){var i=(n||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,i);if(o!=null&&o!==e){r=true;e=o}}e=e.replace(/\n$/,"")+"\n";if(!i)return"<pre><code>"+(r?e:rt(e,true))+"</code></pre>\n";return'<pre><code class="'+this.options.langPrefix+rt(i,true)+'">'+(r?e:rt(e,true))+"</code></pre>\n"};e.blockquote=function t(e){return"<blockquote>\n"+e+"</blockquote>\n"};e.html=function t(e){return e};e.heading=function t(e,n,r,i){if(this.options.headerIds)return"<h"+n+' id="'+this.options.headerPrefix+i.slug(r)+'">'+e+"</h"+n+">\n";return"<h"+n+">"+e+"</h"+n+">\n"};e.hr=function t(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};e.list=function t(e,n,r){var i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+">\n"+e+"</"+i+">\n"};e.listitem=function t(e){return"<li>"+e+"</li>\n"};e.checkbox=function t(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "};e.paragraph=function t(e){return"<p>"+e+"</p>\n"};e.table=function t(e,n){if(n)n="<tbody>"+n+"</tbody>";return"<table>\n"+"<thead>\n"+e+"</thead>\n"+n+"</table>\n"};e.tablerow=function t(e){return"<tr>\n"+e+"</tr>\n"};e.tablecell=function t(e,n){var r=n.header?"th":"td";var i=n.align?"<"+r+' align="'+n.align+'">':"<"+r+">";return i+e+"</"+r+">\n"};e.strong=function t(e){return"<strong>"+e+"</strong>"};e.em=function t(e){return"<em>"+e+"</em>"};e.codespan=function t(e){return"<code>"+e+"</code>"};e.br=function t(){return this.options.xhtml?"<br/>":"<br>"};e.del=function t(e){return"<del>"+e+"</del>"};e.link=function t(e,n,r){e=nt(this.options.sanitize,this.options.baseUrl,e);if(e===null)return r;var i='<a href="'+rt(e)+'"';if(n)i+=' title="'+n+'"';i+=">"+r+"</a>";return i};e.image=function t(e,n,r){e=nt(this.options.sanitize,this.options.baseUrl,e);if(e===null)return r;var i='<img src="'+e+'" alt="'+r+'"';if(n)i+=' title="'+n+'"';i+=this.options.xhtml?"/>":">";return i};e.text=function t(e){return e};return t}(),ot=function(){function t(){}var e=t.prototype;e.strong=function t(e){return e};e.em=function t(e){return e};e.codespan=function t(e){return e};e.del=function t(e){return e};e.html=function t(e){return e};e.text=function t(e){return e};e.link=function t(e,n,r){return""+r};e.image=function t(e,n,r){return""+r};e.br=function t(){return""};return t}(),at=function(){function t(){this.seen={}}var e=t.prototype;e.serialize=function t(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};e.getNextSafeSlug=function t(e,n){var r=e;var i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do{i++;r=e+"-"+i}while(this.seen.hasOwnProperty(r))}if(!n){this.seen[e]=i;this.seen[r]=0}return r};e.slug=function t(e,n){if(n===void 0)n={};var t=this.serialize(e);return this.getNextSafeSlug(t,n.dryrun)};return t}(),st=n.defaults,lt=E.unescape,ct=function(){function i(t){this.options=t||st;this.options.renderer=this.options.renderer||new it;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new ot;this.slugger=new at}i.parse=function t(e,n){var r=new i(n);return r.parse(e)};i.parseInline=function t(e,n){var r=new i(n);return r.parseInline(e)};var t=i.prototype;t.parse=function t(e,n){if(n===void 0)n=true;var r="",i,o,a,s,l,c,u,f,d,p,h,g,_,m,y,v,b,x;var w=e.length;for(i=0;i<w;i++){p=e[i];switch(p.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(p.tokens),p.depth,lt(this.parseInline(p.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(p.text,p.lang,p.escaped);continue}case"table":{f="";u="";s=p.header.length;for(o=0;o<s;o++)u+=this.renderer.tablecell(this.parseInline(p.tokens.header[o]),{header:true,align:p.align[o]});f+=this.renderer.tablerow(u);d="";s=p.cells.length;for(o=0;o<s;o++){c=p.tokens.cells[o];u="";l=c.length;for(a=0;a<l;a++)u+=this.renderer.tablecell(this.parseInline(c[a]),{header:false,align:p.align[a]});d+=this.renderer.tablerow(u)}r+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(p.tokens);r+=this.renderer.blockquote(d);continue}case"list":{h=p.ordered;g=p.start;_=p.loose;s=p.items.length;d="";for(o=0;o<s;o++){y=p.items[o];v=y.checked;b=y.task;m="";if(y.task){x=this.renderer.checkbox(v);if(_)if(y.tokens.length>0&&y.tokens[0].type==="text"){y.tokens[0].text=x+" "+y.tokens[0].text;if(y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text")y.tokens[0].tokens[0].text=x+" "+y.tokens[0].tokens[0].text}else y.tokens.unshift({type:"text",text:x});else m+=x}m+=this.parse(y.tokens,_);d+=this.renderer.listitem(m,b,v)}r+=this.renderer.list(d,h,g);continue}case"html":{r+=this.renderer.html(p.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(p.tokens));continue}case"text":{d=p.tokens?this.parseInline(p.tokens):p.text;while(i+1<w&&e[i+1].type==="text"){p=e[++i];d+="\n"+(p.tokens?this.parseInline(p.tokens):p.text)}r+=n?this.renderer.paragraph(d):d;continue}default:{var M='Token with "'+p.type+'" type was not found.';if(this.options.silent){console.error(M);return}else throw new Error(M)}}}return r};t.parseInline=function t(e,n){n=n||this.renderer;var r="",i,o;var a=e.length;for(i=0;i<a;i++){o=e[i];switch(o.type){case"escape":{r+=n.text(o.text);break}case"html":{r+=n.html(o.text);break}case"link":{r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{r+=n.image(o.href,o.title,o.text);break}case"strong":{r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(o.tokens,n));break}case"text":{r+=n.text(o.text);break}default:{var s='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(s);return}else throw new Error(s)}}}return r};return i}(),ut=E.merge,ft=E.checkSanitizeDeprecation,dt=E.escape,pt=n.getDefaults,ht=n.changeDefaults,gt=n.defaults,_t;function mt(t,r,i){if(typeof t==="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!=="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof r==="function"){i=r;r=null}r=ut({},mt.defaults,r||{});ft(r);if(i){var o=r.highlight;var a;try{a=tt.lex(t,r)}catch(t){return i(t)}var s=function t(e){var n;if(!e)try{n=ct.parse(a,r)}catch(t){e=t}r.highlight=o;return e?i(e):i(null,n)};if(!o||o.length<3)return s();delete r.highlight;if(!a.length)return s();var l=0;mt.walkTokens(a,function(n){if(n.type==="code"){l++;setTimeout(function(){o(n.text,n.lang,function(t,e){if(t)return s(t);if(e!=null&&e!==n.text){n.text=e;n.escaped=true}l--;if(l===0)s()})},0)}});if(l===0)s();return}try{var e=tt.lex(t,r);if(r.walkTokens)mt.walkTokens(e,r.walkTokens);return ct.parse(e,r)}catch(t){t.message+="\nPlease report this to https://github.com/markedjs/marked.";if(r.silent)return"<p>An error occurred:</p><pre>"+dt(t.message+"",true)+"</pre>";throw t}}return mt.options=mt.setOptions=function(t){ut(mt.defaults,t);ht(mt.defaults);return mt},mt.getDefaults=pt,mt.defaults=gt,mt.use=function(s){var n=ut({},s);if(s.renderer)(function(){var a=mt.defaults.renderer||new it;var t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.renderer[i].apply(a,e);if(r===false)r=o.apply(a,e);return r}};for(var e in s.renderer)t(e);n.renderer=a})();if(s.tokenizer)(function(){var a=mt.defaults.tokenizer||new U;var t=function t(i){var o=a[i];a[i]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=s.tokenizer[i].apply(a,e);if(r===false)r=o.apply(a,e);return r}};for(var e in s.tokenizer)t(e);n.tokenizer=a})();if(s.walkTokens){var e=mt.defaults.walkTokens;n.walkTokens=function(t){s.walkTokens(t);if(e)e(t)}}mt.setOptions(n)},mt.walkTokens=function(t,e){for(var n=h(t),r;!(r=n()).done;){var i=r.value;e(i);switch(i.type){case"table":{for(var o=h(i.tokens.header),a;!(a=o()).done;){var s=a.value;mt.walkTokens(s,e)}for(var l=h(i.tokens.cells),c;!(c=l()).done;){var u=c.value;for(var f=h(u),d;!(d=f()).done;){var p=d.value;mt.walkTokens(p,e)}}break}case"list":{mt.walkTokens(i.items,e);break}default:if(i.tokens)mt.walkTokens(i.tokens,e)}}},mt.parseInline=function(t,e){if(typeof t==="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!=="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ut({},mt.defaults,e||{});ft(e);try{var n=tt.lexInline(t,e);if(e.walkTokens)mt.walkTokens(n,e.walkTokens);return ct.parseInline(n,e)}catch(t){t.message+="\nPlease report this to https://github.com/markedjs/marked.";if(e.silent)return"<p>An error occurred:</p><pre>"+dt(t.message+"",true)+"</pre>";throw t}},mt.Parser=ct,mt.parser=ct.parse,mt.Renderer=it,mt.TextRenderer=ot,mt.Lexer=tt,mt.lexer=tt.lex,mt.Tokenizer=U,mt.Slugger=at,mt.parse=mt}()}),b6={gfm:!0,breaks:!0};function x6(t){return t=String(t||""),"<div class='fl-annotation-contents'>"+(t=v6(t,b6))+"</div>"}Yh("isConcatSpreadable"),Yh("toPrimitive");var w6=D.TypeError,M6=l("toPrimitive"),en=Date.prototype;ot(en,M6)||re(en,M6,function(t){if(kt(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw w6("Incorrect hint");return J(this,t)}),Yh("unscopables");function k6(t){var e=P6(null);return O6.call(arguments,function(t){I6(t)&&function(t,e){for(var n in t)e[n]=t[n]}(Object(t),e)}),e}function j6(t){return"function"==typeof t}function A6(t){if((!(e=t)||"symbol"!==Zs(e)&&"Symbol"!==e["@@toStringTag"])&&1)throw new TypeError(t+" is not a symbol");var e;return t}var T6,z6,N6,D6=void 0,I6=function(t){return t!==D6&&null!==t},S6=Object.keys,E6=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}()?Object.keys:function(t){return S6(I6(t)?Object(t):t)},L6=Math.max,C6="function"==typeof(T6=Object.assign)&&(T6(T6={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),T6.foo+T6.bar+T6.trzy==="razdwatrzy")?Object.assign:function(e,n){var r,t,i,o=L6(arguments.length,2);for(e=Object(function(t){if(!I6(t))throw new TypeError("Cannot use null or undefined");return t}(e)),i=function(t){try{e[t]=n[t]}catch(t){r=r||t}},t=1;t<o;++t)E6(n=arguments[t]).forEach(i);if(void 0!==r)throw r;return e},O6=Array.prototype.forEach,P6=Object.create,F6="razdwatrzy",Y6=String.prototype.indexOf,R6="function"==typeof F6.contains&&(!0===F6.contains("dwa")&&!1===F6.contains("foo"))?String.prototype.contains:function(t){return-1<Y6.call(this,t,arguments[1])},U6=n(function(t){(t.exports=function(t,e){var n,r,i,o;return arguments.length<2||"string"!=typeof t?(i=e,e=t,t=null):i=arguments[2],null==t?r=!(n=o=!0):(n=R6.call(t,"c"),r=R6.call(t,"e"),o=R6.call(t,"w")),o={value:e,configurable:n,enumerable:r,writable:o},i?C6(k6(i),o):o}).gs=function(t,e,n){var r,i;return"string"!=typeof t?(i=n,n=e,e=t,t=null):i=arguments[3],null==e?e=void 0:j6(e)?null==n?n=void 0:j6(n)||(i=n,n=void 0):(i=e,e=n=void 0),t=null==t?!(r=!0):(r=R6.call(t,"c"),R6.call(t,"e")),t={get:e,set:n,configurable:r,enumerable:t},i?C6(k6(i),t):t}}),B6=Object.create,H6=Object.defineProperties,Z6=Object.defineProperty,G6=Object.prototype,q6=B6(null),Q6=(N6=B6(null),function(t){for(var e,n=0;N6[t+(n||"")];)++n;return N6[t+=n||""]=!0,Z6(G6,e="@@"+t,U6.gs(null,function(t){Z6(this,e,U6(t))})),e}),W6=function t(e){if(this instanceof W6)throw new TypeError("TypeError: Symbol is not a constructor");return t()},i=z6=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=B6(W6.prototype),e=void 0===e?"":String(e),H6(n,{__description__:U6("",e),__name__:U6("",Q6(e))})};H6(z6,{for:U6(function(t){return q6[t]||(q6[t]=z6(String(t)))}),keyFor:U6(function(t){for(var e in A6(t),q6)if(q6[e]===t)return e}),hasInstance:U6("",z6("hasInstance")),isConcatSpreadable:U6("",z6("isConcatSpreadable")),iterator:U6("",z6("iterator")),match:U6("",z6("match")),replace:U6("",z6("replace")),search:U6("",z6("search")),species:U6("",z6("species")),split:U6("",z6("split")),toPrimitive:U6("",z6("toPrimitive")),toStringTag:U6("",z6("toStringTag")),unscopables:U6("",z6("unscopables"))}),H6(W6.prototype,{constructor:U6(z6),toString:U6("",function(){return this.__name__})}),H6(z6.prototype,{toString:U6(function(){return"Symbol ("+A6(this).__description__+")"}),valueOf:U6(function(){return A6(this)})}),Z6(z6.prototype,z6.toPrimitive,U6("",function(){return A6(this)})),Z6(z6.prototype,z6.toStringTag,U6("c","Symbol")),Z6(W6.prototype,z6.toPrimitive,U6("c",z6.prototype[z6.toPrimitive])),Z6(W6.prototype,z6.toStringTag,U6("c",z6.prototype[z6.toStringTag]));var Kt=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"===Zs(Symbol.iterator)||"object"===Zs(Symbol.isConcatSpreadable)&&("object"===Zs(Symbol.iterator)&&("object"===Zs(Symbol.toPrimitive)&&("object"===Zs(Symbol.toStringTag)&&"object"===Zs(Symbol.unscopables))))}()?Symbol:i,V6=$6,e=function(n){var r,t=n.length;return i(),e[X6]=!0,e;function e(){return n.length!==t?(t=n.length,i(),!0):r()}function i(){for(var e=[],t=0;t<n.length;t++)!function(t){e[t]=function(){return n[t]}}(t);r=$6(e)}},X6=Kt("see-change-array");function $6(i){for(var o=[],t=0;t<i.length;t++)o[t]=i[t]();return function(){for(var t=!1,e=0;e<i.length;e++){var n=i[e],r=n();n[X6]?r&&(t=!0,o[e]=r):(n=o[e],r!==n&&(t=!0,o[e]=r))}return t}}function J6(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,f=s-a,d=!!r.extend_line,n=t8(0,e,n,d);!d&&u<0&&n<=0&&(u=(o+=l/(2+n))-i),"rect"===t&&(p=r.radius_x+r.radius_pad,h=r.radius_y+r.radius_pad,u=o,f=s,(0<p&&-p<u||p<0&&u<+p)&&(i=Math.abs(p)>Math.abs(u)?0:p),(0<h&&-h<f||h<0&&f<+h)&&(a=Math.abs(h)>Math.abs(f)?0:h)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),u=o-i,f=s-a;var p=o,h=s,c=s<a&&i<o||o<i&&a<s?-1:1;if(Math.abs(u)<Math.abs(f)?(p=o,h=a+u*c):(h=s,p=i+f*c),"circle"!==t&&"point"!==t||!r.radius)return K6(d?[[[i,a],[p,h],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[p,h],[o,s]]]);c=r.radius,t=Math.sqrt(u*u+f*f);t<c-r.radius_pad?c-=r.radius_pad:t>c+r.radius_pad&&(c+=r.radius_pad);r=c/Math.sqrt(2);if(Math.abs(u)>r&&Math.abs(f)>r)return i=r*(o<0?-1:1),a=r*(s<0?-1:1),K6(d?[[[i,a],[p,h],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[p,h],[o,s]]]);if(Math.abs(u)>Math.abs(f)){f=Math.asin(-s/c),i=Math.abs(Math.cos(f)*c)*(o<0?-1:1);return K6(d?[[[i,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,s],[o,s]]])}i=Math.acos(o/c),a=Math.abs(Math.sin(i)*c)*(s<0?-1:1);return K6(d?[[[o,a],[o,s]],[[o,s],[o+l,s]]]:[[[o,a],[o,s]]])}function K6(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function t8(t,e,n,r){var i=e[0],e=n[0],n=n[2];return!!r||0<e-i?1:e-i<-n?-1:0}function e8(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1],a=r[0]-n[0],s=r[1]-n[1],e=i*s-o*a;if(0==e)return 1/0;r=n[0]-t[0],t=n[1]-t[1],a=(r*s-t*a)/e;if(a<0||1<a)return 1/0;e=(r*o-t*i)/e;return e<0||1<e?1/0:a}V6.array=e,J6.align=t8;var n8=[0,0];function r8(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o8(0,e,n);if(o-i<0&&u<=0&&(o+=l/(2+u)),s<-c?s+=c:s<0&&(s+=c/2),"rect"===t){var f=-r.radius_x-r.radius_pad,d=-r.radius_y-r.radius_pad,p=+r.radius_x+r.radius_pad,h=+r.radius_y+r.radius_pad;if(e=[o,s],n=[0,0],l=n8,c=(u=[[f,d],[p,h]])[1][1],f=u[0][1],d=u[0][0],p=u[1][0],h=e8(e,n,[c,d],[c,p]),u=e8(e,n,[c,d],[f,d]),d=e8(e,n,[f,d],[f,p]),p=e8(e,n,[c,p],[f,p]),!(1/0<=(c=Math.min(h,u,d,p)))&&(l&&(l[0]=e[0]+(n[0]-e[0])*c,l[1]=e[1]+(n[1]-e[1])*c),1))return i8([[n8,[o,s]]])}if("circle"!==t&&"point"!==t||!r.radius)return i8([[[i,a],[o,s]]]);i=Math.sqrt(o*o+s*s),a=r.radius+r.radius_pad,r=a*s/i;return n8[0]=a*o/i,n8[1]=r,i8([[n8,[o,s]]])}function i8(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function o8(t,e,n,r){var i=e[0],e=n[0],n=n[2];return 0<=e-i?1:e-i<=-n?-1:0}function a8(t,e,n,r){var i=e[0],o=n[0],a=e[1],s=n[1],l=n[2],c=n[3],u=o-i,f=s-a,d=!!r.extend_line,p=l8(0,e,n,d);if(!d&&u<0&&0===p&&(u=(o+=l/2)-i),"rect"===t&&(e=r.radius_x+2*r.radius_pad,n=r.radius_y+2*r.radius_pad,f=s,a=(h=(u=o)<e&&-e<u+l)?(i=0,Math.sign(f)*n):(i=Math.sign(u)*e,0)),s<0&&(s+=c),i===l/2&&a===c/2&&(i=o,a=s),"rect"===t){if(h)return s8(d?[[[0,a],[0,s]],[[Math.min(o,0),s],[Math.max(0,o+l),s]]]:[[[0,a],[0,s]],[[0,s],[o,s]]]);var h=o<0?(i+o+l)/2:(i+o)/2;return s8(d?[[[i,a],[h,a],[h,s],[o,s]],[[o,s],[o+l,s]]]:[[[i,a],[h,a],[h,s],[-1===p?o+l:o,s]]])}if(u=o-i,f=s-a,"circle"!==t&&"point"!==t&&"none"!==t)throw new Error("Unexpected annotation type for getStep()");t=r.radius||0,f=Math.sqrt(u*u+f*f);f<t-r.radius_pad?t-=r.radius_pad:f>t+r.radius_pad&&(t+=r.radius_pad);f=1;if(Math.abs(o)>t&&(0<o||o<-t-l)){o<-t&&(f*=-1,o+=l);r=((i=t*(o<(a=0)?-1:1))+o)/2;return s8(d?[[[i,a],[r,a],[r,s],[o,s]],[[o,s],[o+l*f,s]]]:0===p?[[[i,a],[o,a],[o,s]]]:[[[i,a],[r,a],[r,s],[o,s]]])}return a=t*(s<0?-1:1),s8(d?[[[i,a],[i,s],[o,s]],[[o,s],[o+l*f,s]]]:-1===p?[[[i,a],[i,s],[o+l,s]]]:[[[i,a],[i,s],[o,s]]])}function s8(t){for(var e=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++){var i=t[n][r][0],o=t[n][r][1];e.push((0===r?"M":"L")+i+","+o)}return e.join(" ")}function l8(t,e,n,r){var i=e[0],e=n[0],n=n[2];return!!r||0<e-i?1:e-i<-n?-1:0}r8.align=o8,a8.align=l8;var c8,u8={polyline:J6,direct:r8,step:a8,none:function(){return""},popup:function(){return""}};function f8(t){var e=(t=t||window).innerWidth,t=t.innerHeight;return Math.sqrt(e*e+t*t)}var d8={},p8={arrowhead:function(t,e,n){return t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX","7.5").attr("refY","5").attr("markerWidth","5").attr("markerHeight","5").attr("orient","auto-start-reverse").attr("fill",n).append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}};Object.keys(p8).forEach(function(t){return d8[t]={}});var h8,g8,_8=Object.create?Object.create(null):{},m8=function(){function a(t,e,n,r){var i,o=this;ga(this,a),this.id=t,this.state=e.view,this.parent=n,this.parent_svg=r,this.settings=e,this.selected=!1,this.editable=!1,this.active=!0,this.shouldUpdatePath=V6(this.pathDependencies().concat([function(){return o.state.content_offset[0]},function(){return o.state.content_offset[1]},function(){return o.settings.contents},function(){return o.settings.text_size},function(){return o.settings.label_width},function(){return o.settings.stroke_color},function(){return o.settings.connector_type},function(){return o.settings.subject_type},function(){return o.settings.line_marker},function(){return window.innerWidth},function(){return window.innerHeight},(i=!1,function(){return i||!(i=!0)})])),this.element=Fs(r).append("g").attr("data-annotation-id",this.id).attr("data-annotation-interactive",!0).classed("fl-annotations-node",!0).node(),this.el_path=Fs(this.element).append("path").style("stroke",this.settings.stroke_color).style("stroke-width",this.settings.stroke_width).style("fill","none").classed("fl-connector",!0),this.el_content=Fs(n).append("aside").attr("data-annotation-content","true").style("position","absolute").classed("fl-annotations-inline",!0),this.el_content_bg=this.el_content.append("span").style("position","absolute").classed("fl-label-bg",!0),this.el_content_fg=this.el_content.append("span").style("position","absolute").classed("fl-label-fg",!0),this.id&&(_8[this.id]=this),this._updateContents()}return ma(a,[{key:"pathDependencies",value:function(){return[]}},{key:"updatePath",value:function(t,e,n){var r=u8[this.getConnectorType()],i="disabled"!==this.settings.connector_extend_line,o=r.align?r.align(this.type,t,e,i):1,o=o<0?"right":0<o?"left":"center";Object.assign(n,{extend_line:i});e=r(this.type,t,e,n);this.el_path.attr("d",e),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),this.el_content_bg.style("text-align",o),this.el_content_fg.style("text-align",o);o=this.settings.stroke_color;this.el_path.style("stroke",this.settings.stroke_color).style("stroke-opacity",this.settings.stroke_opacity).style("stroke-width",n.connector_width||this.settings.stroke_width).style("stroke-linecap","square").style("stroke-dasharray",n.connector_dash?"4, 4":null).attr("marker-start",function(t,e){var n=d8[t];if(!n)return null;var r="marker-"+t+"-"+e.replace(/[^a-f0-9]/gi,"-").toLowerCase();return n[e]=n[e]||p8[t](c8,r,e),"url(#"+r+")"}(this.settings.line_marker,o))}},{key:"ofType",value:function(t){if(t===this.constructor)return this;var e=this.id,n=this.settings,r=this.parent,i=this.parent_svg;return this.destroy(),new t(e,n,r,i)}},{key:"type",get:function(){return String(this.constructor.name)}},{key:"onDragStart",value:function(t,e){return!0}},{key:"onDragMove",value:function(t,e){return!0}},{key:"onDragEnd",value:function(t,e){return!0}},{key:"update",value:function(){var t=this.getConnectorType(),e=this.state.origin[0],n=this.state.origin[1];Fs(this.element).attr("transform","translate(".concat(e," ").concat(n,")")).classed("fl-connector-popup","popup"==t).classed("fl-connector-line","polyline"==t||"step"==t),this._updateContents()}},{key:"_displayEditorInterface",value:function(){return this.editable&&this.active}},{key:"_displayPath",value:function(){var t=this.getConnectorType();return"none"!==t&&"popup"!==t&&this._displayContent()}},{key:"_displayContent",value:function(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"_updateContents",value:function(){this._displayContent()&&(this._updateContentsMarkup(),this._updateContentsDom())}},{key:"_updateContentsMarkup",value:function(){var t=x6(this.settings.contents);this.el_content_bg.html(t),this.el_content_fg.html(t)}},{key:"_updateContentsDom",value:function(){var t=f8(),e=this.state.content_offset[0]*t,n=this.state.content_offset[1]*t,r=this.state.origin[0],t=this.state.origin[1];this.el_content.style("left",r+e+"px").style("top",t+n+"px").style("width","100%").style("color",this.settings.text_color).style("visibility",this._displayContent()).style("font-size",this.settings.text_size+"rem").style("font-weight",this.settings.text_weight).style("line-height",this.settings.text_line_height+"em"),this.el_content_bg.style("-webkit-text-stroke-width",.15*this.settings.text_size+"rem").style("-webkit-text-stroke-color",this.settings.text_bg||"transparent").style("max-width",this.settings.label_width+"rem"),this.el_content_fg.style("max-width",this.settings.label_width+"rem")}},{key:"getPopupPosition",value:function(t){return[0,0]}},{key:"getConnectorType",value:function(){return"popup"==this.settings.device_visibility&&h6()?"popup":this.settings.connector_type}},{key:"destroy",value:function(t){t&&t.stayInDOM||!this.element.parentNode||this.element.parentNode.removeChild(this.element),this.state=null,this.element=null,this.settings=null,delete _8[this.id]}},{key:"setSelected",value:function(t){return this.selected!==(t=!!t)&&((this.selected=t)?this.element.classList.add("selected"):this.element.classList.remove("selected"),!0)}},{key:"setActive",value:function(t){return this.active!==(t=!!t)&&(this.active=t,this.element.style.visibility=t?"visible":"hidden",this.el_content.style("visibility",this._displayContent()?"visible":"hidden"),this.el_path.attr("visibility",this._displayPath()?"visible":"hidden"),!0)}}]),a}();function y8(t){return window.innerWidth!==h8&&(h8=window.innerWidth,g8=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*g8}m8.getByID=function(t){return _8[t]||null};var v8={circle:function(){va(o,m8);var i=Ma(o);function o(t,e,n,r){ga(this,o);e=i.call(this,t,e,n,r),n=f8();return e.state.radius="radius"in e.state?e.state.radius:.05,e.el_content.attr("data-annotation-type","circle"),e.group=Fs(e.element).classed("fl-circle",!0),e.el_circle=e.group.append("circle").classed("main-circle",!0).attr("fill","none").attr("stroke",e.settings.stroke_color).attr("stroke-width",e.settings.stroke_width).attr("cx",0).attr("cy",0).style("opacity",0).attr("r",e.state.radius*n+10),e.el_circle.transition().style("opacity",1).attr("r",e.state.radius*n),e.el_notch_radius=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",e.state.radius*n),e.el_notch_origin=e.group.append("circle").classed("fl-notch",!0).attr("r",8),e.el_content.attr("data-annotation-id",e.id),e.svg=r,e._is_drag_custom=!1,e._drag_mode_offset=!1,e._drag_mode_radius=!1,e._drag_start=[0,0],e._drag_base_position=[0,0],e._has_run=!1,e.updatePath(e.state.content_offset[0],e.state.content_offset[1]),e}return ma(o,[{key:"type",get:function(){return"circle"}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.state.radius}]}},{key:"setActive",value:function(t){return!!ka(ba(o.prototype),"setActive",this).call(this,t)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function(t,e){var n=f8();return this._drag_mode_offset=!!ZM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius=t.target===this.el_notch_radius.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1],this._drag_base_position[0]=n*this.state.content_offset[0],this._drag_base_position[1]=n*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius,!this._is_drag_custom}},{key:"onDragMove",value:function(t,e){return!this._is_drag_custom||(this._drag_mode_radius?(r=e[0]-this.state.origin[0],n=e[1]-this.state.origin[1],r=Math.sqrt(r*r+n*n),this.state.radius=r/f8()):(n=e[0]-this._drag_start[0],r=e[1]-this._drag_start[1],e=f8(),this.state.content_offset[0]=(n+this._drag_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_base_position[1])/e),this.update(),!1);var n,r}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){ka(ba(o.prototype),"update",this).call(this);var t=f8()*this.state.radius,e=this.settings.stroke_color;this.el_circle.style("opacity",1).attr("stroke",e).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("r",t).interrupt(),this.el_notch_origin.attr("stroke",e),this.el_notch_radius.attr("stroke",e).attr("cx",t),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function(){var t=f8(),e=t*this.state.radius,n=t*this.state.content_offset[0],r=t*this.state.content_offset[1];this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),t=[n,r,Math.max(t.width,1),Math.max(t.height,1)],ka(ba(o.prototype),"updatePath",this).call(this,[0,0],t,{radius:e,radius_pad:5}))}},{key:"updateNotchVisibility",value:function(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius.style("visibility",t)}},{key:"getPopupPosition",value:function(t){var e=this.state.radius*f8();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element,e=this.state.radius;ka(ba(o.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",e*f8()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return Fs(t).remove()})}}]),o}(),point:function(){va(o,m8);var i=Ma(o);function o(t,e,n,r){return ga(this,o),(n=i.call(this,t,e,n,r)).el_content.attr("data-annotation-type","point"),n.group=Fs(n.element).classed("fl-point",!0),n.el_circle=n.group.append("circle").classed("main-point",!0).attr("cx",0).attr("cy",0).attr("r",0),n.el_circle.transition().attr("r",y8(n.settings.point_radius)),n.el_notch_circle=n.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),n.el_notch_circle.transition().attr("r",y8(n.settings.point_radius)+3),n.el_label=n.group.append("text"),n.el_content.attr("data-annotation-id",n.id),n.svg=r,n._drag_offset=!1,n._drag_offset_start=[0,0],n._drag_offset_base_position=[0,0],n}return ma(o,[{key:"type",get:function(){return"point"}},{key:"setActive",value:function(t){return!!ka(ba(o.prototype),"setActive",this).call(this,t)&&(this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"onDragStart",value:function(t,e){var n=f8();return this._drag_offset=!!ZM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1],this._drag_offset_base_position[0]=n*this.state.content_offset[0],this._drag_offset_base_position[1]=n*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function(t,e){if(!this._drag_offset)return!0;var n=e[0]-this._drag_offset_start[0],r=e[1]-this._drag_offset_start[1],e=f8();return this.state.content_offset[0]=(n+this._drag_offset_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_offset_base_position[1])/e,this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){ka(ba(o.prototype),"update",this).call(this),this.el_circle.style("opacity",1).style("fill",this.settings.subject_fill).transition().attr("r",y8(this.settings.point_radius)),this.el_label.text(this.settings.point_text).style("font-size",Math.min(y8(this.settings.text_size),1.15*y8(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_circle.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",y8(this.settings.point_radius)+3),this.updatePath()}},{key:"updatePath",value:function(){var t=f8(),e=y8(this.settings.point_radius),n=this.state.content_offset[0]*t,r=this.state.content_offset[1]*t;this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),t=[n,r,Math.max(t.width,1),Math.max(t.height,1)],ka(ba(o.prototype),"updatePath",this).call(this,[0,0],t,{radius:e,radius_pad:5}))}},{key:"getPopupPosition",value:function(t){var e=y8(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element;ka(ba(o.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_circle.transition().attr("r",0),this.el_notch_circle.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return Fs(t).remove()})}}]),o}(),none:function(){va(s,m8);var i=Ma(s);function s(t,e,n,r){return ga(this,s),(n=i.call(this,t,e,n,r)).el_content.attr("data-annotation-type","none"),n.group=Fs(n.element).classed("fl-point",!0),n.el_notch_origin=n.group.append("circle").attr("cx",0).attr("cy",0).classed("fl-notch",!0).attr("r",0),n.el_notch_origin.transition().attr("r",8),n.el_label=n.group.append("text"),n.el_content.attr("data-annotation-id",n.id),n.svg=r,n._drag_offset=!1,n._drag_offset_start=[0,0],n._drag_offset_base_position=[0,0],n}return ma(s,[{key:"type",get:function(){return"point"}},{key:"setActive",value:function(t){return!!ka(ba(s.prototype),"setActive",this).call(this,t)&&(this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden"),!0)}},{key:"_displayEditorInterface",value:function(){return this.editable&&this.active}},{key:"_displayPath",value:function(){return(this._displayEditorInterface()||"none"!==ka(ba(s.prototype),"getConnectorType",this).call(this))&&this._displayContent()}},{key:"_displayContent",value:function(){return this.active&&"popup"!==this.getConnectorType()&&!this.popup_mobile_mode}},{key:"onDragStart",value:function(t,e){var n=f8();return this._drag_offset=!!ZM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_offset_start[0]=e[0],this._drag_offset_start[1]=e[1],this._drag_offset_base_position[0]=n*this.state.content_offset[0],this._drag_offset_base_position[1]=n*this.state.content_offset[1],!this._drag_offset}},{key:"onDragMove",value:function(t,e){if(!this._drag_offset)return!0;var n=e[0]-this._drag_offset_start[0],r=e[1]-this._drag_offset_start[1],e=f8();return this.state.content_offset[0]=(n+this._drag_offset_base_position[0])/e,this.state.content_offset[1]=(r+this._drag_offset_base_position[1])/e,this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"update",value:function(){ka(ba(s.prototype),"update",this).call(this),this.el_label.text(this.settings.point_text).style("font-size",Math.min(y8(this.settings.text_size),1.15*y8(this.settings.point_radius))).style("fill",this.settings.point_text_color),this.el_notch_origin.attr("visibility",this._displayEditorInterface()?"visible":"hidden").attr("stroke",this.settings.stroke_color).attr("r",8),this.updatePath()}},{key:"getConnectorType",value:function(){var t=ka(ba(s.prototype),"getConnectorType",this).call(this);return"none"===t?"direct":t}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.editable},function(){return t.active},function(){return ka(ba(s.prototype),"getConnectorType",t).call(t)}]}},{key:"updatePath",value:function(){var t="none"===ka(ba(s.prototype),"getConnectorType",this).call(this),e=t?1:this.settings.stroke_width,n=f8(),r=t?8:0,i=t?5:0,o=this.state.content_offset[0]*n,a=this.state.content_offset[1]*n;this.shouldUpdatePath()&&(n=this.el_content_fg.node().getBoundingClientRect(),n=[o,a,Math.max(n.width,1),Math.max(n.height,1)],ka(ba(s.prototype),"updatePath",this).call(this,[0,0],n,{radius:r,radius_pad:i,connector_dash:t,connector_width:e}))}},{key:"getPopupPosition",value:function(t){var e=y8(this.settings.point_radius);switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-e];case"bottom":return[0,+e];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element;ka(ba(s.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_notch_origin.transition().attr("r",0),this.el_content.style("opacity",1).transition().style("opacity",0).remove(),this.group.style("opacity",1).transition().style("opacity",0).on("end",function(){return Fs(t).remove()})}}]),s}(),box:function(){va(a,m8);var i=Ma(a);function a(t,e,n,r){ga(this,a);e=i.call(this,t,e,n,r),n=f8();return e.state.radius_x="radius_x"in e.state?e.state.radius_x:.05,e.state.radius_y="radius_y"in e.state?e.state.radius_y:.05,e.el_content.attr("data-annotation-type","box"),e.group=Fs(e.element).classed("fl-circle",!0),e.el_box=e.group.append("rect").classed("main-circle",!0).attr("fill","none").attr("stroke","#000").attr("stroke-opacity",e.settings.stroke_color_opacity).attr("stroke-width",e.settings.stroke_width).attr("x",-e.state.radius_x*n+10).attr("y",-e.state.radius_y*n+10).style("opacity",0).attr("width",2*(e.state.radius_x*n+10)).attr("height",2*(e.state.radius_y*n+10)),e.el_box.transition().style("opacity",1).attr("width",e.state.radius_x*n).attr("height",e.state.radius_y*n),e.el_notch_radius_x=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cx",e.state.radius_x*n),e.el_notch_radius_y=e.group.append("circle").classed("fl-notch",!0).attr("r",8).attr("cy",e.state.radius_y*n),e.el_notch_origin=e.group.append("circle").classed("fl-notch",!0).attr("r",8),e.el_content.attr("data-annotation-id",e.id),e.svg=r,e._is_drag_custom=!1,e._drag_mode_offset=!1,e._drag_mode_radius_x=!1,e._drag_mode_radius_y=!1,e._drag_start=[0,0],e._drag_base_position=[0,0],e._has_run=!1,e.updatePath(),e}return ma(a,[{key:"type",get:function(){return"rect"}},{key:"pathDependencies",value:function(){var t=this;return[function(){return t.state.radius_x},function(){return t.state.radius_y}]}},{key:"setActive",value:function(t){return!!ka(ba(a.prototype),"setActive",this).call(this,t)&&(this.updateNotchVisibility(),!0)}},{key:"onDragStart",value:function(t,e){var n=f8();return this._drag_mode_offset=!!ZM(t.target,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-content")}),this._drag_mode_radius_x=t.target===this.el_notch_radius_x.node(),this._drag_mode_radius_y=t.target===this.el_notch_radius_y.node(),this._drag_start[0]=e[0],this._drag_start[1]=e[1],this._drag_base_position[0]=n*this.state.content_offset[0],this._drag_base_position[1]=n*this.state.content_offset[1],this._is_drag_custom=this._drag_mode_offset||this._drag_mode_radius_x||this._drag_mode_radius_y,!this._is_drag_custom}},{key:"onDragMove",value:function(t,e){if(!this._is_drag_custom)return!0;var n,r,i=f8();return this._drag_mode_radius_x?(n=e[0]-this.state.origin[0],this.state.radius_x=Math.abs(n/f8())):this._drag_mode_radius_y?(r=e[1]-this.state.origin[1],this.state.radius_y=Math.abs(r/f8())):(r=e[0]-this._drag_start[0],e=e[1]-this._drag_start[1],this.state.content_offset[0]=(r+this._drag_base_position[0])/i,this.state.content_offset[1]=(e+this._drag_base_position[1])/i),this.update(),!1}},{key:"onDragEnd",value:function(t,e){return this.onDragMove(t,e)}},{key:"updateNotchVisibility",value:function(){var t=this._displayEditorInterface()?"visible":"hidden";this.el_notch_origin.style("visibility",t),this.el_notch_radius_x.style("visibility",t),this.el_notch_radius_y.style("visibility",t)}},{key:"update",value:function(){ka(ba(a.prototype),"update",this).call(this);var t=f8(),e=t*this.state.radius_x,n=t*this.state.radius_y,t=this.settings.stroke_color;this.el_box.style("opacity",1).attr("stroke",t).attr("stroke-opacity",this.settings.stroke_opacity).attr("stroke-width",this.settings.stroke_width).attr("fill",this.settings.subject_fill).attr("fill-opacity",this.settings.subject_fill_opacity).attr("x",-e).attr("y",-n).attr("width",2*e).attr("height",2*n).interrupt(),this.el_notch_origin.attr("stroke",t),this.el_notch_radius_x.attr("stroke",t).attr("cx",e),this.el_notch_radius_y.attr("stroke",t).attr("cy",n),this.updateNotchVisibility(),this.updatePath()}},{key:"updatePath",value:function(){var t,e=f8(),n=e*this.state.radius_x,r=e*this.state.radius_y,i=this.state.content_offset[0]*e,o=this.state.content_offset[1]*e;this.shouldUpdatePath()&&(t=this.el_content_fg.node().getBoundingClientRect(),e=[-n-5,-r-5],t=[i,o,Math.max(t.width,1),Math.max(t.height,1)],ka(ba(a.prototype),"updatePath",this).call(this,e,t,{radius_x:n,radius_y:r,radius_pad:5}))}},{key:"getPopupPosition",value:function(t){var e=this.state.radius_x*f8(),n=this.state.radius_y*f8();switch(t){case"left":return[-e,0];case"right":return[+e,0];case"top":return[0,-n];case"bottom":return[0,+n];default:return[0,0]}}},{key:"destroy",value:function(){var t=this.element,e=this.state,n=e.radius_x,e=e.radius_y;ka(ba(a.prototype),"destroy",this).call(this,{stayInDOM:!0}),this.el_box.transition().attr("width",n*f8()+10).attr("height",e*f8()+10),this.el_content.remove(),this.group.transition().style("opacity",0).on("end",function(){return Fs(t).remove()})}}]),a}()},b8=document.createElement("img");b8.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";var x8={dropdown:function(t,e){for(var n=0;n<e.choices.length;n++){var r,i,o,a=e.choices[n][0],s=e.choices[n][1];"buttons"==e.style?(t.classed("buttons-container",!0),t.append("input").attr("type","radio").attr("name",e.property).attr("id","".concat(e.property,"-").concat(n)).attr("value",s).on("change",function(){t.node().value=Ns.target.value}),r=t.append("label").attr("for","".concat(e.property,"-").concat(n)),i=a.match(/fa-(\S*)/g),o=a.match(/^data:image\/(svg|svg\+xml|png|jpg)(?:;base64)?,.+$/),i?r.append("i").attr("class","fa "+i[0]):o?r.append("img").attr("src",a):r.text(a)):t.append("option").attr("value",s).text(a)}},color:function(t,e,n){var r=Fs(t.node().parentNode).append("div").classed("color-picker",!0);null!=n&&r.append("button").classed("cancel-setting",!0).html('<svg><path stroke="#252525" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="square" d="M1.45012627,1.45012627 L6.39987373,6.39987373 M1.45012627,6.39987373 L6.39987373,1.44987373" transform="translate(3.925000, 3.924874) rotate(-270.000000) translate(-3.925000, -3.924874) "></path></svg>').on("click",function(){Fs(this.parentNode).classed("is-null",!0),n()}),r.append("div",function(){return t.node()}).classed("color-wrapper",!0).append(function(){return t.node()}).attr("type","color").on("change",function(){t.node().value=this.value,Fs(this.parentNode.parentNode).classed("is-null",!1)}).on("focus",function(){Fs(this.parentNode.parentNode).classed("active",!0)}).on("blur",function(){Fs(this.parentNode.parentNode).classed("active",!1)})},number:function(t,e){t.attr("type","number"),null!=e.min&&t.attr("min",e.min),null!=e.max&&t.attr("max",e.max),e.step&&t.attr("step",e.step)},boolean:function(t,e){t.attr("type","checkbox"),Fs(t.node().parentNode).append("label").classed("slide",!0).attr("for","setting-"+e.property)},code:function(t){t.attr("type","text"),t.attr("wrap","off"),t.on("keydown.tab",function(t){9===t.keyCode&&(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),t=this.selectionStart,this.value=this.value.substring(0,t)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=t+1))})}};function w8(t,s,f){var e;(e=s).forEach(function(t){var n;t.show_if&&"function"!=typeof t.show_if&&(n=t.show_if,t.show_if=function(t){for(var e in n)if(Array.isArray(n[e])){if(-1===n[e].indexOf(t[e]))return!1}else if(n[e]!=t[e])return!1;return!0})});var d=null,p={},h={},n=null,r=null,g="{}",_=(s=e).reduce(function(t,e){return t[e.property]=e,t},{}),i=Fs(t).append("div").classed("fl-project-editor",!0),l=i.append("div").classed("side-panel",!0).append("div").classed("side-panel-inner",!0);function c(){if(d){for(var t in h)"color"===h[t].type&&Fs(h[t].parentNode.parentNode).classed("is-null")?d[t]=null:d[t]=h[t].value;a()}}return o(),l.node().addEventListener("change",c,!1),l.node().addEventListener("keyup",c,!1),l.node().addEventListener("paste",c,!1),{container:l.node(),root:i.node(),update:o,render:a,setActive:function(t){n!==(t=!!t)&&(n=t,i.classed("active-annotation",n))},setVisible:function(t){r!==(t=!!t)&&(r=t,i.style("display",r?"block":"none"),(t=window.document.createEvent("UIEvents")).initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t))}};function o(){h={},p={},l.html("");var t=l.append("div").attr("class","fl-annotation-settings");t.append("p").attr("class","empty-annotation-message").text("Select an annotation or create a new annotation by clicking anywhere in the visualisation");for(var e=null,n=null,r=0,i=0;i<s.length;i++){var o,a=s[i];"string"!=typeof a?("object"!==Zs(a)||e||n||(r++,n=t.append("div").classed("toplevel-settings-block",!0)),"hidden"!==a.type&&(o=e||n,a.new_section&&(o.append("div").classed("settings-divider",!0),"string"==typeof a.new_section&&o.append("h3").classed("settings-subhead",!0).text(a.new_section)),o=function(t,e){var n=e.choices&&("buttons"===e.style||"boolean"===e.type),r="color"===e.type&&!!e.optional;t.classed("settings-option",!0).classed("option-type-"+e.type,!0).classed("settings-buttons",n);var i=t.append("label").attr("for","setting-"+e.property).classed("hidden",null===e.name).append("h3").text(e.name).classed("no-select",!0);e.description&&i.append("i").attr("class","fl-annotations-desc help-tip").style("font-family","FontAwesome, 'Font Awesome 5 Free'").attr("data-popup-body",e.description.replace(/\[\[/g,"").replace(/\]\]/g,"")).attr("data-popup-position","top");e.width&&t.classed("width-"+e.width.replace(/ /g,"-"),!0);i="input";e.choices?i=n?"div":"select":"text"!==e.type&&"code"!==e.type||(i="textarea");{var o;"code"===e.type&&(o=!1,t.append("i").attr("class","popup fa fa-reply clickable wrap-control").attr("data-popup-body","Wrap/unwrap text").attr("data-popup-position","top").on("click",function(){o=!o,Fs(this.parentNode).select("textarea").attr("wrap",o?null:"off"),Fs(this).classed("selected",o)}))}t=t.append(i).attr("id","setting-"+e.property).attr("name",e.property),i=e.choices?x8.dropdown:x8[e.type];i?r?i(t,e,c):i(t,e):t.attr("type","text");e.placeholder&&t.attr("placeholder",e.placeholder);e.size&&t.classed("size-"+e.size);return t.node()}(o.append("div"),a),h[a.property]=o,p[a.property]=ZM(o,function(t){return t.classList.contains("settings-option")}))):(n=null,(e=t.append("div").classed("settings-block",!0).classed("open",r<1)).append("h2").classed("no-select",!0).attr("tabindex","0").text(a).on("click",u).on("keyup",function(){13===Ns.keyCode&&u.call(this)}),"State documentation"===a&&e.style("display","none"),r++)}}function u(){this.parentNode.classList.toggle("open")}function a(t){if(t!==d||JSON.stringify(d)!==g){for(var e in t&&(d=t),g=JSON.stringify(d),h){var n=h[e],r=_[e];if("buttons"==r.style&&d[e])for(var i=n.querySelectorAll("input[type=radio]"),o=n.querySelectorAll("label[for]"),a=r.choices,s=0;s<i.length;s++){var l=i[s],c=o[s],u=l.value==d[e];l.checked=u,a[s][2]&&(a[s][2](d)?c.style.display=null:c.style.display="none")}n.value=d[e],r.optional&&"color"===r.type&&(null===d[e]?n.parentNode.parentNode.classList.add("is-null"):n.parentNode.parentNode.classList.remove("is-null")),r.show_if&&(r.show_if(d)?p[e].classList.remove("hidden"):p[e].classList.add("hidden"))}f()}}}var M8={show_popups:!0,show_pointer:!0,show_shadow:!0,style_popups:!1,max_width:20,align:"left",fill_color:"#ffffff",opacity:1,padding:1,border_radius:3,text_color:"#333333",text_size:1,is_custom:!1};function k8(t){if("number"!=typeof t)return t;var e=Math.round(t*Math.pow(10,2))/100;return 4==Math.round(t).toString().length?e:qf(",")(e)}function j8(t,e,n,r){for(var i in this._state=e,this._default_template=n,this._first_load=!0,this._title_binding=r||"id",M8)null==e[i]&&(e[i]=M8[i]);document.querySelector("#popup-styles")||((r=document.createElement("style")).id="popup-styles",r.type="text/css",r.innerHTML=".flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }",document.head.appendChild(r)),this.popup=a5().container(t).point(0,0).draw().hide()}j8.prototype.addColumnNames=function(t){if(this._column_names=t,!this._state.custom_template&&this._first_load){for(var e in this._column_names)if(!Array.isArray(this._column_names[e])){e=this._column_names[e];this._state.custom_template=e+": {{"+e+"}}";break}this._first_load=!1}return this},j8.prototype.hide=function(){return this.popup.hide(),this},j8.prototype.point=function(t,e){var n;return 1==arguments.length&&(t=(n=t.getBoundingClientRect()).left+n.width/2,e=n.top),this.popup.point(t,e),this},j8.prototype.html=function(t){return void 0===t?this.html_content:(this.popup.html(t),this)},j8.prototype.updateStyle=function(){var t=this.popup._getElement(),e=t.querySelector(".flourish-popup-content");e.style.padding=this._state.padding+"rem",e.style.textAlign=this._state.align;t=t.querySelector(".flourish-popup-svg g");return t.style.fill=this._state.fill_color,t.style.opacity=this._state.opacity,0==this._state.show_shadow?t.removeAttribute("filter"):t.setAttribute("filter","url(#dropshadow-"+this.popup.unique_id+")"),t.querySelector("rect").setAttribute("rx",this._state.border_radius),t.querySelector("path").style.display=this._state.show_pointer?"block":"none",this},j8.prototype.draw=function(i,t){if(this._state.show_popups){var o=this;if(this.updateStyle(),!arguments.length)return this.popup.draw(),t&&t(this.popup._getElement()),this;if(this.html_content="<div style='color: "+this._state.text_color+"; font-size: "+this._state.text_size+"rem; text-align:"+this._state.align+"; max-width:"+this._state.max_width+"rem;'>",this._state.is_custom||this._default_template)!this._state.is_custom&&this._default_template?this.html_content+=this._default_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(o._column_names[n])){var e=o._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+": "+i[n][e]+"</li>"}),r+="</ul>"}else r=i[n];return void 0!==r?k8(r):""}):this.html_content+=this._state.custom_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;return Object.keys(o._column_names).some(function(t){if(Array.isArray(o._column_names[t])){var e=o._column_names[t].indexOf(n);if(0<=e)return r=i[t][e],!0}else if(o._column_names[t]==n)return r=i[t],!0}),void 0!==r?k8(r):""});else{i[this._title_binding]&&(this.html_content+="<h1>"+i[this._title_binding]+"</h1>");var n,e,r={};for(n in this._column_names)if(n!=this._title_binding)if("metadata"==n){if(!Array.isArray(i.metadata))return;for(var a=0;a<i.metadata.length;a++)r[e=this._column_names.metadata[a]]||(r[e]=!0,this.html_content+="<h2><span class='name' data-binding='metadata'>"+e+"</span>: "+k8(i.metadata[a])+"</h2>")}else e=this._column_names[n],Array.isArray(e)?e.forEach(function(t,e){o.html_content+="<h2><span class='name' data-binding='"+n+"'>"+t+"</span>: "+k8(i[n][e])+"</h2>"}):r[e]||(r[e]=!0,this.html_content+="<h2><span class='name' data-binding='"+n+"'>"+e+"</span>: "+k8(i[n])+"</h2>");this.html_content+="</div>"}return this.popup.html(this.html_content).draw(),t&&t(this.popup._getElement()),this}},j8.prototype.directions=function(t){return this.popup.directions(t),this},j8.prototype.container=function(t){return this.popup.container(t),this};var A8,T8="{{html}}",z8={};function N8(){var t,e;t=document.body,(A8=new j8(t,z8,T8,e)).addColumnNames({html:""})}var D8=!window.Flourish||("sdk"===window.Flourish.environment||"story_editor"===window.Flourish.environment)&&!window.Flourish.is_read_only,I8=function(){function e(t){ga(this,e),this.mode="DEFAULT",this.pos=[0,0],this.flag_editing=!1,this.flag_inside_settings_panel=!1,this.flag_inside_add_button=!1,this.flag_over_annotation_node=!1,this.flag_can_place=!1,this.body=Fs(document.body),this.cursor_outline=S8(t).classed("inner-outline",!0),this.cursor_element=S8(t)}return ma(e,[{key:"update",value:function(){var t=this.getMode(),e=this.mode;this.mode=t;var n="CUSTOM_ADD"===this.mode,r="CUSTOM_DISABLED"===this.mode,r=n||r;r&&(this.cursor_outline.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)")),this.cursor_element.style("transform","translate(".concat(this.pos[0],"px, ").concat(this.pos[1],"px)"))),t!==e&&(this.cursor_element.classed("is-valid",n),this.cursor_outline.classed("is-valid",n),this.body.classed("fl-cursor-custom",r),this.body.classed("fl-cursor-pointer","POINTER"===this.mode),this.body.classed("fl-cursor-default","DEFAULT"===this.mode))}},{key:"getMode",value:function(){return!this.flag_inside_settings_panel&&!this.flag_inside_add_button&&this.flag_editing?this.flag_over_annotation_node?"POINTER":this.flag_can_place?"CUSTOM_ADD":"CUSTOM_DISABLED":"DEFAULT"}}]),e}();function S8(t){t=Fs(t).append("g").classed("fl-annotations-cursor",!0);return t.append("circle").attr("r",16),t.append("line").attr("x1",-6).attr("x2",6),t.append("line").attr("y1",-6).attr("y2",6),t}var en=[{property:"text_weight",type:"string",name:"Weight",width:"quarter",style:"buttons",choices:[["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iN3B4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA3IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+bm9ybWFsPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Im5vcm1hbCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEuMTA1OTQ3OTYsMTkgTDEuOTI1NjUwNTYsMTYuNTYwOTc1NiBMNS4wMzUzMTU5OSwxNi41NjA5NzU2IEw1Ljg0MjAwNzQzLDE5IEw3LDE5IEw0LjExMTUyNDE2LDExIEwyLjg4ODQ3NTg0LDExIEwwLDE5IEwxLjEwNTk0Nzk2LDE5IFogTTQuNzYyMDgxNzgsMTUuNzQzOTAyNCBMMi4xOTg4ODQ3NiwxNS43NDM5MDI0IEwyLjYwMjIzMDQ4LDE0LjUyNDM5MDIgQzIuNzU4MzY0MzEsMTQuMDc3MjM1OCAyLjkwNTgyNDA0LDEzLjYzMjExMzggMy4wNDQ2MDk2NywxMy4xODkwMjQ0IEMzLjE4MzM5NTI5LDEyLjc0NTkzNSAzLjMxNzg0Mzg3LDEyLjI5MjY4MjkgMy40NDc5NTUzOSwxMS44MjkyNjgzIEwzLjQ0Nzk1NTM5LDExLjgyOTI2ODMgTDMuNSwxMS44MjkyNjgzIEMzLjYzODc4NTYzLDEyLjI5MjY4MjkgMy43Nzc1NzEyNSwxMi43NDU5MzUgMy45MTYzNTY4OCwxMy4xODkwMjQ0IEM0LjA1NTE0MjUsMTMuNjMyMTEzOCA0LjIwMjYwMjIzLDE0LjA3NzIzNTggNC4zNTg3MzYwNiwxNC41MjQzOTAyIEw0LjM1ODczNjA2LDE0LjUyNDM5MDIgTDQuNzYyMDgxNzgsMTUuNzQzOTAyNCBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","normal"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+Ym9sZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJib2xkIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMi4zMzExMjU4MywxOSBMMi43NTQ5NjY4OSwxNy4wODkyMzA4IEw1LjE2NTU2MjkxLDE3LjA4OTIzMDggTDUuNTg5NDAzOTcsMTkgTDgsMTkgTDUuMzc3NDgzNDQsMTAgTDIuNjIyNTE2NTYsMTAgTDAsMTkgTDIuMzMxMTI1ODMsMTkgWiBNNC43NTQ5NjY4OSwxNS4yNDc2OTIzIEwzLjE2NTU2MjkxLDE1LjI0NzY5MjMgTDMuMzExMjU4MjgsMTQuNjI0NjE1NCBDMy40MTcyMTg1NCwxNC4xOTA3NjkyIDMuNTIwOTcxMywxMy43MjIzMDc3IDMuNjIyNTE2NTYsMTMuMjE5MjMwOCBDMy43MjQwNjE4MSwxMi43MTYxNTM4IDMuODIzMzk5NTYsMTIuMjMzODQ2MiAzLjkyMDUyOTgsMTEuNzcyMzA3NyBMMy45MjA1Mjk4LDExLjc3MjMwNzcgTDMuOTczNTA5OTMsMTEuNzcyMzA3NyBDNC4wNzk0NzAyLDEyLjIyNDYxNTQgNC4xODU0MzA0NiwxMi43MDQ2MTU0IDQuMjkxMzkwNzMsMTMuMjEyMzA3NyBDNC4zOTczNTA5OSwxMy43MiA0LjUwMzMxMTI2LDE0LjE5MDc2OTIgNC42MDkyNzE1MiwxNC42MjQ2MTU0IEw0LjYwOTI3MTUyLDE0LjYyNDYxNTQgTDQuNzU0OTY2ODksMTUuMjQ3NjkyMyBaIiBpZD0iQSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","bold"]]},{property:"text_size",type:"number",name:"Text size",width:"quarter",step:.1},{property:"label_width",step:1,min:2,max:20,type:"number",name:"Max text width",show_if:{connector_type:["none","polyline","step","direct"]}},{property:"line_marker",type:"string",width:"half",name:"Line marker",style:"buttons",show_if:{connector_type:["polyline","step","direct"]},choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTJweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTIgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDEzLjAwMDAwMCkgcm90YXRlKC00NS4wMDAwMDApIHRyYW5zbGF0ZSgtNS4wMDAwMDAsIC0xMy4wMDAwMDApIHRyYW5zbGF0ZSgxLjAwMDAwMCwgNi4wMDAwMDApIj4KICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlRyaWFuZ2xlIiBmaWxsPSIjMzMzMzMzIiBwb2ludHM9IjQgMCA4IDggMCA4Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDxsaW5lIHgxPSI0IiB5MT0iOCIgeDI9IjQiIHkyPSIxNCIgaWQ9IlBhdGgtMiIgc3Ryb2tlPSIjMzMzMzMzIiBvcGFjaXR5PSIwLjIwMDAwMDAwMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+PC9saW5lPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+","arrowhead"]]},{property:"connector_extend_line",type:"string",width:"half",name:"Extend line",style:"buttons",show_if:{connector_type:["polyline","step"]},choices:[["Enable","enabled"],["Disable","disabled"]]},{property:"stroke_width",step:.25,min:0,max:4,type:"number",width:"half",name:"Stroke width",show_if:function(t){return L8(t)||"point"!==t.subject_type&&"none"!==t.subject_type}},{property:"text_line_height",name:"Line height",type:"number",width:"half",step:.05,min:.5,max:3},{property:"popup_position",type:"string",width:"three quarters",name:"Popup position",show_if:{connector_type:"popup"},choices:[["Center","center"],["Left","left"],["Right","right"],["Top","top"],["Bottom","bottom"]]},{new_section:"Colors",property:"text_color",type:"color",name:"Text",width:"quarter"},{property:"text_bg",type:"color",name:"Text Outline",width:"quarter",show_if:{connector_type:["none","polyline","step","direct"]},optional:!0},{property:"point_text_color",type:"color",name:"Label",width:"quarter",show_if:{subject_type:"point"}},{property:"popup_bg",type:"color",width:"quarter",name:"Popup",show_if:{connector_type:"popup"}},{property:"stroke_color",type:"color",name:"Stroke",width:"quarter",show_if:function(t){return L8(t)||"point"!==t.subject_type&&"none"!==t.subject_type}},{property:"subject_fill",type:"color",name:"Fill",width:"quarter",show_if:{subject_type:["point","circle","box"]}},{property:"subject_fill_opacity",step:.01,min:0,max:1,type:"number",width:"quarter",name:"Fill opacity",show_if:{subject_type:["circle","box"]}}],E8=[{property:"contents",type:"text",name:"Annotation text"},{property:"device_visibility",type:"text",name:"Show",description:"Choose between Always, Desktop, Mobile or Popup on mobile",style:"buttons",choices:[["Always","all"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTlweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTkgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTEyLjAzMzMzMzMsMjMgQzEyLjIwNDg2MTEsMjMgMTIuMzUzMjk4NiwyMi45MzUyOTY1IDEyLjQ3ODY0NTgsMjIuODA1ODg5NCBDMTIuNjAzOTkzMSwyMi42NzY0ODI0IDEyLjY2NjY2NjcsMjIuNTIzMjM3MiAxMi42NjY2NjY3LDIyLjM0NjE1MzggQzEyLjY2NjY2NjcsMjIuMjU3NjEyMiAxMi42MTM4ODg5LDIyLjEwOTQ3NTIgMTIuNTA4MzMzMywyMS45MDE3NDI4IEMxMi40MDI3Nzc4LDIxLjY5NDAxMDQgMTIuMjk3MjIyMiwyMS40NTIyMjM2IDEyLjE5MTY2NjcsMjEuMTc2MzgyMiBDMTIuMDg2MTExMSwyMC45MDA1NDA5IDEyLjAzMzMzMzMsMjAuNjM2NjE4NiAxMi4wMzMzMzMzLDIwLjM4NDYxNTQgTDEyLjAzMzMzMzMsMjAuMzg0NjE1NCBMMTcuNDE2NjY2NywyMC4zODQ2MTU0IEMxNy44NTIwODMzLDIwLjM4NDYxNTQgMTguMjI0ODI2NCwyMC4yMjQ1NTkzIDE4LjUzNDg5NTgsMTkuOTA0NDQ3MSBDMTguODQ0OTY1MywxOS41ODQzMzQ5IDE5LDE5LjE5OTUxOTIgMTksMTguNzUgTDE5LDE4Ljc1IEwxOSw3LjYzNDYxNTM4IEMxOSw3LjE4NTA5NjE1IDE4Ljg0NDk2NTMsNi44MDAyODA0NSAxOC41MzQ4OTU4LDYuNDgwMTY4MjcgQzE4LjIyNDgyNjQsNi4xNjAwNTYwOSAxNy44NTIwODMzLDYgMTcuNDE2NjY2Nyw2IEwxNy40MTY2NjY3LDYgTDEuNTgzMzMzMzMsNiBDMS4xNDc5MTY2Nyw2IDAuNzc1MTczNjExLDYuMTYwMDU2MDkgMC40NjUxMDQxNjcsNi40ODAxNjgyNyBDMC4xNTUwMzQ3MjIsNi44MDAyODA0NSAwLDcuMTg1MDk2MTUgMCw3LjYzNDYxNTM4IEwwLDcuNjM0NjE1MzggTDAsMTguNzUgQzAsMTkuMTk5NTE5MiAwLjE1NTAzNDcyMiwxOS41ODQzMzQ5IDAuNDY1MTA0MTY3LDE5LjkwNDQ0NzEgQzAuNzc1MTczNjExLDIwLjIyNDU1OTMgMS4xNDc5MTY2NywyMC4zODQ2MTU0IDEuNTgzMzMzMzMsMjAuMzg0NjE1NCBMMS41ODMzMzMzMywyMC4zODQ2MTU0IEw2Ljk2NjY2NjY3LDIwLjM4NDYxNTQgQzYuOTY2NjY2NjcsMjAuNjQzNDI5NSA2LjkxMzg4ODg5LDIwLjkwOTA1NDUgNi44MDgzMzMzMywyMS4xODE0OTA0IEM2LjcwMjc3Nzc4LDIxLjQ1MzkyNjMgNi41OTcyMjIyMiwyMS42OTIzMDc3IDYuNDkxNjY2NjcsMjEuODk2NjM0NiBDNi4zODYxMTExMSwyMi4xMDA5NjE1IDYuMzMzMzMzMzMsMjIuMjUwODAxMyA2LjMzMzMzMzMzLDIyLjM0NjE1MzggQzYuMzMzMzMzMzMsMjIuNTIzMjM3MiA2LjM5NjAwNjk0LDIyLjY3NjQ4MjQgNi41MjEzNTQxNywyMi44MDU4ODk0IEM2LjY0NjcwMTM5LDIyLjkzNTI5NjUgNi43OTUxMzg4OSwyMyA2Ljk2NjY2NjY3LDIzIEw2Ljk2NjY2NjY3LDIzIEwxMi4wMzMzMzMzLDIzIFogTTE3LjQxNjY2NjcsMTYuNDYxNTM4NSBMMS41ODMzMzMzMywxNi40NjE1Mzg1IEMxLjQ5NzU2OTQ0LDE2LjQ2MTUzODUgMS40MjMzNTA2OSwxNi40MjkxODY3IDEuMzYwNjc3MDgsMTYuMzY0NDgzMiBDMS4yOTgwMDM0NywxNi4yOTk3Nzk2IDEuMjY2NjY2NjcsMTYuMjIzMTU3MSAxLjI2NjY2NjY3LDE2LjEzNDYxNTQgTDEuMjY2NjY2NjcsMTYuMTM0NjE1NCBMMS4yNjY2NjY2Nyw3LjYzNDYxNTM4IEMxLjI2NjY2NjY3LDcuNTQ2MDczNzIgMS4yOTgwMDM0Nyw3LjQ2OTQ1MTEyIDEuMzYwNjc3MDgsNy40MDQ3NDc2IEMxLjQyMzM1MDY5LDcuMzQwMDQ0MDcgMS40OTc1Njk0NCw3LjMwNzY5MjMxIDEuNTgzMzMzMzMsNy4zMDc2OTIzMSBMMS41ODMzMzMzMyw3LjMwNzY5MjMxIEwxNy40MTY2NjY3LDcuMzA3NjkyMzEgQzE3LjUwMjQzMDYsNy4zMDc2OTIzMSAxNy41NzY2NDkzLDcuMzQwMDQ0MDcgMTcuNjM5MzIyOSw3LjQwNDc0NzYgQzE3LjcwMTk5NjUsNy40Njk0NTExMiAxNy43MzMzMzMzLDcuNTQ2MDczNzIgMTcuNzMzMzMzMyw3LjYzNDYxNTM4IEwxNy43MzMzMzMzLDcuNjM0NjE1MzggTDE3LjczMzMzMzMsMTYuMTM0NjE1NCBDMTcuNzMzMzMzMywxNi4yMjMxNTcxIDE3LjcwMTk5NjUsMTYuMjk5Nzc5NiAxNy42MzkzMjI5LDE2LjM2NDQ4MzIgQzE3LjU3NjY0OTMsMTYuNDI5MTg2NyAxNy41MDI0MzA2LDE2LjQ2MTUzODUgMTcuNDE2NjY2NywxNi40NjE1Mzg1IEwxNy40MTY2NjY3LDE2LjQ2MTUzODUgWiIgaWQ9Iu+EiCIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==","desktop"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA4IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+QXJ0Ym9hcmQgQ29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJBcnRib2FyZC1Db3B5IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNNi42NjY2NjY2NywyMSBDNy4wMjc3Nzc3OCwyMSA3LjM0MDI3Nzc4LDIwLjg3MTM1NDIgNy42MDQxNjY2NywyMC42MTQwNjI1IEM3Ljg2ODA1NTU2LDIwLjM1Njc3MDggOCwyMC4wNTIwODMzIDgsMTkuNyBMOCwxOS43IEw4LDkuMyBDOCw4Ljk0NzkxNjY3IDcuODY4MDU1NTYsOC42NDMyMjkxNyA3LjYwNDE2NjY3LDguMzg1OTM3NSBDNy4zNDAyNzc3OCw4LjEyODY0NTgzIDcuMDI3Nzc3NzgsOCA2LjY2NjY2NjY3LDggTDYuNjY2NjY2NjcsOCBMMS4zMzMzMzMzMyw4IEMwLjk3MjIyMjIyMiw4IDAuNjU5NzIyMjIyLDguMTI4NjQ1ODMgMC4zOTU4MzMzMzMsOC4zODU5Mzc1IEMwLjEzMTk0NDQ0NCw4LjY0MzIyOTE3IDAsOC45NDc5MTY2NyAwLDkuMyBMMCw5LjMgTDAsMTkuNyBDMCwyMC4wNTIwODMzIDAuMTMxOTQ0NDQ0LDIwLjM1Njc3MDggMC4zOTU4MzMzMzMsMjAuNjE0MDYyNSBDMC42NTk3MjIyMjIsMjAuODcxMzU0MiAwLjk3MjIyMjIyMiwyMSAxLjMzMzMzMzMzLDIxIEwxLjMzMzMzMzMzLDIxIEw2LjY2NjY2NjY3LDIxIFogTTQuODMzMzMzMzMsOS42MjUgTDMuMTY2NjY2NjcsOS42MjUgQzMuMDU1NTU1NTYsOS42MjUgMyw5LjU3MDgzMzMzIDMsOS40NjI1IEMzLDkuMzU0MTY2NjcgMy4wNTU1NTU1Niw5LjMgMy4xNjY2NjY2Nyw5LjMgTDMuMTY2NjY2NjcsOS4zIEw0LjgzMzMzMzMzLDkuMyBDNC45NDQ0NDQ0NCw5LjMgNSw5LjM1NDE2NjY3IDUsOS40NjI1IEM1LDkuNTcwODMzMzMgNC45NDQ0NDQ0NCw5LjYyNSA0LjgzMzMzMzMzLDkuNjI1IEw0LjgzMzMzMzMzLDkuNjI1IFogTTYuNjY2NjY2NjcsMTguNCBMMS4zMzMzMzMzMywxOC40IEMxLjI0MzA1NTU2LDE4LjQgMS4xNjQ5MzA1NiwxOC4zNjc4Mzg1IDEuMDk4OTU4MzMsMTguMzAzNTE1NiBDMS4wMzI5ODYxMSwxOC4yMzkxOTI3IDEsMTguMTYzMDIwOCAxLDE4LjA3NSBMMSwxOC4wNzUgTDEsMTAuOTI1IEMxLDEwLjgzNjk3OTIgMS4wMzI5ODYxMSwxMC43NjA4MDczIDEuMDk4OTU4MzMsMTAuNjk2NDg0NCBDMS4xNjQ5MzA1NiwxMC42MzIxNjE1IDEuMjQzMDU1NTYsMTAuNiAxLjMzMzMzMzMzLDEwLjYgTDEuMzMzMzMzMzMsMTAuNiBMNi42NjY2NjY2NywxMC42IEM2Ljc1Njk0NDQ0LDEwLjYgNi44MzUwNjk0NCwxMC42MzIxNjE1IDYuOTAxMDQxNjcsMTAuNjk2NDg0NCBDNi45NjcwMTM4OSwxMC43NjA4MDczIDcsMTAuODM2OTc5MiA3LDEwLjkyNSBMNywxMC45MjUgTDcsMTguMDc1IEM3LDE4LjE2MzAyMDggNi45NjcwMTM4OSwxOC4yMzkxOTI3IDYuOTAxMDQxNjcsMTguMzAzNTE1NiBDNi44MzUwNjk0NCwxOC4zNjc4Mzg1IDYuNzU2OTQ0NDQsMTguNCA2LjY2NjY2NjY3LDE4LjQgTDYuNjY2NjY2NjcsMTguNCBaIE00LDIwLjUxMjUgQzMuNzcwODMzMzMsMjAuNTEyNSAzLjU3NDY1Mjc4LDIwLjQzMjk0MjcgMy40MTE0NTgzMywyMC4yNzM4MjgxIEMzLjI0ODI2Mzg5LDIwLjExNDcxMzUgMy4xNjY2NjY2NywxOS45MjM0Mzc1IDMuMTY2NjY2NjcsMTkuNyBDMy4xNjY2NjY2NywxOS40NzY1NjI1IDMuMjQ4MjYzODksMTkuMjg1Mjg2NSAzLjQxMTQ1ODMzLDE5LjEyNjE3MTkgQzMuNTc0NjUyNzgsMTguOTY3MDU3MyAzLjc3MDgzMzMzLDE4Ljg4NzUgNCwxOC44ODc1IEM0LjIyOTE2NjY3LDE4Ljg4NzUgNC40MjUzNDcyMiwxOC45NjcwNTczIDQuNTg4NTQxNjcsMTkuMTI2MTcxOSBDNC43NTE3MzYxMSwxOS4yODUyODY1IDQuODMzMzMzMzMsMTkuNDc2NTYyNSA0LjgzMzMzMzMzLDE5LjcgQzQuODMzMzMzMzMsMTkuOTIzNDM3NSA0Ljc1LDIwLjExNjQwNjIgNC41ODMzMzMzMywyMC4yNzg5MDYyIEM0LjQyMzYxMTExLDIwLjQzNDYzNTQgNC4yMjkxNjY2NywyMC41MTI1IDQsMjAuNTEyNSBaIiBpZD0i74SLIiBmaWxsPSIjMzMzMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+","mobile"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTAgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5BcnRib2FyZCBDb3B5IDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQXJ0Ym9hcmQtQ29weS0yIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMS4wMDAxODYwMSw4IEwxLDEwLjg4NSBMMSwxMC44OTQwMDI5IEwxLDE4LjA2NjAwMDggTDEuMDA2MTg0OSwxOC4xMjk5OTEgQzEuMDE4NTU0NjksMTguMTkxNzUyNyAxLjA0OTQ3OTE3LDE4LjI0NjgyODkgMS4wOTg5NTgzMywxOC4yOTUyMTk1IEMxLjE2NDkzMDU2LDE4LjM1OTc0MDMgMS4yNDMwNTU1NiwxOC4zOTIwMDA3IDEuMzMzMzMzMzMsMTguMzkyMDAwNyBMMS4zMzMzMzMzMywxOC4zOTIwMDA3IEw2LjY2NjY2NjY3LDE4LjM5MjAwMDcgQzYuNzU2OTQ0NDQsMTguMzkyMDAwNyA2LjgzNTA2OTQ0LDE4LjM1OTc0MDMgNi45MDEwNDE2NywxOC4yOTUyMTk1IEM2Ljk2NzAxMzg5LDE4LjIzMDY5ODcgNywxOC4xNTQyOTI1IDcsMTguMDY2MDAwOCBMNywxOC4wNjYwMDA4IEw3LDEzLjY2OCBMNy41LDEzLjAxMjM3OTggTDgsMTMuMDEyIEw4LDE5LjY5NjAwMDQgTDcuOTkxOTIxNzcsMTkuODQ0NDQ2OCBDNy45NTk2MDg4NCwyMC4xMzU1MTgxIDcuODMwMzU3MTQsMjAuMzkxNjYwOSA3LjYwNDE2NjY3LDIwLjYxMjg3NTEgQzcuMzQwMjc3NzgsMjAuODcwOTU4NCA3LjAyNzc3Nzc4LDIxIDYuNjY2NjY2NjcsMjEgTDYuNjY2NjY2NjcsMjEgTDEuMzMzMzMzMzMsMjEgTDEuMTgxNTQ3NjIsMjAuOTkyMDk5NSBDMC44ODM5Mjg1NzEsMjAuOTYwNDk3NSAwLjYyMjAyMzgxLDIwLjgzNDA4OTMgMC4zOTU4MzMzMzMsMjAuNjEyODc1MSBDMC4xMzE5NDQ0NDQsMjAuMzU0NzkxOCAwLDIwLjA0OTE2NjkgMCwxOS42OTYwMDA0IEwwLDE5LjY5NjAwMDQgTDAsOS4yNjQwMDMzMSBMMC4wMDgwNzgyMzEyOSw5LjExNTU1NjkyIEMwLjA0MDM5MTE1NjUsOC44MjQ0ODU1OCAwLjE2OTY0Mjg1Nyw4LjU2ODM0Mjc5IDAuMzk1ODMzMzMzLDguMzQ3MTI4NTcgQzAuNTc0OTAwNzk0LDguMTcyMDAwNjQgMC43NzYzNTE2ODcsOC4wNTYyOTExMiAxLjAwMDE4NjAxLDggWiBNNCwxOC44ODEwMDA2IEMzLjc3MDgzMzMzLDE4Ljg4MTAwMDYgMy41NzQ2NTI3OCwxOC45NjA4MDI3IDMuNDExNDU4MzMsMTkuMTIwNDA2OCBDMy4yNDgyNjM4OSwxOS4yODAwMTA5IDMuMTY2NjY2NjcsMTkuNDcxODc1NCAzLjE2NjY2NjY3LDE5LjY5NjAwMDQgQzMuMTY2NjY2NjcsMTkuOTIwMTI1MyAzLjI0ODI2Mzg5LDIwLjExMTk4OTggMy40MTE0NTgzMywyMC4yNzE1OTQgQzMuNTc0NjUyNzgsMjAuNDMxMTk4MSAzLjc3MDgzMzMzLDIwLjUxMTAwMDEgNCwyMC41MTEwMDAxIEM0LjIyOTE2NjY3LDIwLjUxMTAwMDEgNC40MjM2MTExMSwyMC40MzI4OTYgNC41ODMzMzMzMywyMC4yNzY2ODc3IEM0Ljc1LDIwLjExMzY4NzggNC44MzMzMzMzMywxOS45MjAxMjUzIDQuODMzMzMzMzMsMTkuNjk2MDAwNCBDNC44MzMzMzMzMywxOS40NzE4NzU0IDQuNzUxNzM2MTEsMTkuMjgwMDEwOSA0LjU4ODU0MTY3LDE5LjEyMDQwNjggQzQuNDI1MzQ3MjIsMTguOTYwODAyNyA0LjIyOTE2NjY3LDE4Ljg4MTAwMDYgNCwxOC44ODEwMDA2IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzMzMzMzMyIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTMsNiBMOSw2IEM5LjU1MjI4NDc1LDYgMTAsNi40NDc3MTUyNSAxMCw3IEwxMCwxMS4wMzY4Nzk0IEMxMCwxMS41ODkxNjQyIDkuNTUyMjg0NzUsMTIuMDM2ODc5NCA5LDEyLjAzNjg3OTQgTDcuNSwxMi4wMzY4Nzk0IEw3LjUsMTIuMDM2ODc5NCBMNiwxNCBMNC41LDEyLjAzNjg3OTQgTDMsMTIuMDM2ODc5NCBDMi40NDc3MTUyNSwxMi4wMzY4Nzk0IDIsMTEuNTg5MTY0MiAyLDExLjAzNjg3OTQgTDIsNyBDMiw2LjQ0NzcxNTI1IDIuNDQ3NzE1MjUsNiAzLDYgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup"]]},{property:"subject_type",type:"text",name:"Marker Type",style:"buttons",width:"full",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNnB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCA2IDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA2My4xICg5MjQ1MikgLSBodHRwczovL3NrZXRjaC5jb20gLS0+CiAgICA8dGl0bGU+cG9pbnQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0icG9pbnQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMzMzMzMzMiIGN4PSIzIiBjeT0iMTUiIHI9IjMiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=","point"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iY2lyY2xlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsLUNvcHkiIHN0cm9rZT0iIzMzMzMzMyIgY3g9IjgiIGN5PSIxNSIgcj0iNy41Ij48L2NpcmNsZT4KICAgIDwvZz4KPC9zdmc+","circle"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTZweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMTYgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5zcXVhcmU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0ic3F1YXJlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBzdHJva2U9IiMzMzMzMzMiIHg9IjAuNSIgeT0iNy41IiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjwvcmVjdD4KICAgIDwvZz4KPC9zdmc+","box"]]},{property:"connector_type",type:"text",width:"full",name:"Connector Type",style:"buttons",choices:[["None","none"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJjaXJjbGUtY29weSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSI+CiAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjUgOSAxMi4xNDIxODIxIDE2IDI4IDE2Ij48L3BvbHlsaW5lPgogICAgPC9nPgo8L3N2Zz4=","polyline"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 15 9 15 16 28 16"/%3E%3C/g%3E%3C/svg%3E',"step"],['data:image/svg+xml,%3Csvg width="33px" height="30px" viewBox="0 0 33 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"%3E%3Cg id="circle-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square"%3E%3Cpolyline id="Path-2" stroke="%23333333" stroke-width="2" points="5 9 28 16"/%3E%3C/g%3E%3C/svg%3E',"direct"],["data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzNweCIgaGVpZ2h0PSIzMHB4IiB2aWV3Qm94PSIwIDAgMzMgMzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDYzLjEgKDkyNDUyKSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5jaXJjbGUgY29weSAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9ImNpcmNsZS1jb3B5LTIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik03LDUgTDI2LDUgQzI2LjU1MjI4NDcsNSAyNyw1LjQ0NzcxNTI1IDI3LDYgTDI3LDE4LjAzNjg3OTQgQzI3LDE4LjU4OTE2NDIgMjYuNTUyMjg0NywxOS4wMzY4Nzk0IDI2LDE5LjAzNjg3OTQgTDE5LjE4NzUsMTkuMDM2ODc5NCBMMTkuMTg3NSwxOS4wMzY4Nzk0IEwxNi41LDIyIEwxMy44MTI1LDE5LjAzNjg3OTQgTDcsMTkuMDM2ODc5NCBDNi40NDc3MTUyNSwxOS4wMzY4Nzk0IDYsMTguNTg5MTY0MiA2LDE4LjAzNjg3OTQgTDYsNiBDNiw1LjQ0NzcxNTI1IDYuNDQ3NzE1MjUsNSA3LDUgWiIgaWQ9IlJlY3RhbmdsZSIgZmlsbD0iIzMzMzMzMyI+PC9wYXRoPgogICAgPC9nPgo8L3N2Zz4=","popup",function(t){return"none"!==t.subject_type}]]},{property:"point_text",type:"quarter",width:"half",name:"Marker Label",show_if:{subject_type:"point"}},{property:"point_radius",type:"number",width:"half",name:"Marker Radius",step:.25,show_if:{subject_type:"point"}}].concat("Advanced").concat(en);function L8(t){return"polyline"===t.connector_type||"step"===t.connector_type||"direct"===t.connector_type}function C8(t){var n=this;ga(this,C8),this.tooltip=document.body.appendChild(document.createElement("div")),this.tooltip.classList.add("fl-annotations-tip"),this.tooltip.classList.add("hidden"),this.container=t,this.container.addEventListener("mouseover",function(t){var e;t.target.classList.contains("fl-annotations-desc")&&(n.tooltip.classList.remove("hidden"),n.tooltip.textContent=t.target.getAttribute("data-popup-body"),e=t.target.getBoundingClientRect(),t=n.tooltip.getBoundingClientRect(),n.tooltip.style.top=e.top-t.height-4+"px",n.tooltip.style.left=e.left+e.width/2-t.width/2+"px")},!1),this.container.addEventListener("mouseout",function(t){t.target.classList.contains("fl-annotations-desc")&&n.tooltip.classList.add("hidden")},!1)}var O8={annotations:{},annotation_order:[],popup:{},annotation_selected_id:"",defaults:c6.getDefaultSettings()},P8={left:R8("right"),right:R8("left"),top:R8("bottom"),bottom:R8("top"),center:R8("center")},F8=function(){va(N,qM);var z=Ma(N);function N(t,e,n,r){var i,o,a,s,l,c,u,f,d,p,h,g,_;function m(){l.length=0,_=s();for(var t=0;t<_.length;t++){var e=a[_[t]];e&&l.push(e)}var n=u.selectAll("li").data(l,w).join(k).classed("selected",j).on("click",A).on("dragstart",y).on("dragenter",v).on("dragleave",b).on("dragend",x).attr("draggable",!0).attr("data-index",function(t,e){return e}),r=[];n.each(function(t,e){return r.push(e)}),n.select(".text").text(M),T()}function y(){var t=ZM(Ns.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});h=parseInt(t.getAttribute("data-index"),10),Ns.dataTransfer&&Ns.dataTransfer.setDragImage(b8,0,0),u.classed("dragging",!0),g=-1}function v(){Ns.target.classList.add("dropping"),p=Ns.target.hasAttribute("data-above");var t=ZM(Ns.target,function(t){return t.hasAttribute&&t.hasAttribute("data-index")});g=parseInt(t.getAttribute("data-index"),10)}function b(){Ns.target.classList.remove("dropping")}function x(){u.classed("dragging",!1),u.select(".dropping").classed("dropping",!1),-1!==h&&-1!==g&&h!==g&&(g=p?(g-=+(h<g),Math.max(0,g)):(g-=+(h<g),Math.min(g+1,_.length-1)),_.splice(g,0,_.splice(h,1)[0]),o.update())}function w(t){return t.id}function M(t){return t.contents||"(empty annotation)"}function k(t){var e=t.append("li");e.append("span").classed("text",!0),e.append("span").attr("class","icon-pencil icon"),e.append("span").attr("class","icon-clone icon").attr("data-action","clone"),e.append("span").attr("class","icon-trash icon").attr("data-action","delete");t=e.append("div").classed("drop-overlay",!0).attr("draggable",!0);return t.append("div").classed("drop-above",!0).attr("data-above",!0),t.append("div").classed("drop-below",!0).attr("data-below",!0),e}function j(t){return m8.getByID(t.id).selected}function A(t){var e,n,r,i=Ns.target.getAttribute("data-action")||"edit";f!==this&&(d=0,f=this),"delete"===i?(m8.getByID(t.id).destroy(),delete o.state.annotations[t.id],o.update(),o.emit("change",o.state.annotations)):"clone"===i?(e=JSON.parse(JSON.stringify(o.state.annotations[t.id])),n=d6(),r=16*++d,i=o.getPositionFromData(e.position),r=o.getDataFromCursor({target:null,offsetX:i[0]+r,offsetY:i[1]+r},[i[0]+r,i[1]+r]),e.id=n,r&&(e.position=r),o.state.annotations[n]=e,o.state.annotation_order.push(n),o.update(),o.emit("create",o.state.annotations[n]),o.emit("change",o.state.annotations),o.select(n)):o.select(t.id)}function T(){var t=u.node().getBoundingClientRect(),e=c.node().getBoundingClientRect(),t=c.node().scrollTop+e.height>=t.height;c.classed("scroll-end",t)}return ga(this,N),(i=z.call(this)).target=t,i.settings_container=e,i.rendering=!1,i.prev_annotation_ids=[],i.state=Object.assign(n,O8,Object.assign({},n)),i.state.defaults=Object.assign({},i.state.defaults),i.is_user_editable=!!D8,i.source_element=D8&&(r.source_element||function(t,e){t=t.appendChild(document.createElement("button"));t.classList.add("fl-annotations-source-element"),e&&(t.style.marginRight=e[0],t.style.marginTop=e[1]);return t}(e,r.source_offset)),i.add_element=D8&&(r.add_element||function(t,e){t=t.appendChild(document.createElement("a"));t.classList.add("fl-annotations-add-element"),t.textContent="Add/move annotations",e&&(t.style.marginRight=e[0],t.style.marginTop=e[1]);return t}(e,r.add_offset)),i.settings=D8&&w8(e,E8,function(){i.rendering||i.update()}),r.source_element&&!D8&&(r.source_element.style.display="none"),r.add_element&&!D8&&(r.add_element.style.display="none"),i.settings?(i.settings.container.insertBefore(i.add_element,i.settings.container.firstChild),i._updateAnnotationList=(o=wa(i),n=i.settings.container,a=i.state.annotations,s=function(){return i.state.annotation_order},l=[],c=Fs(n).insert("div",":first-child").classed("fl-annotation-list-wrap",!0),u=c.append("ul").classed("fl-annotation-list",!0),f=null,d=0,p=!1,g=h=-1,_=s(),c.node().addEventListener("scroll",T,{passive:!0}),u.on("mouseleave",function(){d=0}),o.on("change",m),m),i.settings_popup=new C8(i.settings.container)):i._updateAnnotationList=function(){},i.getDataFromCursor=r.getDataFromCursor,i.getPositionFromData=r.getPositionFromData,i.filterByData=r.filterByData||function(){return!0},i.filterByPosition=r.filterByPosition||function(){return!0},i.container_svg=t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","svg")),i.container_svg.classList.add("fl-annotations","fl-ignore-svg-download"),i.container=t.appendChild(document.createElement("div")),i.container.classList.add("fl-annotations"),t=i.container_svg,c8=Fs(t).append("defs"),N8(),i.touches=XM(window,{preventSimulated:!1,filtered:!0,target:i.target}),i.touches.on("start",i._onCursorStart=i._onCursorStart.bind(wa(i))),i.touches.on("move",i._onCursorMove=i._onCursorMove.bind(wa(i))),i.touches.on("end",i._onCursorEnd=i._onCursorEnd.bind(wa(i))),i.cursor=new I8(i.container_svg),Y8(wa(i),"_is_editing",[i.container_svg,i.container,e],"is-editing",!1),Y8(wa(i),"_is_edit_settings",[i.container_svg,i.container,e],"is-edit-settings",!1),Y8(wa(i),"_is_edit_add",[i.container_svg,i.container,e],"is-edit-add",!1),Y8(wa(i),"_is_dragging",[i.container_svg,i.container,e],"is-dragging",!1),i._is_dragging_beneath=!1,i._drag_start_time=Date.now(),i._drag_start_position=[0,0],i._is_cursor_down=!1,i._dragging_id="",i._clicking_id="",i._prev_dragging_id="",i._prev_selected_id="",i._edit_mode="settings",i._ignore_next_mouseup=!1,i._getByID=m8.getByID.bind(wa(i)),i.update(),i}return ma(N,[{key:"isEditing",value:function(){return this._is_editing}},{key:"isDragging",value:function(){return this._is_dragging}},{key:"_onCursorStart",value:function(t,e){var n,r,i,o=this._findupAnnotation(t.target),a=this._findupEditorButton(t.target);this._findupEditor(t.target)&&!a||this._findupLink(t.target)||(i=!!a,n=!!o,this._is_dragging=!1,this._is_dragging_beneath=!1,this._dragging_id="",this._drag_start_time=Date.now(),this._drag_start_position[0]=e[0],this._drag_start_position[1]=e[1],i?(r=a===this.source_element,i=a===this.add_element,a=!this._is_editing||r&&"add"===this._edit_mode||i&&"settings"===this._edit_mode,this._is_editing=a,this._is_editing?(this.target.classList.add("fl-disable-selection"),r?this.setEditMode("settings"):i&&this.setEditMode("add")):(this.target.classList.remove("fl-disable-selection"),this.select(null),this.setEditMode(null)),this._ignore_next_mouseup=!0,this.render(),t.preventDefault()):n&&(o=o.getAttribute("data-annotation-id"),this._dragging_id=o,document.body.classList.add("fl-disable-selection"),this._is_editing&&m8.getByID(o).onDragStart(t,e),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations)))}},{key:"_onCursorMove",value:function(t,e){var n,r,i=this._is_editing&&!this._dragging_id,o=this._is_editing&&!this._is_dragging_beneath,a=this._dragging_id&&this._is_dragging;i&&this._setCursorPosition(t,e),o?(n=e[0]-this._drag_start_position[0],o=e[1]-this._drag_start_position[1],n=Math.sqrt(n*n+o*o),o=Date.now()-this._drag_start_time,this._is_dragging_beneath=!D8||300<o||25<n,this._is_dragging=this._is_dragging_beneath&&!i):a&&(a=m8.getByID(this._dragging_id),this._is_editing&&!1!==a.onDragMove(t,e)&&(r=this.getDataFromCursor(t,e)||null)&&this.getPositionFromData(r)&&(this.state.annotations[this._dragging_id].position=r),this.render(),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))}},{key:"_onCursorEnd",value:function(t,e){if(!this._findupLink(t.target)){var n=this._findupEditor(t.target)||this._findupEditorButton(t.target)||this._ignore_next_mouseup;if(this.target!==document.body&&document.body.classList.remove("fl-disable-selection"),n)return this._ignore_next_mouseup=!1,this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),void this._setCursorPosition(t,e);if(this._dragging_id)this._is_dragging&&this._is_editing?(n=m8.getByID(this._dragging_id),this._is_editing&&!1!==n.onDragMove(t,e)&&((n=this.getDataFromCursor(t,e)||null)&&this.getPositionFromData(n)&&(this.state.annotations[this._dragging_id].position=n),this.emit("update",this.state.annotations[this._dragging_id]),this.emit("change",this.state.annotations))):this._is_dragging||this.select(this._dragging_id),this._dragging_id="",this._is_dragging=!1,this._is_dragging_beneath=!1,this.render(),this._setCursorPosition(t,e);else if(!this._is_dragging_beneath&&this._is_editing&&this.isEditMode("add")){e=this.getDataFromCursor(t,e);if(e){t=this._findupAnnotation(t.target);if(t)return this.select(t.getAttribute("data-annotation-id"));e=this._createAnnotation(e);this.setEditMode("settings"),this.select(e),this.update(),this.emit("create",this.state.annotations[e]),this.emit("change",this.state.annotations)}}else this._is_dragging_beneath||this.select(null)}}},{key:"select",value:function(t){this.state.annotation_selected_id=t,this._prev_selected_id!==t&&(this._prev_selected_id=t,this.state.annotations[t]&&(this.emit("select",this.state.annotations[t]),this.emit("change",this.state.annotations))),this.render()}},{key:"update",value:function(){this._clearRemovedAnnotations(),this.render(),this._updateAnnotationList(this.state.annotations)}},{key:"_clearRemovedAnnotations",value:function(){for(var e=this,t=0;t<this.prev_annotation_ids.length;t++){var n=this.prev_annotation_ids[t];n in this.state.annotations||(n=m8.getByID(n))&&n.destroy()}this.prev_annotation_ids=Object.keys(this.state.annotations);for(var r,i=this.state.annotation_order.filter(function(t){return t in e.state.annotations}),t=0;t<i.length;t++)this.state.annotation_order[t]=i[t];for(r in this.state.annotation_order.length=i.length,this.state.annotations)Object.hasOwnProperty.call(this.state.annotations,r)&&-1===this.state.annotation_order.indexOf(r)&&this.state.annotation_order.push(r)}},{key:"render",value:function(){var t;this.rendering=!0,D8&&(t=this.isEditMode("settings"),this.settings.setVisible(t),this.settings.setActive(t&&this.state.annotation_selected_id&&this.prev_annotation_ids.length)),this._renderMarkers(),this.rendering=!1}},{key:"isEditMode",value:function(t){return this._is_editing&&(!h6()||this._edit_mode===t)}},{key:"setEditMode",value:function(t){var e=!h6();this._edit_mode=t,this._is_edit_settings=e||"settings"===t,this._is_edit_add=e||"add"===t}},{key:"_renderMarkers",value:function(){for(var t in this.state.annotations){var e=m8.getByID(t),n=this.state.annotations[t].subject_type,e=e||new v8[n](t,this.state.annotations[t],this.container,this.container_svg),r=this.state.annotations[t].position;!!r&&this.filterByData(r)&&!!(r=this.getPositionFromData(r))&&this.filterByPosition(r)&&("all"==(n=(n=this.state.annotations[t]).device_visibility)||("mobile"==n?h6():"desktop"!=n||!h6()))?((e=e.ofType(v8[this.state.annotations[t].subject_type])).state.origin[0]=r[0],e.state.origin[1]=r[1],e.editable=this._is_editing,e.update(),e.setActive(!0)):e.setActive(!1),t!==this.state.annotation_selected_id&&e.setSelected(!1)}var i,o,a,s=m8.getByID(this.state.annotation_selected_id);s?(A8.container(this.target),s.setSelected(!0),this.emit("update",this.state.annotations[this.state.annotation_selected_id]),this.emit("change",this.state.annotations),D8&&this.settings.render(this.state.annotations[this.state.annotation_selected_id]),i=s.settings,o=s.element,"popup"===s.getConnectorType()?(z8.font_size=y8(i.text_size),z8.text_color=i.text_color,z8.fill_color=i.popup_bg,a=x6(i.contents),"bold"==i.text_weight&&(a="<strong>"+a+"</strong>"),o=o.parentNode.getBoundingClientRect(),a={html:a},s=s.getPopupPosition(i.popup_position),A8.directions(P8[i.popup_position]),A8.point(i.view.origin[0]+s[0]+o.left,i.view.origin[1]+s[1]+o.top),A8.draw(a)):A8.hide()):A8.hide()}},{key:"_setCursorPosition",value:function(t,e){var n=this.getDataFromCursor(t,e)||null,r=n&&this.getPositionFromData(n),n=this._findupAnnotation(t.target);this.cursor.pos[0]=(r||e)[0],this.cursor.pos[1]=(r||e)[1],this.cursor.flag_editing=this.isEditMode("add"),this.cursor.flag_over_annotation_node=!!n,this.cursor.flag_inside_add_button=!!this._findupEditorButton(t.target),this.cursor.flag_inside_settings_panel=!!this._findupEditor(t.target),this.cursor.flag_can_place=!!r,this.cursor.update()}},{key:"_createAnnotation",value:function(t){var e=d6(),n=this.state.annotations[e]=new c6(t,this.state.defaults);this.state.annotation_order.push(e),n.id=e;t=n.subject_type;return new v8[t](e,n,this.container,this.container_svg),this.prev_annotation_ids.push(e),this.render(),e}},{key:"_findupAnnotation",value:function(t){return ZM(t,function(t){return t.hasAttribute&&t.hasAttribute("data-annotation-id")})}},{key:"_findupEditor",value:function(t){return D8&&ZM(t,this.settings.root)}},{key:"_findupEditorButton",value:function(t){var e=this;return D8&&ZM(t,function(t){return t===e.source_element||t===e.add_element})}},{key:"_findupLink",value:function(t){return!this._is_editing&&ZM(t,function(t){return t&&"A"===(t.nodeName||"").toUpperCase()})}}]),N}();function Y8(t,e,n,r,i){function o(){if(i)for(var t=0;t<n.length;t++)n[t].classList.add(r);else for(t=0;t<n.length;t++)n[t].classList.remove(r)}n=Array.isArray(n)?n:[n],o(),Object.defineProperty(t,e,{get:function(){return i},set:function(t){i!==(t=!!t)&&(i=t,o())}})}function R8(t){var e=["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"];return"center"!==t&&(e.splice(e.indexOf(t),1),e.unshift(t)),e}function U8(t,e,n){var r=e[e.length-1]-e[0],t=(t-=e[0])/r,r=n.length;return{id:n[Math.floor(t*r)],offset:t*r%1-.5,ordinal:!0}}function B8(t,e){return t.invert?"number"!=typeof e[0]?"date":"number":"ordinal"}function H8(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}F8.chartLayout=function(t,e,n,r){var u;return r=Object.assign({},r||{},{getDataFromCursor:function(t,e){for(var n in u){var r=u[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y,a=r.x_range[1]-r.x_range[0],s=r.y_range[0]-r.y_range[1],l=(i-r.x_range[0])/a,c=(o-r.y_range[1])/s,a=B8(r.x_scale,r.x_domain),s=B8(r.y_scale,r.y_domain),i="ordinal"!=a?r.x_scale.invert(i):U8(i,r.x_range,r.x_domain),r="ordinal"!=s?r.y_scale.invert(o):U8(o,r.y_range,r.y_domain);return{facet_id:n,x:i,y:r,x_fallback:l,y_fallback:c,x_type:a,y_type:s}}}},getPositionFromData:function(t){var e=u[t.facet_id];if(e){var n=B8(e.x_scale,e.x_domain),r=B8(e.y_scale,e.y_domain);return n=n==t.x_type?"ordinal"==t.x_type?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:e.x_scale(t.x):t.x_fallback*(e.x_range[1]-e.x_range[0])+e.x_range[0],t=r==t.y_type?"ordinal"==t.y_type?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:e.y_scale(t.y):t.y_fallback*(e.y_range[0]-e.y_range[1])+e.y_range[1],[e.x+n,e.y+t]}}}),new(function(){va(e,F8);var t=Ma(e);function e(){return ga(this,e),t.apply(this,arguments)}return ma(e,[{key:"update",value:function(l){u=Object.keys(l||{}).reduce(function(t,e){var n,r,i,o,a,s;return t[e]=(n=l[e],r=n.xScale({global:!0}),i=n.yScale({global:!0}),o=r.range(),a=i.range(),s=r.domain(),e=i.domain(),{x:n.offsetLeft(),y:n.offsetTop(),x_scale:r,y_scale:i,x_range:o,y_range:a,x_domain:s,y_domain:e}),t},{}),ka(ba(e.prototype),"update",this).call(this)}}]),e}())(t,e,n,r)};var Z8={curveNatural:L3,curveLinear:m3};function G8(e,n){function t(t){return e*t+n}return t.m=e,t.c=n,t}function q8(t){return"translate("+t.layout.x+","+t.layout.y+")"}function Q8(a,s,n){var t=a.facets.length&&"number"===a.facets[0].x_type&&"number"===a.facets[0].y_type,t="none"!=D2.fit_type&&t,t=Fs(".fits").selectAll(".fit").data(t?a.facets:[],function(t){return t.key});t.enter().append("g").attr("class","fit").attr("transform",q8).merge(t).each(function(t){var e,M=t.scales.x,k=t.scales.y,j=rl(M.range()),A=nl(M.range()),T=rl(k.range()),z=nl(k.range()),N=b3().x(function(t){return M(t.x)}).y(function(t){return k(t.y)}),n=D2.fit_type,r="all"===n||"color"===n?a.data_points:t.values;{var i;"all"!==n&&"chart"!==n&&t.color_domain.length&&"string"===a.data_points.color_type?(e=a.data_points.color_domain.map(function(){return[]}),i=a.data_points.color_domain.reduce(function(t,e,n){return t[e]=n,t},{}),r.forEach(function(t){e[i[t.color]].push(t)})):e=[r]}t=Fs(this).selectAll("path").data(e),r=t.enter().append("path").style("fill","none").attr("d",function(t){return o(t,!0)});function o(t,e){var n,r,i,o,a,s,l,c,u,f,d,p,h=(n=t,r=D2.fit_force_origin,(n=(p=n.filter(function(t){return!isNaN(t.x)&&!isNaN(t.y)})).length)<(r?1:2)?null:(p=r?(a=o=0,p.forEach(function(t){o+=t.x*t.x,a+=t.x*t.y}),i=a/o,0):(d=f=u=c=0,p.forEach(function(t){c+=t.x,u+=t.y}),s=c/n,l=u/n,p.forEach(function(t){var e=t.x-s,t=t.y-l;f+=e*t,d+=e*e}),l-(i=f/d)*s),G8(i,p)));if(h&&Math.abs(h.c)!==1/0){var g=[];if("log"!=D2.x.numeric_scale_type&&"log"!=D2.y.numeric_scale_type){var _,m,y,t=isFinite(h.m)?(_=j,m=k(h(M.domain()[0])),y=A,k(h(M.domain()[1]))):(_=y=M(t[0].x),m=T,z);return e?"M "+_+","+m+" L "+_+","+m:"M "+_+","+m+" L "+y+","+t}for(var v=M.domain(),b=(v[1]-v[0])/1e3,x=v[0];x<=v[1];){var w=h(x);(0<w||"log"!=D2.y.numeric_scale_type)&&g.push({x:x,y:w}),x+=b}return N(e?g.slice(0,1):g)}}t.merge(r).transition().duration(s?0:1e3*D2.animation_duration).style("stroke-width",H8(D2.fit_line_width)+"px").attr("stroke-dasharray",0<D2.fit_line_dash?D2.fit_line_dash+" "+D2.fit_line_dash:null).attr("stroke",function(t){return!("all"===n||"chart"===n||"string"!==a.data_points.color_type)&&t[0]?a3(t[0].color):D2.fit_line_color}).attr("d",function(t){return o(t)}),t.exit().remove()}).attr("clip-path",function(t,e){return"url(#facet-clip-"+e+"-plot-"+n+")"}).transition().duration(s?0:D2.animation_duration).attr("transform",q8),t.exit().transition().duration(s?0:1e3*D2.animation_duration/2).attr("opacity",0).remove()}$t({target:"Object",stat:!0},{fromEntries:function(t){var n={};return rg(t,function(t,e){Da(n,t,e)},{AS_ENTRIES:!0}),n}});var W8=Fe.entries;function V8(t){var e=[],n=[];return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}$t({target:"Object",stat:!0},{entries:function(t){return W8(t)}});var X8=Array.isArray;function $8(t){return t}function J8(n){return{prop:function(t,e){Object.defineProperty(n,t,{value:e,enumerable:!0})},getter:function(t,e){Object.defineProperty(n,t,{get:e,enumerable:!0})},method:function(t,e){Object.defineProperty(n,t,{value:e})}}}function K8(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=n),n+=1,t},{})}function tk(t,e){var n=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=n++,t},{})}function ek(t,e,n,r){var i,o,a,s,l,c="dense"===r?(l=1,e[n?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=l++),t},{})):"fractional"===r?(a=K8(i=e,o=n),s=tk(i,o),Object.keys(a).reduce(function(t,e){return t[e]=(a[e]+s[e])/2,t},{})):("worst"===r?tk:K8)(e,n),r="ordinal"===r?function(t){return c[t]++}:function(t){return c[t]};return t.map(r)}function nk(n){return n=n||Math.random,function(t,e){e=e-t+1;return Math.floor(n()*e)+t}}function rk(t,e){return t[nk(e)(0,t.length-1)]}function ik(t,e,n,r){var i=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=nk(r);if(n||1===e){for(var a=[],s=0;s<e;s++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),s=0;s<l;s++){var c,u,f=o(s,i-1);f!==s&&(c=a[f],u=a[s],a[s]=c,a[f]=u)}return a.length=l,a}function ok(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function ak(e,t){return X8(t)?t.map(function(t){return el(e,t)}):el(e,t)}function sk(t,e,r){r=r||$8;var i=1/0,o=-1/0,a=null,s=0,l=[],c=Object.freeze(e.reduce(function(t,e,n){e=r(e);return"number"!=typeof e||isNaN(e)?l.push(n):(t.push(e),i=Math.min(i,e),o=Math.max(o,e),s+=e),t},[])),e=J8(t);return e.prop("enhanced_array",!0),e.prop("numeric_array",!0),e.prop("values",c),e.prop("min",c.length?i:null),e.prop("max",c.length?o:null),e.prop("sum",s),e.prop("mean",c.length?s/c.length:null),e.prop("range",c.length?o-i:null),e.prop("length",c.length),e.prop("dropped_indexes",Object.freeze(l)),e.method("extent",function(){return[this.min,this.max]}),e.getter("sorted_values",function(){var e,n;return a||(n=-1/0,c.every(function(t){if(n<=t)return n=t,!0})&&(a=c),e=1/0,a=c.every(function(t){if(t<=e)return e=t,!0})?Object.freeze(c.slice().reverse()):Object.freeze(c.slice().sort(Rs))),a}),t}var lk,ck,uk,fk,dk,pk=(uk=J8(ck={}),(lk=uk).method("unsorted",function(){return this.values.slice()}),lk.method("ascending",function(){return this.sorted_values.slice()}),lk.method("descending",function(){return this.sorted_values.slice().reverse()}),lk.method("unique",function(){return V8(this.values)}),lk.method("uniqueAscending",hk),lk.method("uniqueDescending",function(){return hk().reverse()}),(lk=uk).getter("variance",function(){return Qs(this.values)}),lk.getter("sd",function(){return Math.sqrt(this.variance)}),lk.getter("median",function(){return ak(this.sorted_values,.5)}),lk.getter("iqr",function(){var t=ak(this.sorted_values,[.25,.75]);return t[1]-t[0]}),lk.method("quantiles",function(t){return ak(this.sorted_values,t)}),lk.method("quartiles",function(){return ak(this.sorted_values,[.25,.5,.75])}),(lk=uk).method("random",function(t){return rk(this.values,t)}),lk.method("sample",function(t,e,n){return ik(this.values,t,e,n)}),uk.method("rank",function(t,e){return ek(this.values,this.sorted_values,t,e)}),uk.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return ok(t=t||this.values,this.dropped_indexes,NaN)}),ck);function hk(){return V8(this.sorted_values)}function gk(){return V8(this.sorted_values)}function _k(t){return t}function mk(t,e){return Array.isArray(t)?(n=t,r=e=e||_k,sk(e=Object.create(pk),n,r),e):t;var n,r}(fk=dk=J8(fk={})).method("unsorted",function(){return this.values.slice()}),fk.method("ascending",function(){return this.sorted_values.slice()}),fk.method("descending",function(){return this.sorted_values.slice().reverse()}),fk.method("unique",function(){return V8(this.values)}),fk.method("uniqueAscending",gk),fk.method("uniqueDescending",function(){return gk().reverse()}),(fk=dk).method("random",function(t){return rk(this.values,t)}),fk.method("sample",function(t,e,n){return ik(this.values,t,e,n)}),dk.method("rank",function(t,e){return ek(this.values,this.sorted_values,t,e)}),dk.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return ok(t=t||this.values,this.dropped_indexes)});M6={name:"biweight",kernel:function(t){return Math.abs(t)<1?.9375*Math.pow(1-t*t,2):0},delta:Math.pow(35,.2)},i=Math.pow(Math.PI,2),Kt=Math.pow(1/6-1/i,2);e={name:"cosine",kernel:function(t){return Math.abs(t)<.5?1+Math.cos(2*Math.PI*t):0},delta:Math.pow(6/Kt,.2)};var en={name:"epanechnikov",kernel:function(t){return Math.abs(t)<1?.75*(1-t*t):0},delta:Math.pow(15,.2)},yk=1/Math.sqrt(2*Math.PI);Fe={name:"gaussian",kernel:function(t){return yk*Math.exp(-.5*t*t)},delta:Math.pow(1/(4*Math.PI),.1)};i={name:"parzen",kernel:function(t){return 1<=(t=Math.abs(t))?0:.5<t?8/3*Math.pow(1-t,3):8*(1/6-Math.pow(t,2)+Math.pow(t,3))},delta:2*Math.pow(151/35,.2)};Kt={name:"triangular",kernel:function(t){return(t=Math.abs(t))<1?1-t:0},delta:Math.pow(24,.2)};var vk={biweight:M6,cosine:e,epanechnikov:en,gaussian:Fe,parzen:i,triangular:Kt,triweight:{name:"triweight",kernel:function(t){return Math.abs(t)<1?35/32*Math.pow(1-t*t,3):0},delta:Math.pow(9450/143,.2)},uniform:{name:"uniform",kernel:function(t){return Math.abs(t)<1?.5:0},delta:Math.pow(4.5,.2)}},bk=Math.pow(8*Math.sqrt(Math.PI)/3,.2);function xk(t,e){return e.delta*bk*Math.min(t.sd,t.iqr/1.34)*Math.pow(t.length,-.2)}function wk(t){return t.facet_index+"-"+t.category}function Mk(t){var e=Math.pow(10,3);return Math.round(t*e)/e}var kk;function jk(t,e){t=e.facets[t.facet_index];return"translate("+t.layout.x+","+t.layout.y+")"}function Ak(e,t,n,r,i){var o,a=e.facets[r.facet_index],s="vertical"==t?a.scales[r.category_col]:a.scales[r.value_col],l="vertical"==t?a.scales[r.value_col]:a.scales[r.category_col],n=Fs(n),c=void 0===i;(s||l)&&(n.transition("style").duration(i||0).style("opacity",1).attr("fill",D2.box_color).attr("fill-opacity",D2.box_opacity).attr("stroke",D2.box_line_color).attr("stroke-width",H8(D2.box_line_width)).attr("transform",function(t){return jk(t,e)}),o=("vertical"==t?s:l).step()*(D2.violin_plot?.1:.5),D2.violin_plot||(o=Math.min(o,30)),"vertical"==t?n.transition().duration(i||0).attr("x",function(t){return s(t.category)-(c?0:o/2)}).attr("y",function(t){return l(t.top)}).attr("height",function(t){return l(t.bottom)-l(t.top)}).attr("width",c?0:o):n.transition().duration(i||0).attr("x",function(t){return s(t.bottom)}).attr("y",function(t){return l(t.category)-(c?0:o/2)}).attr("height",c?0:o).attr("width",function(t){return s(t.top)-s(t.bottom)}))}function Tk(e,a,t,n,r){var i=e.facets[n.facet_index],s="vertical"==a?i.scales[n.category_col]:i.scales[n.value_col],l="vertical"==a?i.scales[n.value_col]:i.scales[n.category_col],t=Fs(t),c=void 0===r;t.transition("style").duration(r||0).style("opacity",1).attr("stroke",D2.box_line_color).attr("stroke-width",H8(D2.box_line_width)).attr("transform",function(t){return jk(t,e)}),t.transition().duration(r||0).attr("d",function(t){if(s||l){var e="",n=c?0:("vertical"==a?s:l).step()*(D2.violin_plot?.05:.25);D2.violin_plot||(n=Math.min(n,15));var r=D2.violin_plot?0:n,i="tukey"==D2.box_whisker_type?t.whisker_tukey_bottom:t.whisker_bottom,o="tukey"==D2.box_whisker_type?t.whisker_tukey_top:t.whisker_top;return"vertical"==a?(e+="M "+(s(t.category)-r)+","+l(o),e+=" L "+(s(t.category)+r)+","+l(o),e+=" M "+s(t.category)+","+l(o),e+=" L "+s(t.category)+","+l(t.top),e+=" M "+(s(t.category)-r)+","+l(i),e+=" L "+(s(t.category)+r)+","+l(i),e+=" M "+s(t.category)+","+l(i),e+=" L "+s(t.category)+","+l(t.bottom),e+=" M "+(s(t.category)-n)+","+l(t.mid),e+=" L "+(s(t.category)+n)+","+l(t.mid)):(e+="M "+s(o)+","+(l(t.category)-r),e+=" L "+s(o)+","+(l(t.category)+r),e+=" M "+s(o)+","+l(t.category),e+=" L "+s(t.top)+","+l(t.category),e+=" M "+s(i)+","+(l(t.category)-r),e+=" L "+s(i)+","+(l(t.category)+r),e+=" M "+s(i)+","+l(t.category),e+=" L "+s(t.bottom)+","+l(t.category),e+=" M "+s(t.mid)+","+(l(t.category)-n),e+=" L "+s(t.mid)+","+(l(t.category)+n)),e}})}function zk(e,i,t,n,o,r){var a,s,l=e.facets[n.facet_index],c="vertical"==i?l.scales[n.category_col]:l.scales[n.value_col],u="vertical"==i?l.scales[n.value_col]:l.scales[n.category_col],f=void 0===r;(c||u)&&(a=o.max_density||1,s=("vertical"==i?x3().x0(function(t){var e=f?0:l.scales.w/l.scales.x.domain().length;return Mk(t.density*e*.25/a+t.x_offset)}).x1(function(t){var e=f?0:l.scales.w/l.scales.x.domain().length;return Mk(-t.density*e*.25/a+t.x_offset)}).y(function(t){return Mk(l.scales.y(t.input))}):x3().y0(function(t){var e=f?0:l.scales.h/l.scales.y.domain().length;return Mk(t.density*e*.25/a+t.y_offset)}).y1(function(t){var e=f?0:l.scales.h/l.scales.y.domain().length;return Mk(-t.density*e*.25/a+t.y_offset)}).x(function(t){return Mk(l.scales.x(t.input))})).curve(L3),Fs(t).transition().duration(r||0).attr("transform",function(t){return jk(t,e)}).attr("opacity",D2.violin_opacity).attr("fill",D2.violin_color).attr("d",function(t){for(var e="vertical"==i?"x_offset":"y_offset",n="vertical"==i?c:u,r=0;r<o.length;r++)o[r][e]=n(t.category);return s(o)}))}function Nk(i,n,t){var e=D2.violin_plot?i.boxes:[],r=Fs("#graphic .violins").selectAll(".violin").data(e,wk),o=e.map(function(t){return n=t.values,h=mk(n,r),g=vk.gaussian,y=_=null,v=!(m=2500),e.bandwidth=function(t){return void 0===t?_:(_=t,e)},e.domain=function(t){return void 0===t?y&&y.slice():(y=t,e)},e.filter=function(t){return void 0===t?v:(v=!0===t?0:t,e)},e.kernel=function(t){return void 0===t?g.name:(g=vk[t],e)},e.steps=function(t){return void 0===t?m:(m=t,e)},e.defaultBandwidth=function(){return xk(h,g)},e.steps(D2.violin_samples-1).domain(i.facets[t.facet_index].scales[t.value_col].domain());function e(){for(var e,n,t=_||xk(h,g),r=y?y[0]:h.min,i=y?y[1]:h.max,o=(i-r)/m,a=h.length,s=[],l=0,c=r;c<=i;c+=o){for(var u=h.values,f=-1,d=0;++f<a;)d+=g.kernel((c-u[f])/t);var p=d/t/a,l=Math.max(l,p);s.push({input:c,density:p})}return!v&&0!==v||(e=h.min,n=h.max,s=s.filter(function(t){return t.input>=e&&t.input<=n||t.density>v})),s.max_density=l,s}var n,r,h,g,_,m,y,v}),a=1;e.length&&(a=D2.violin_bandwidth||function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=qs(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=qs(e(t[i],i,t)))||o.push(n);return el(o.sort(Rs),.5)}(o.map(function(t){return t.defaultBandwidth()})));var s,l=o.map(function(t){return t.bandwidth(a)()}),c=l.map(function(t){return t.reduce(function(t,e){return Math.max(t,e.density)},0)});"area"===D2.violin_sizing?(s=Math.max.apply(null,c),l.forEach(function(t){t.max_density=s})):l.forEach(function(t,e){t.max_density=c[e]});var o=r.enter().append("path").attr("class","violin").attr("pointer-events","none").each(function(t,e){zk(i,n,this,t,l[e])}),o=r.merge(o),u=t?0:1e3*D2.animation_duration;o.each(function(t,e){zk(i,n,this,t,l[e],u)}),r.exit().transition().duration(u).style("opacity",0).remove()}function Dk(t,e){var n,r,i,o,a,s,l="x"==t.boxes.category_col?"vertical":"horizontal";!function(e,n,t){var r=D2.box_plot?e.boxes:[],i=Fs("#overlay .boxes").selectAll(".box").data(r,wk),o={bottom:"First quartile",mid:"Median",top:"Third quartile"};"vertical"===n&&(o=Object.fromEntries(Object.entries(o).reverse()));var r=i.enter().append("rect").attr("class","box").each(function(t){Ak(e,n,this,t)}).on("mouseover",function(t){C5.setColumnNames(o).mouseover(this,Q5(t)),Ns.stopPropagation()}).on("mouseout",function(){C5.locked()||(C5.mouseout(),W5())}),r=i.merge(r),a=t?0:1e3*D2.animation_duration;r.attr("id",function(t,e){return"box-"+e}).on("click",function(t,e){e="box-"+e;C5.setColumnNames(o).click(this,Q5(t),e)}).each(function(t){Ak(e,n,this,t,a)}),i.exit().transition().duration(a).style("opacity",0).remove()}(t,l,e),n=t,r=l,i=e,o=D2.box_plot?n.boxes:[],a=Fs("#overlay .boxes").selectAll(".whisker").data(o,wk),o=a.enter().append("path").attr("class","whisker").attr("pointer-events","none").each(function(t){Tk(n,r,this,t)}),o=a.merge(o),s=i?0:1e3*D2.animation_duration,o.each(function(t){Tk(n,r,this,t,s)}),a.exit().transition().duration(s).style("opacity",0).remove(),Nk(t,l,e)}function Ik(){this._valueAccessor=function(t){return t.value},this._idAccessor=function(t){return t.id},this._min=null,this._max=null,this._closestTo0=null,this.size=0,this._idToNode={}}function Sk(){var o,a,i,s,l,t,c,u,f,d,p,h,e=[],n=4,g="horizontal",r="symetric",_=function(t){return t.x};function m(){}function y(t,e,n){return null===e||("prev"===n?t.value-e.value>o:e.value-t.value>o)?null:isFinite(e.datum.free)?e.datum:y(t,e[n],n)}function v(t,e,n,r){null===e||("prev"===n?t.value-e.value>o:e.value-t.value>o)||(r.push(e.datum),v(t,e[n],n,r))}function b(t){return"symetric"===r||("positive"===r?0<=t.free:t.free<=0)}function x(t,e){return Math.abs(t.free)<Math.abs(e)}function w(t,e,n){return null!==e&&(!("prev"===n?t.free-e.datum.free>o:e.datum.free-t.free>o)&&(r=t,i=e.datum,d++,Math.pow(i.free-r.free,2)+Math.pow(i.fixed-r.fixed,2)<a||w(t,e[n],n)));var r,i}function M(t,e){return w(t,e,"prev")||w(t,e,"next")}return m.data=function(t){return arguments.length?(e=t,m):e},m.radius=function(t){return arguments.length?(n=t,m):n},m.orientation=function(t){return arguments.length?("horizontal"!==t&&"vertical"!==t||(g=t),m):g},m.side=function(t){return arguments.length?("symetric"!==t&&"positive"!==t&&"negative"!==t||(r=t),m):r},m.distributeOn=function(t){return arguments.length?(_=t,m):_},m.arrange=function(){return t=e.map(function(t,e){return{datum:t,id:e,fixed:_(t),free:-1/0}}),o=2*n,a=Math.pow(o,2),i=(new Ik).valueAccessor(function(t){return t.fixed}).addMany(t),s=(new Ik).valueAccessor(function(t){return t.fixed}),l=(new Ik).valueAccessor(function(t){return t.free}),c=u=0,d=p=h=f=0,t.forEach(function(e){var n,r=-1/0,t=function(t){var e=[],n=i.dln(t),r=y(n,n.prev,"prev"),t=y(n,n.next,"next");null!=r&&v(n=s.dln(r),n,"prev",e);null!=t&&v(n=s.dln(t),n,"next",e);c+=e.length,u<e.length&&(u=e.length);return e}(e);0===t.length?r=0:(l.empty(),l.addMany(t),e.free=0,M(e,l.closestTo0())?t.forEach(function(t){n=Math.sqrt(a-Math.pow(e.fixed-t.fixed,2))+1e-6,e.free=t.free-n,b(e)&&x(e,r)&&!M(e,l.dln(t))&&(r=e.free),p+=d,h<d&&(h=d),d=0,f+=1,e.free=t.free+n,b(e)&&x(e,r)&&!M(e,l.dln(t))&&(r=e.free),p+=d,h<d&&(h=d),d=0,f+=1}):(p+=d,h<d&&(h=d),d=r=0,f+=1)),e.free=r,"horizontal"===g?(e.x=e.fixed,e.y=r):(e.x=r,e.y=e.fixed),s.add(e)}),t},m.metrics=function(){return{totalPossibleColliders:c,maxPossibleColliders:u,totalTestedPlacements:f,visitedColliderCount:d,totalVisitedColliders:p,maxVisitedColliders:h}},m}$t({target:"String",proto:!0,forced:sy("fixed")},{fixed:function(){return R2(this,"tt","","")}}),Ik.prototype.valueAccessor=function(t){return arguments.length?(this._valueAccessor=t,this):this._valueAccessor},Ik.prototype.idAccessor=function(t){return arguments.length?(this._idAccessor=t,this):this._idAccessor},Ik.prototype.min=function(){return this._min},Ik.prototype.max=function(){return this._max},Ik.prototype.closestTo0=function(){return this._closestTo0},Ik.prototype.dln=function(t){return this._idToNode[this._idAccessor(t)]},Ik.prototype.empty=function(){return this._min=null,this._max=null,this._closestTo0=null,this.size=0,this._idToNode={},this},Ik.prototype.add=function(t){var e={datum:t,value:this._valueAccessor(t),prev:null,next:null};if(0===this.size)this._min=this._max=this._closestTo0=e;else{if(e.value<=this._min.value)e.next=this._min,e.next.prev=e,this._min=e;else if(e.value>=this._max.value)e.prev=this._max,e.prev.next=e,this._max=e;else{for(var n=this._max;n.value>e.value;)n=n.prev;e.prev=n,e.next=n.next,(e.next.prev=e).prev.next=e}Math.abs(e.value)<Math.abs(this._closestTo0.value)&&(this._closestTo0=e)}return this._idToNode[this._idAccessor(t)]=e,this.size++,this},Ik.prototype.addMany=function(t){return t.forEach(function(t,e){this.add(t)},this),this},Ik.prototype.remove=function(t){var e,n,r=this.dln(t);return 1===this.size?this._min=this._max=this._closestTo0=null:(r===this._closestTo0&&(null===this._closestTo0.next||null===this._closestTo0.prev?this._closestTo0=r.prev:(e=Math.abs(this._closestTo0.prev.value),n=Math.abs(this._closestTo0.next.value),this._closestTo0=e<n?this._closestTo0.prev:this._closestTo0.next)),r===this._min?(this._min=this._min.next,this._min.prev=null):r===this._max?(this._max=this._max.prev,this._max.next=null):(r.next.prev=r.prev,r.prev.next=r.next)),delete this._idToNode[this._idAccessor(t)],r=null,this.size--,this};var Ek={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},Lk=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Ck(t){return 48<=t&&t<=57}function Ok(t){this.index=0,this.path=t,this.max=t.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function Pk(t){for(;t.index<t.max&&(10===(e=t.path.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=Lk.indexOf(e));)t.index++;var e}function Fk(t){var e=t.path[t.segmentStart],n=e.toLowerCase(),r=t.data;if("m"===n&&2<r.length&&(t.result.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.result.push([e].concat(r));else for(;r.length>=Ek[n]&&(t.result.push([e].concat(r.splice(0,Ek[n]))),Ek[n]););}function Yk(t){var e,n,r,i,o,a,s,l,c=t.max;if(t.segmentStart=t.index,n=97==(32|(e=t.path.charCodeAt(t.index))),function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return 1}}(e))if(i=Ek[t.path[t.index].toLowerCase()],t.index++,Pk(t),t.data=[],i){for(r=!1;;){for(o=i;0<o;o--){if(!n||3!==o&&4!==o?function(t){var e,n,r=t.index,i=r,o=t.max,a=!1,s=!1,l=!1;if(o<=i)t.err="SvgPath: missed param (at pos "+i+")";else if(Ck(n=43===(n=t.path.charCodeAt(i))||45===n?++i<o?t.path.charCodeAt(i):0:n)||46===n){if(46!==n){if(e=48===n,n=++i<o?t.path.charCodeAt(i):0,e&&i<o&&n&&Ck(n))return t.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")";for(;i<o&&Ck(t.path.charCodeAt(i));)i++,a=!0;n=i<o?t.path.charCodeAt(i):0}if(46===n){for(l=!0,i++;Ck(t.path.charCodeAt(i));)i++,s=!0;n=i<o?t.path.charCodeAt(i):0}if(101===n||69===n){if(l&&!a&&!s)return t.err="SvgPath: invalid float exponent (at pos "+i+")";if(43!==(n=++i<o?t.path.charCodeAt(i):0)&&45!==n||i++,!(i<o&&Ck(t.path.charCodeAt(i))))return t.err="SvgPath: invalid float exponent (at pos "+i+")";for(;i<o&&Ck(t.path.charCodeAt(i));)i++}t.index=i,t.param=parseFloat(t.path.slice(r,i))+0}else t.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")"}(t):(l=void 0,48===(l=(s=t).path.charCodeAt(s.index))?(s.param=0,s.index++):49===l?(s.param=1,s.index++):s.err="SvgPath: arc flag can be 0 or 1 only (at pos "+s.index+")"),t.err.length)return;t.data.push(t.param),Pk(t),r=!1,t.index<c&&44===t.path.charCodeAt(t.index)&&(t.index++,Pk(t),r=!0)}if(!r){if(t.index>=t.max)break;if(!(48<=(a=t.path.charCodeAt(t.index))&&a<=57||43===a||45===a||46===a))break}}Fk(t)}else Fk(t);else t.err="SvgPath: bad command "+t.path[t.index]+" (at pos "+t.index+")"}function Rk(){if(!(this instanceof Rk))return new Rk;this.queue=[],this.cache=null}Rk.prototype.matrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]||(this.cache=null,this.queue.push(t)),this},Rk.prototype.translate=function(t,e){return 0===t&&0===e||(this.cache=null,this.queue.push([1,0,0,1,t,e])),this},Rk.prototype.scale=function(t,e){return 1===t&&1===e||(this.cache=null,this.queue.push([t,0,0,e,0,0])),this},Rk.prototype.rotate=function(t,e,n){var r;return 0!==t&&(this.translate(e,n),r=t*Math.PI/180,t=Math.cos(r),r=Math.sin(r),this.queue.push([t,r,-r,t,0,0]),this.cache=null,this.translate(-e,-n)),this},Rk.prototype.skewX=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,0,Math.tan(t*Math.PI/180),1,0,0])),this},Rk.prototype.skewY=function(t){return 0!==t&&(this.cache=null,this.queue.push([1,Math.tan(t*Math.PI/180),0,1,0,0])),this},Rk.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],1===this.queue.length)return this.cache;for(var t,e,n=1;n<this.queue.length;n++)this.cache=(t=this.cache,e=this.queue[n],[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]);return this.cache},Rk.prototype.calc=function(t,e,n){var r;return this.queue.length?(this.cache||(this.cache=this.toArray()),[t*(r=this.cache)[0]+e*r[2]+(n?0:r[4]),t*r[1]+e*r[3]+(n?0:r[5])]):[t,e]};var Uk=Rk,Bk={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Hk=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,Zk=/[\s,]+/,Gk=2*Math.PI;function qk(t,e,n,r){var i=t*n+e*r;return(i=1<i?1:i)<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function Qk(t,e,n,r,i,o,a,s,l){var c,u,f=Math.sin(l*Gk/360),d=Math.cos(l*Gk/360),p=-f*(t-n)/2+d*(e-r)/2;if(0==(c=d*(t-n)/2+f*(e-r)/2)&&0==p)return[];if(0===a||0===s)return[];a=Math.abs(a),s=Math.abs(s),1<(u=c*c/(a*a)+p*p/(s*s))&&(a*=Math.sqrt(u),s*=Math.sqrt(u));var h,g,_,m,y,v,b,x=(h=i,g=o,(r=(v=(_=a)*_)*(b=(m=s)*m)-v*(t=(o=-(y=f)*((l=t)-(c=n))/2+(p=d)*((u=e)-(i=r))/2)*o)-b*(e=(n=p*(l-c)/2+y*(u-i)/2)*n))<0&&(r=0),r/=v*t+b*e,h=(r=Math.sqrt(r)*(h===g?-1:1))*_/m*o,c=p*h-y*(r=r*-m/_*n)+(l+c)/2,p=y*h+p*r+(u+i)/2,u=(n-h)/_,i=(o-r)/m,_=(-n-h)/_,r=(-o-r)/m,m=qk(1,0,u,i),r=qk(u,i,_,r),0===g&&0<r&&(r-=Gk),1===g&&r<0&&(r+=Gk),[c,p,m,r]),w=[],M=x[2],k=x[3],j=Math.max(Math.ceil(Math.abs(k)/(Gk/4)),1);k/=j;for(var A,T,z,N,D,I,S=0;S<j;S++)w.push((A=M,T=k,I=D=N=z=void 0,z=4/3*Math.tan(T/4),N=Math.cos(A),D=Math.sin(A),I=Math.cos(A+T),T=Math.sin(A+T),[N,D,N-D*z,D+N*z,I+T*z,T-I*z,I,T])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=f*(n*=a)+d*(r*=s);t[e+0]=d*n-f*r+x[0],t[e+1]=i+x[1]}return t})}var Wk=1e-10,Vk=Math.PI/180;function Xk(t,e,n){if(!(this instanceof Xk))return new Xk(t,e,n);this.rx=t,this.ry=e,this.ax=n}Xk.prototype.transform=function(t){var e=Math.cos(this.ax*Vk),n=Math.sin(this.ax*Vk),r=[this.rx*(t[0]*e+t[2]*n),this.rx*(t[1]*e+t[3]*n),this.ry*(-t[0]*n+t[2]*e),this.ry*(-t[1]*n+t[3]*e)],i=r[0]*r[0]+r[2]*r[2],o=r[1]*r[1]+r[3]*r[3],n=((r[0]-r[3])*(r[0]-r[3])+(r[2]+r[1])*(r[2]+r[1]))*((r[0]+r[3])*(r[0]+r[3])+(r[2]-r[1])*(r[2]-r[1])),t=(i+o)/2;if(n<Wk*t)return this.rx=this.ry=Math.sqrt(t),this.ax=0,this;e=r[0]*r[1]+r[2]*r[3],r=t+(n=Math.sqrt(n))/2,n=t-n/2;return this.ax=Math.abs(e)<Wk&&Math.abs(r-o)<Wk?90:180*Math.atan(Math.abs(e)>Math.abs(r-o)?(r-i)/e:e/(r-o))/Math.PI,0<=this.ax?(this.rx=Math.sqrt(r),this.ry=Math.sqrt(n)):(this.ax+=90,this.rx=Math.sqrt(n),this.ry=Math.sqrt(r)),this},Xk.prototype.isDegenerate=function(){return this.rx<Wk*this.ry||this.ry<Wk*this.rx};var $k=Xk;function Jk(t){if(!(this instanceof Jk))return new Jk(t);t=function(t){var e=new Ok(t),n=e.max;for(Pk(e);e.index<n&&!e.err.length;)Yk(e);return e.err.length?e.result=[]:e.result.length&&("mM".indexOf(e.result[0][0])<0?(e.err="SvgPath: string should start with `M` or `m`",e.result=[]):e.result[0][0]="M"),{err:e.err,segments:e.result}}(t);this.segments=t.segments,this.err=t.err,this.__stack=[]}Jk.from=function(t){if("string"==typeof t)return new Jk(t);if(t instanceof Jk){var e=new Jk("");return e.err=t.err,e.segments=t.segments.map(function(t){return t.slice()}),e.__stack=t.__stack.map(function(t){return Uk().matrix(t.toArray())}),e}throw new Error("SvgPath.from: invalid param type "+t)},Jk.prototype.__matrix=function(c){var u,f=this;c.queue.length&&this.iterate(function(t,e,n,r){var i,o,a;switch(t[0]){case"v":o=0===(i=c.calc(0,t[1],!0))[0]?["v",i[1]]:["l",i[0],i[1]];break;case"V":o=(i=c.calc(n,t[1],!1))[0]===c.calc(n,r,!1)[0]?["V",i[1]]:["L",i[0],i[1]];break;case"h":o=0===(i=c.calc(t[1],0,!0))[1]?["h",i[0]]:["l",i[0],i[1]];break;case"H":o=(i=c.calc(t[1],r,!1))[1]===c.calc(n,r,!1)[1]?["H",i[0]]:["L",i[0],i[1]];break;case"a":case"A":var s=c.toArray(),l=$k(t[1],t[2],t[3]).transform(s);if(s[0]*s[3]-s[1]*s[2]<0&&(t[5]=t[5]?"0":"1"),i=c.calc(t[6],t[7],"a"===t[0]),"A"===t[0]&&t[6]===n&&t[7]===r||"a"===t[0]&&0===t[6]&&0===t[7]){o=["a"===t[0]?"l":"L",i[0],i[1]];break}o=l.isDegenerate()?["a"===t[0]?"l":"L",i[0],i[1]]:[t[0],l.rx,l.ry,l.ax,t[4],t[5],i[0],i[1]];break;case"m":o=["m",(i=c.calc(t[1],t[2],a=0<e))[0],i[1]];break;default:for(o=[l=t[0]],a=l.toLowerCase()===l,u=1;u<t.length;u+=2)i=c.calc(t[u],t[u+1],a),o.push(i[0],i[1])}f.segments[e]=o},!0)},Jk.prototype.__evaluateStack=function(){var t,e;if(this.__stack.length){if(1===this.__stack.length)return this.__matrix(this.__stack[0]),void(this.__stack=[]);for(t=Uk(),e=this.__stack.length;0<=--e;)t.matrix(this.__stack[e].toArray());this.__matrix(t),this.__stack=[]}},Jk.prototype.toString=function(){var t,e=[];this.__evaluateStack();for(var n=0;n<this.segments.length;n++)t=this.segments[n][0],t=0<n&&"m"!==t&&"M"!==t&&t===this.segments[n-1][0],e=e.concat(t?this.segments[n].slice(1):this.segments[n]);return e.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},Jk.prototype.translate=function(t,e){return this.__stack.push(Uk().translate(t,e||0)),this},Jk.prototype.scale=function(t,e){return this.__stack.push(Uk().scale(t,e||0===e?e:t)),this},Jk.prototype.rotate=function(t,e,n){return this.__stack.push(Uk().rotate(t,e||0,n||0)),this},Jk.prototype.skewX=function(t){return this.__stack.push(Uk().skewX(t)),this},Jk.prototype.skewY=function(t){return this.__stack.push(Uk().skewY(t)),this},Jk.prototype.matrix=function(t){return this.__stack.push(Uk().matrix(t)),this},Jk.prototype.transform=function(t){return t.trim()&&this.__stack.push((t=t,r=new Uk,t.split(Hk).forEach(function(t){if(t.length)if(void 0===Bk[t])switch(n=t.split(Zk).map(function(t){return+t||0}),e){case"matrix":return void(6===n.length&&r.matrix(n));case"scale":return void(1===n.length?r.scale(n[0],n[0]):2===n.length&&r.scale(n[0],n[1]));case"rotate":return void(1===n.length?r.rotate(n[0],0,0):3===n.length&&r.rotate(n[0],n[1],n[2]));case"translate":return void(1===n.length?r.translate(n[0],0):2===n.length&&r.translate(n[0],n[1]));case"skewX":return void(1===n.length&&r.skewX(n[0]));case"skewY":return void(1===n.length&&r.skewY(n[0]))}else e=t}),r)),this;var e,n,r},Jk.prototype.round=function(r){var e,i=0,o=0,a=0,s=0;return r=r||0,this.__evaluateStack(),this.segments.forEach(function(n){var t=n[0].toLowerCase()===n[0];switch(n[0]){case"H":case"h":return t&&(n[1]+=a),a=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"V":case"v":return t&&(n[1]+=s),s=n[1]-n[1].toFixed(r),void(n[1]=+n[1].toFixed(r));case"Z":case"z":return a=i,void(s=o);case"M":case"m":return t&&(n[1]+=a,n[2]+=s),a=n[1]-n[1].toFixed(r),s=n[2]-n[2].toFixed(r),i=a,o=s,n[1]=+n[1].toFixed(r),void(n[2]=+n[2].toFixed(r));case"A":case"a":return t&&(n[6]+=a,n[7]+=s),a=n[6]-n[6].toFixed(r),s=n[7]-n[7].toFixed(r),n[1]=+n[1].toFixed(r),n[2]=+n[2].toFixed(r),n[3]=+n[3].toFixed(r+2),n[6]=+n[6].toFixed(r),void(n[7]=+n[7].toFixed(r));default:return e=n.length,t&&(n[e-2]+=a,n[e-1]+=s),a=n[e-2]-n[e-2].toFixed(r),s=n[e-1]-n[e-1].toFixed(r),void n.forEach(function(t,e){e&&(n[e]=+n[e].toFixed(r))})}}),this},Jk.prototype.iterate=function(i,t){var e,n,r,o=this.segments,a={},s=!1,l=0,c=0,u=0,f=0;if(t||this.__evaluateStack(),o.forEach(function(t,e){var n=i(t,e,l,c);Array.isArray(n)&&(a[e]=n,s=!0);var r=t[0]===t[0].toLowerCase();switch(t[0]){case"m":case"M":return l=t[1]+(r?l:0),c=t[2]+(r?c:0),u=l,void(f=c);case"h":case"H":return void(l=t[1]+(r?l:0));case"v":case"V":return void(c=t[1]+(r?c:0));case"z":case"Z":return l=u,void(c=f);default:l=t[t.length-2]+(r?l:0),c=t[t.length-1]+(r?c:0)}}),!s)return this;for(r=[],e=0;e<o.length;e++)if(void 0!==a[e])for(n=0;n<a[e].length;n++)r.push(a[e][n]);else r.push(o[e]);return this.segments=r,this},Jk.prototype.abs=function(){return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();if(o!==a)switch(t[0]=a,o){case"v":return void(t[1]+=r);case"a":return t[6]+=n,void(t[7]+=r);default:for(i=1;i<t.length;i++)t[i]+=i%2?n:r}},!0),this},Jk.prototype.rel=function(){return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toLowerCase();if(o!==a&&(0!==e||"M"!==o))switch(t[0]=a,o){case"V":return void(t[1]-=r);case"A":return t[6]-=n,void(t[7]-=r);default:for(i=1;i<t.length;i++)t[i]-=i%2?n:r}},!0),this},Jk.prototype.unarc=function(){return this.iterate(function(t,e,n,r){var i,o=[],a=t[0];return"A"!==a&&"a"!==a?null:(a="a"===a?(i=n+t[6],r+t[7]):(i=t[6],t[7]),0===(a=Qk(n,r,i,a,t[4],t[5],t[1],t[2],t[3])).length?[["a"===t[0]?"l":"L",t[6],t[7]]]:(a.forEach(function(t){o.push(["C",t[2],t[3],t[4],t[5],t[6],t[7]])}),o))}),this},Jk.prototype.unshort=function(){var s,l,c,u,f,d=this.segments;return this.iterate(function(t,e,n,r){var i,o=t[0],a=o.toUpperCase();e&&("T"===a?(c=d[e-1],l="Q"===c[0]?(s=c[1]-n,c[2]-r):"q"===c[0]?(s=c[1]-c[3],c[2]-c[4]):s=0,u=-s,f=-l,(i="t"===o)||(u+=n,f+=r),d[e]=[i?"q":"Q",u,f,t[1],t[2]]):"S"===a&&(c=d[e-1],l="C"===c[0]?(s=c[3]-n,c[4]-r):"c"===c[0]?(s=c[3]-c[5],c[4]-c[6]):s=0,u=-s,f=-l,(i="s"===o)||(u+=n,f+=r),d[e]=[i?"c":"C",u,f,t[1],t[2],t[3],t[4]]))}),this};var Kk=Jk,t9={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e9=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function n9(t){var i=[];return t.replace(e9,function(t,e,n){var r=e.toLowerCase();for(n=function(t){t=t.match(r9);return t?t.map(Number):[]}(n),"m"===r&&2<n.length&&(i.push([e].concat(n.splice(0,2))),r="l",e="m"===e?"l":"L");0<=n.length;){if(n.length===t9[r])return n.unshift(e),i.push(n);if(n.length<t9[r])throw new Error("malformed path data");i.push([e].concat(n.splice(0,t9[r])))}}),i}var r9=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function i9(t,e,n,r,i,o,a,s){return new o9(t,e,n,r,i,o,a,s)}function o9(t,e,n,r,i,o,a,s){this.a={x:t,y:e},this.b={x:n,y:r},this.c={x:i,y:o},this.d={x:a,y:s},null!=a&&null!=s?(this.getArcLength=_9,this.getPoint=u9,this.getDerivative=s9):(this.getArcLength=f9,this.getPoint=c9,this.getDerivative=a9),this.init()}function a9(t,e,n){return{x:2*(1-n)*(t[1]-t[0])+2*n*(t[2]-t[1]),y:2*(1-n)*(e[1]-e[0])+2*n*(e[2]-e[1])}}function s9(t,e,n){return c9([3*(t[1]-t[0]),3*(t[2]-t[1]),3*(t[3]-t[2])],[3*(e[1]-e[0]),3*(e[2]-e[1]),3*(e[3]-e[2])],n)}function l9(t,e,n,r,i){for(var o=1,a=t/e,s=(t-n(r,i,a))/e;.001<o;){var l=n(r,i,a+s),c=n(r,i,a-s),l=Math.abs(t-l)/e,c=Math.abs(t-c)/e;l<o?(o=l,a+=s):c<o?(o=c,a-=s):s/=2}return a}function c9(t,e,n){return{x:(1-n)*(1-n)*t[0]+2*(1-n)*n*t[1]+n*n*t[2],y:(1-n)*(1-n)*e[0]+2*(1-n)*n*e[1]+n*n*e[2]}}function u9(t,e,n){return{x:(1-n)*(1-n)*(1-n)*t[0]+3*(1-n)*(1-n)*n*t[1]+3*(1-n)*n*n*t[2]+n*n*n*t[3],y:(1-n)*(1-n)*(1-n)*e[0]+3*(1-n)*(1-n)*n*e[1]+3*(1-n)*n*n*e[2]+n*n*n*e[3]}}function f9(t,e,n){void 0===n&&(n=1);var r=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],o=2*t[1]-2*t[0],a=2*e[1]-2*e[0],s=4*(r*r+i*i),i=4*(r*o+i*a),a=o*o+a*a;if(0==s)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));i/=2*s,n+=i,a=a/s-i*i;return Math.sqrt(s)/2*(n*Math.sqrt(n*n+a)-i*Math.sqrt(i*i+a)+a*Math.log(Math.abs((n+Math.sqrt(n*n+a))/(i+Math.sqrt(i*i+a)))))}o9.prototype={constructor:o9,init:function(){this.length=this.getArcLength([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y])},getTotalLength:function(){return this.length},getPointAtLength:function(t){t=l9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]);return this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],t)},getTangentAtLength:function(t){var e=l9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),t=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),e=Math.sqrt(t.x*t.x+t.y*t.y),e=0<e?{x:t.x/e,y:t.y/e}:{x:0,y:0};return e},getPropertiesAtLength:function(t){var e=l9(t,this.length,this.getArcLength,[this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y]),n=this.getDerivative([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e),t=Math.sqrt(n.x*n.x+n.y*n.y),t=0<t?{x:n.x/t,y:n.y/t}:{x:0,y:0},e=this.getPoint([this.a.x,this.b.x,this.c.x,this.d.x],[this.a.y,this.b.y,this.c.y,this.d.y],e);return{x:e.x,y:e.y,tangentX:t.x,tangentY:t.y}}};var d9=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],p9=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],h9=[[1],[1,1],[1,2,1],[1,3,3,1]];function g9(t,e,n){var r,i,o,a,s=n.length-1;if(0==s)return 0;if(0===t){for(o=i=0;o<=s;o++)i+=(a=o,h9[s][a]*Math.pow(1-e,s-o)*Math.pow(e,o)*n[o]);return i}for(r=new Array(s),o=0;o<s;o++)r[o]=s*(n[o+1]-n[o]);return g9(t-1,e,r)}function _9(t,e,n){for(var r,i,o,a=(n=void 0===n?1:n)/2,s=0,l=0;l<20;l++)r=a*d9[20][l]+a,s+=p9[20][l]*(i=e,r=g9(1,o=r,r=t),i=g9(1,o,i),Math.sqrt(r*r+i*i));return a*s}var m9=2*Math.PI;function y9(t,e,n,r){var i=t*n+e*r;return(i=1<i?1:i)<-1&&(i=-1),(t*r-e*n<0?-1:1)*Math.acos(i)}function v9(t,e,o,a,n,r,i,s,l){var c=Math.sin(n*m9/360),u=Math.cos(n*m9/360),f=u*(t-s)/2+c*(e-l)/2,d=-c*(t-s)/2+u*(e-l)/2;if(0==f&&0==d)return[];if(0===o||0===a)return[];o=Math.abs(o),a=Math.abs(a);var p=f*f/(o*o)+d*d/(a*a);1<p&&(o*=Math.sqrt(p),a*=Math.sqrt(p));var h,g,_,m,y,v,b,x=(h=r,g=i,(l=(v=(_=o)*_)*(b=(m=a)*m)-v*(t=(i=-(y=c)*((n=t)-(f=s))/2+(d=u)*((p=e)-(r=l))/2)*i)-b*(e=(s=d*(n-f)/2+y*(p-r)/2)*s))<0&&(l=0),l/=v*t+b*e,h=(l=Math.sqrt(l)*(h===g?-1:1))*_/m*i,f=d*h-y*(l=l*-m/_*s)+(n+f)/2,d=y*h+d*l+(p+r)/2,p=(s-h)/_,r=(i-l)/m,_=(-s-h)/_,l=(-i-l)/m,m=y9(1,0,p,r),l=y9(p,r,_,l),0===g&&0<l&&(l-=m9),1===g&&l<0&&(l+=m9),[f,d,m,l]),w=[],M=x[2],k=x[3],j=Math.max(Math.ceil(Math.abs(k)/(m9/4)),1);k/=j;for(var A,T,z,N,D,I,S=0;S<j;S++)w.push((A=M,T=k,I=D=N=z=void 0,z=4/3*Math.tan(T/4),N=Math.cos(A),D=Math.sin(A),I=Math.cos(A+T),T=Math.sin(A+T),[N,D,N-D*z,D+N*z,I+T*z,T-I*z,I,T])),M+=k;return w.map(function(t){for(var e=0;e<t.length;e+=2){var n=t[e+0],r=t[e+1],i=c*(n*=o)+u*(r*=a);t[e+0]=u*n-c*r+x[0],t[e+1]=i+x[1]}return t})}function b9(t,e,n,r,i,o,a,s,l){return new x9(t,e,n,r,i,o,a,s,l)}function x9(t,e,n,r,i,o,a,s,l){var c=0,u=[],f=[];v9(t,e,n,r,i,o,a,s,l).forEach(function(t){var e=new i9(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),t=e.getTotalLength();c+=t,u.push(t),f.push(e)}),this.length=c,this.partialLengths=u,this.curves=f}function w9(t,e,n,r){return new M9(t,e,n,r)}function M9(t,e,n,r){this.x0=t,this.x1=e,this.y0=n,this.y1=r}function k9(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function j9(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function A9(t,n,r){var i=t.map(function(t,e){return r=t,i=n[e],function(n){return r.map(function(t,e){return t+n*(i[e]-t)})};var r,i});return function(e){var t=i.map(function(t){return t(e)});return r?"M"+t.join("L")+"Z":t}}function T9(t){return"number"==typeof t&&isFinite(t)}x9.prototype={constructor:x9,init:function(){},getTotalLength:function(){return this.length},getPointAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getPointAtLength(t-n)},getTangentAtLength:function(t){t<0?t=0:t>this.length&&(t=this.length);for(var e=this.partialLengths.length-1;this.partialLengths[e]>=t&&0<this.partialLengths[e];)e--;e<this.partialLengths.length-1&&e++;for(var n=0,r=0;r<e;r++)n+=this.partialLengths[r];return this.curves[e].getTangentAtLength(t-n)},getPropertiesAtLength:function(t){var e=this.getTangentAtLength(t),t=this.getPointAtLength(t);return{x:t.x,y:t.y,tangentX:e.x,tangentY:e.y}}},M9.prototype.getTotalLength=function(){return Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2))},M9.prototype.getPointAtLength=function(t){var e=t/Math.sqrt(Math.pow(this.x0-this.x1,2)+Math.pow(this.y0-this.y1,2)),t=(this.x1-this.x0)*e,e=(this.y1-this.y0)*e;return{x:this.x0+t,y:this.y0+e}},M9.prototype.getTangentAtLength=function(){var t=Math.sqrt((this.x1-this.x0)*(this.x1-this.x0)+(this.y1-this.y0)*(this.y1-this.y0));return{x:(this.x1-this.x0)/t,y:(this.y1-this.y0)/t}},M9.prototype.getPropertiesAtLength=function(t){var e=this.getPointAtLength(t),t=this.getTangentAtLength();return{x:e.x,y:e.y,tangentX:t.x,tangentY:t.y}};var z9,N9='All shapes must be supplied as arrays of [x, y] points or an SVG path string (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/d).\nExample valid ways of supplying a shape would be:\n[[0, 0], [10, 0], [10, 10]]\n"M0,0 L10,0 L10,10Z"\n';function D9(t,e){t=new Kk(t).abs();return function(t){var e=t.segments||[],n=[];if(!e.length||"M"!==e[0][0])return!1;for(var r=0;r<e.length;r++){var i=ja(e[r],3),o=i[0],a=i[1],i=i[2];if("M"===o&&r||"Z"===o)break;if("M"===o||"L"===o)n.push([a,i]);else if("H"===o)n.push([a,n[n.length-1][1]]);else{if("V"!==o)return!1;n.push([n[n.length-1][0],a])}}return!!n.length&&{ring:n}}(t)||function(t,e){var n,r,t=function(t){return t.toString().split("M").map(function(t,e){return t=t.trim(),e&&t?"M"+t:t}).filter(function(t){return t})}(t)[0],i=[],o=3;if(!t)throw new TypeError(N9);r=function(t){if("undefined"!=typeof window&&window&&window.document)try{var e=window.document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e}catch(t){}return function(t){var s=0,l=[],c=[];function u(t){if(!t)return null;for(var e,n,r=n9(t),i=[0,0],o=[0,0],a=0;a<r.length;a++)"M"===r[a][0]?(n=[(i=[r[a][1],r[a][2]])[0],i[1]],c.push(null)):"m"===r[a][0]?(n=[(i=[r[a][1]+i[0],r[a][2]+i[1]])[0],i[1]],c.push(null)):"L"===r[a][0]?(s+=Math.sqrt(Math.pow(i[0]-r[a][1],2)+Math.pow(i[1]-r[a][2],2)),c.push(new w9(i[0],r[a][1],i[1],r[a][2])),i=[r[a][1],r[a][2]]):"l"===r[a][0]?(s+=Math.sqrt(Math.pow(r[a][1],2)+Math.pow(r[a][2],2)),c.push(new w9(i[0],r[a][1]+i[0],i[1],r[a][2]+i[1])),i=[r[a][1]+i[0],r[a][2]+i[1]]):"H"===r[a][0]?(s+=Math.abs(i[0]-r[a][1]),c.push(new w9(i[0],r[a][1],i[1],i[1])),i[0]=r[a][1]):"h"===r[a][0]?(s+=Math.abs(r[a][1]),c.push(new w9(i[0],i[0]+r[a][1],i[1],i[1])),i[0]=r[a][1]+i[0]):"V"===r[a][0]?(s+=Math.abs(i[1]-r[a][1]),c.push(new w9(i[0],i[0],i[1],r[a][1])),i[1]=r[a][1]):"v"===r[a][0]?(s+=Math.abs(r[a][1]),c.push(new w9(i[0],i[0],i[1],i[1]+r[a][1])),i[1]=r[a][1]+i[1]):"z"===r[a][0]||"Z"===r[a][0]?(s+=Math.sqrt(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2)),c.push(new w9(i[0],n[0],i[1],n[1])),i=[n[0],n[1]]):"C"===r[a][0]?(e=new i9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],r[a][6]),s+=e.getTotalLength(),i=[r[a][5],r[a][6]],c.push(e)):"c"===r[a][0]?(e=new i9(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4],i[0]+r[a][5],i[1]+r[a][6]),s+=e.getTotalLength(),i=[r[a][5]+i[0],r[a][6]+i[1]],c.push(e)):"S"===r[a][0]?(e=0<a&&-1<["C","c","S","s"].indexOf(r[a-1][0])?new i9(i[0],i[1],2*i[0]-r[a-1][r[a-1].length-4],2*i[1]-r[a-1][r[a-1].length-3],r[a][1],r[a][2],r[a][3],r[a][4]):new i9(i[0],i[1],i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]),s+=e.getTotalLength(),i=[r[a][3],r[a][4]],c.push(e)):"s"===r[a][0]?(e=0<a&&-1<["C","c","S","s"].indexOf(r[a-1][0])?new i9(i[0],i[1],i[0]+e.d.x-e.c.x,i[1]+e.d.y-e.c.y,i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]):new i9(i[0],i[1],i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]),s+=e.getTotalLength(),i=[r[a][3]+i[0],r[a][4]+i[1]],c.push(e)):"Q"===r[a][0]?(e=i[0]!=r[a][1]&&i[1]!=r[a][2]?new i9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4]):new w9(r[a][1],r[a][3],r[a][2],r[a][4]),s+=e.getTotalLength(),c.push(e),i=[r[a][3],r[a][4]],o=[r[a][1],r[a][2]]):"q"===r[a][0]?(e=0!=r[a][1]||0!=r[a][2]?new i9(i[0],i[1],i[0]+r[a][1],i[1]+r[a][2],i[0]+r[a][3],i[1]+r[a][4]):new w9(i[0]+r[a][1],i[0]+r[a][3],i[1]+r[a][2],i[1]+r[a][4]),s+=e.getTotalLength(),o=[i[0]+r[a][1],i[1]+r[a][2]],i=[r[a][3]+i[0],r[a][4]+i[1]],c.push(e)):"T"===r[a][0]?(e=0<a&&-1<["Q","q","T","t"].indexOf(r[a-1][0])?new i9(i[0],i[1],2*i[0]-o[0],2*i[1]-o[1],r[a][1],r[a][2]):new w9(i[0],r[a][1],i[1],r[a][2]),c.push(e),s+=e.getTotalLength(),o=[2*i[0]-o[0],2*i[1]-o[1]],i=[r[a][1],r[a][2]]):"t"===r[a][0]?(e=0<a&&-1<["Q","q","T","t"].indexOf(r[a-1][0])?new i9(i[0],i[1],2*i[0]-o[0],2*i[1]-o[1],i[0]+r[a][1],i[1]+r[a][2]):new w9(i[0],i[0]+r[a][1],i[1],i[1]+r[a][2]),s+=e.getTotalLength(),o=[2*i[0]-o[0],2*i[1]-o[1]],i=[r[a][1]+i[0],r[a][2]+i[0]],c.push(e)):"A"===r[a][0]?(e=new b9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],r[a][6],r[a][7]),s+=e.getTotalLength(),i=[r[a][6],r[a][7]],c.push(e)):"a"===r[a][0]&&(e=new b9(i[0],i[1],r[a][1],r[a][2],r[a][3],r[a][4],r[a][5],i[0]+r[a][6],i[1]+r[a][7]),s+=e.getTotalLength(),i=[i[0]+r[a][6],i[1]+r[a][7]],c.push(e)),l.push(s);return u}u.getTotalLength=function(){return s},u.getPointAtLength=function(t){t=e(t);return c[t.i].getPointAtLength(t.fraction)},u.getTangentAtLength=function(t){t=e(t);return c[t.i].getTangentAtLength(t.fraction)},u.getPropertiesAtLength=function(t){t=e(t);return c[t.i].getPropertiesAtLength(t.fraction)};var e=function(t){t<0?t=0:s<t&&(t=s);for(var e=l.length-1;l[e]>=t&&0<l[e];)e--;return{fraction:t-l[++e-1],i:e}};return u(t)}(t)}(t),n=r.getTotalLength(),e&&T9(e)&&0<e&&(o=Math.max(o,Math.ceil(n/e)));for(var a=0;a<o;a++){var s=r.getPointAtLength(n*a/o);i.push([s.x,s.y])}return{ring:i,skipBisect:!0}}(t,e)}function I9(t,e){for(var n=t.length+e,r=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l}(t)/e,i=0,o=0,a=r/2;t.length<n;){var s=t[i],l=t[(i+1)%t.length],c=k9(s,l);a<=o+c?(t.splice(i+1,0,c?j9(s,l,(a-o)/c):s.slice(0)),a+=r):(o+=c,i++)}}function S9(t,e){var n,r;if("string"==typeof t){var i=D9(t,e);t=i.ring,r=i.skipBisect}else if(!Array.isArray(t))throw new TypeError(N9);if(!(n=t.slice(0)).every(function(t){return Array.isArray(t)&&2<=t.length&&T9(t[0])&&T9(t[1])}))throw new TypeError(N9);return 1<n.length&&(i=n[0],t=n[n.length-1],k9(i,t)<1e-9)&&n.pop(),0<function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}(n)&&n.reverse(),!r&&e&&T9(e)&&0<e&&function(t,e){for(var n=1<arguments.length&&void 0!==e?e:1/0,r=0;r<t.length;r++)for(var i=t[r],o=r===t.length-1?t[0]:t[r+1];k9(i,o)>n;)o=j9(i,o,.5),t.splice(r+1,0,o)}(n,e),n}function E9(r,t){for(var e,i,n,o=r.length,a=1/0,s=0;s<o;s++)!function(n){i=0,t.forEach(function(t,e){t=k9(r[(n+e)%o],t);i+=t*t}),i<a&&(a=i,e=n)}(s);e&&(n=r.splice(0,e),r.splice.apply(r,[r.length,0].concat(Aa(n))))}function L9(e,n,t){var r=2<arguments.length&&void 0!==t?t:{},i=r.maxSegmentLength,o=void 0===i?10:i,a=r.string,t=void 0===a||a,i=S9(e,o),r=S9(n,o),s=(a=r,o=t,i=(r=i).length-a.length,I9(r,i<0?-1*i:0),I9(a,0<i?i:0),E9(r,a),A9(r,a,o));return!t||"string"!=typeof e&&"string"!=typeof n?s:function(t){return t<1e-4&&"string"==typeof e?e:1-t<1e-4&&"string"==typeof n?n:s(t)}}var C9={};function O9(t){return t?"translate("+t.layout.x+","+t.layout.y+")":null}var P9,F9,Y9,R9,U9,B9,H9=0;function Z9(r,t,e){H9++;var a=e?0:1e3*D2.animation_duration,n=r.facets,s=r.data_points,i=Fs(".facets").selectAll(".facet").data(n,function(t){return t.key}),o=i.enter().append("g").attr("class","facet").each(function(){this._chart_layout=I2(this)}),l=i.merge(o),c=0,u=0;l.each(function(t){var e=(D2.x_matching?s:t).x_domain,n=(D2.y_matching?s:t).y_domain;t.chart_layout=this._chart_layout,t.chart_layout._has_previous_scales&&(t.chart_layout._prevXScale=t.chart_layout.xScale().copy(),t.chart_layout._prevYScale=t.chart_layout.yScale().copy()),t.chart_layout.xData(e).yData(n).xAutoTitle(r.data_points.column_names.x||"").yAutoTitle(r.data_points.column_names.y||"").y2Hide(!0).xDatetimeParse(B9).xFormat(F9).yFormat(Y9).animationDuration(0).width(nA.getPrimaryWidth()).height(nA.getPrimaryHeight()).update({skip_rendering:!0}),t.chart_layout.margins.left>c&&(c=t.chart_layout.margins.left);t="bottom"==D2.x.axis_position?t.chart_layout.margins.bottom:t.chart_layout.margins.top;u<t&&(u=t)});var f=4096/k4(),d=nA.getPrimaryWidth(),p=n.length,h=c,g=u,_=H8(D2.facet_gutter_w),m=D2.y_single_col&&D2.y_matching;m||(_+=h);d=d-h-H8(D2.margin_right)-H8(D2.margin_left);if(D2.facet_fixed_cols&&r.has_facet_binding)v=Math.floor(D2.facet_cols),b=Math.ceil(p/v);else for(var y=Math.floor((d+_)/(D2.facet_min_w+_)),v=Math.max(1,Math.min(y,p)),b=Math.ceil(p/v),x=v;0<x&&Math.ceil(p/(v-1))==b;x--)v--;var y=p%v!=0&&v<p,w=(d-_*(v-1))/v,M=H8(D2.facet_gutter_h),k=D2.x_single_row&&D2.x_matching&&!y&&("bottom"==D2.x.axis_position||"top"==D2.x.axis_position),j=k&&"top"==D2.x.axis_position,d=j?H8(.5):0;k||(M+=g);var A,T,y="facet"in kw.data.column_names,z=y?1.5*H8(D2.facet_header_font_size):0,N=w*D2.facet_aspect/100,D=b*(N+z+M)+g+d-M+H8(D2.margin_top)+H8(D2.margin_bottom),I=Math.max(nA.getDefaultPrimaryHeight(),1),S=(Math.max(I-H8(D2.margin_top)-H8(D2.margin_bottom),1)-g-d-b*z-(b-1)*M)/b,E=f,L=(Math.max(E-H8(D2.margin_top)-H8(D2.margin_bottom),1)-g-b*z-(b-1)*M)/b;function C(){RM()&&f<I?O():(nA.setHeight(null),T=I,A=S)}function O(){T=E,A=L,nA.setHeight(f)}function P(){RM()&&f<D?O():(T=D,A=N,nA.setHeight(T))}(!Flourish.fixed_height&&"fill_space"!=D2.height_mode&&("aspect"==D2.height_mode||(w<D2.facet_min_w||S<100)&&I<D)?P:C)(),w=Math.max(w,0),A=Math.max(A,0),("string"==typeof(d="#graphic, #overlay")?new Os([document.querySelectorAll(d)],[document.documentElement]):new Os([null==d?[]:d],Cs)).attr("width",t).attr("height",T);for(var F,Y,R,U,B,x=0;x<p;x++){var H=Math.ceil(x%v),Z=Math.floor(x/v),G=n[x].layout={};G.has_y_axis=0==H||!m,G.has_x_axis=j&&0==Z||!j&&Z==b-1||!k,G.x=H8(D2.margin_left)+(G.has_y_axis?0:h)+H*(w+_),G.y=H8(D2.margin_top)+(!G.has_x_axis&&j?g:0)+z+Z*(A+z+M),G.w=w+(G.has_y_axis?h:0),G.h=z+A+(G.has_x_axis?g:0),G.plot_h=A,G.plot_w=w}function q(t,e){return Y?0:e*D2.animation_stagger*1e3}function Q(t,e){return"translate("+(U4(t,!0===e)+(t.beeswarm_offset_x||0))+","+(B4(t,!0===e)+(t.beeswarm_offset_y||0))+") scale("+H4(t)+")"}function W(t){var e=t.chart_layout.margins.left,t=!1;return e=(t="center"==D2.facet_title_align||"auto"==D2.facet_title_align&&"donut"==D2.chart_type?!0:t)?w/2-this.getBoundingClientRect().width/2:e}o.attr("transform",O9).attr("opacity",0),o.append("text").attr("class","facet-title").attr("y",-z/2).attr("font-size",D2.facet_header_font_size+"rem").attr("font-weight","bold").attr("dominant-baseline","middle").attr("x",W),l.each(function(t){var e=t.layout.has_y_axis,n=t.layout.has_x_axis,r=e?h:0,i=n&&!j?g:0,o=n&&j?g:0;t.chart_layout.width(t.layout.plot_w+r).height(t.layout.plot_h+i+o).animationDuration(a).update({margins:{left:r,bottom:i,top:o}}),t.chart_layout._has_previous_scales||(t.chart_layout._prevXScale=t.chart_layout.xScale(),t.chart_layout._prevYScale=t.chart_layout.yScale(),t.chart_layout._has_previous_scales=!0),Fs(this).selectAll(".fl-y-axis .fl-axis-ticks, .fl-y-axis .fl-axis-line, .fl-y-axis .fl-axis-title ").style("visibility",e?null:"hidden"),Fs(this).selectAll(".fl-x-axis .fl-axis-ticks, .fl-x-axis .fl-axis-line, .fl-x-axis .fl-axis-title ").style("visibility",n?null:"hidden")}).transition().duration(a).attr("transform",O9).attr("opacity",1).on("end",W5),l.select(".facet-title").text(function(t){return t.name}).transition().duration(a).attr("font-size",D2.facet_header_font_size+"rem").attr("clip-path",function(t,e){return"url(#facet-clip-"+e+"-"+H9+")"}).attr("fill",D2.facet_header_color).attr("opacity",y?1:0).attr("y",-z/2).attr("x",W),l.select(".fl-chart").each(function(t){var e,n,r,i,o;t.scales={},t.scales.prevXScale=t.chart_layout._prevXScale,t.scales.prevYScale=t.chart_layout._prevYScale,t.scales.x=t.chart_layout.xScale({global:!0}),t.scales.y=t.chart_layout.yScale({global:!0}),t.scales.w=Math.max(0,t.chart_layout.plot_width),t.scales.h=Math.max(0,t.chart_layout.plot_height),t.x_type=s.x_type,t.y_type=s.y_type,n=a,r=(e=t).chart_layout.chart.select(".fl-data-foreground").selectAll(".time-label").data(null!=c7.value()&&D2.time_label_show?[p7(c7.value())]:[]),t=r.enter().append("text").attr("class","time-label").attr("text-anchor","middle").attr("alignment-baseline","middle").style("pointer-events","none"),i=e.chart_layout.margins().left+e.scales.w/2,o=e.chart_layout.margins().top+e.scales.h/2,r.merge(t).text(function(t){return t}).attr("font-weight","bold").attr("font-size",D2.time_label_font_size).transition().duration(n).attr("transform",function(){return"translate("+i+","+o+") scale("+e.scales.w/400+")"}).attr("fill",D2.time_label_color||D2.layout.font_color).attr("opacity",D2.time_label_opacity),r.exit().remove()}),i.exit().transition().duration(a).attr("opacity",0).remove(),function(t){kk=t;var e=D2.beeswarm_plot&&kk.boxes.category_col,t=5e3<kk.data_points.length;e&&!t?kk.boxes.forEach(function(t){var r="x"==t.category_col,e=t.data_points[0],n=e.facet.scales,e=Math.sqrt(D2.data_point_default_size/Math.PI)*H4(e),i=Sk().data(t.data_points).distributeOn(function(t){return(r?B4:U4)(t)}).radius(e).orientation(r?"vertical":"horizontal").arrange(),o=r?n.x.step()/2-e:n.y.step()/2-e;t.data_points.forEach(function(t,e){var n=i[e].x%o||0,e=i[e].y%o||0;t.beeswarm_offset_x=r?n:0,t.beeswarm_offset_y=r?0:e})}):(e&&Flourish.warn("Beeswarm mode only works with fewer than 5000 points! Try using a violin plot to see the distributions."),kk.data_points.forEach(function(t){t.beeswarm_offset_x=0,t.beeswarm_offset_y=0}))}(r),l.select(".fl-chart-background").on("click",function(){C5.clickout()}),RM()?Fs("#graphic .data-points").style("display","none"):(Fs("#graphic .data-points").style("display",null),Y=e,o=(F=r).data_points.filter(function(t){return!("slider"in F.data_points.column_names)||(null==c7.value()||p7(t.slider)==p7(c7.value()))}),R=o[0]&&o[0].id,y=(z9=z9||Fs("#graphic .data-points")).selectAll(".data-point").data(o,function(t){return R?t.id:t.row}),i=y.enter().append("path").attr("class","data-point").attr("d",Z3).attr("vector-effect","non-scaling-stroke").attr("stroke",function(t){return a3(t.color)}).attr("fill",function(t){return a3(t.color)}).attr("fill-opacity",0).attr("stroke-opacity",0).attr("stroke-width",D2.stroke_width).attr("transform",function(t){return Q(t,!0)}),(i=y.merge(i)).on("mouseover",function(){C5.mouseover(this,Q5(this.__data__))}).on("mouseout",function(){C5.mouseout()}).on("click",function(t,e){var n;W5(),"story_editor"==Flourish.environment&&(-1==(n=D2.labels_selected.indexOf(t.row))?D2.labels_selected.push(t.row):D2.labels_selected.splice(n,1)),Q4(F);e="dot-"+e;C5.click(this,Q5(this.__data__),e),Ns.stopPropagation()}).attr("id",function(t){return"dot-"+t.row}),(o.length<50?i.transition().duration(Y?0:1e3*D2.animation_duration).delay(q).attrTween("d",function(t){var e=this.getAttribute("d"),t=Z3(t);return e==t?null:L9(e,t,{maxSegmentLength:.5})}).attr("fill",function(t){return a3(t.color)}).attr("fill-opacity",D2.fill_opacity).attr("stroke-opacity",D2.stroke_opacity).attr("stroke-width",D2.stroke_width).attr("stroke",function(t){return"auto"==D2.stroke_mode?a3(t.color):D2.stroke_color}):i.attr("d",Z3).transition().duration(Y||2500<o.length?0:1e3*D2.animation_duration).delay(q).attr("fill",function(t){return a3(t.color)}).attr("fill-opacity",D2.fill_opacity).attr("stroke-opacity",D2.stroke_opacity).attr("stroke-width",D2.stroke_width).attr("stroke",function(t){return"auto"==D2.stroke_mode?a3(t.color):D2.stroke_color})).attr("transform",Q),y.exit().attr("class",null).transition().duration(Y||2500<o.length?0:1e3*D2.animation_duration).delay(q).attr("fill-opacity",0).attr("stroke-opacity",0).remove()),Q4(r,e),function(t,e,n){var r=Fs("svg .lines").node(),i=Fs(D2.line_arrows?"#overlay":"#graphic").node(),o=Fs(D2.line_arrows?".data-labels":".data-points").node();i.insertBefore(r,o);var a=!e||"except_lines"==e?1e3*D2.animation_duration:0,s=H8(D2.line_width),r=s/(s*D2.line_arrow_size/10),o=D2.lines_show?t.lines:[],t=(e=Fs(i).select(".lines").selectAll(".line").data(o,function(t){return t.id})).enter().append("path").attr("class","line").attr("d",function(t){return c(t,!0)}).attr("fill","none").attr("stroke",l).attr("stroke-width",s).each(function(){D2.line_animate_in||Fs(this).attr("opacity",0);var t=this.getTotalLength();Fs(this).attr("opacity",D2.line_opacity).attr("stroke-dasharray",t+","+t).attr("stroke-dashoffset",t).transition("dash").duration(a).attr("stroke-dashoffset",0).transition("dash").duration(0).attr("stroke-dasharray",null)});function l(t){return"fixed"==D2.line_color_mode?D2.line_color:a3(t[0].color)||"black"}function c(t,e){return b3().x(function(t){return U4(t,!0===e)+t.beeswarm_offset_x}).y(function(t){return B4(t,!0===e)+t.beeswarm_offset_y}).curve(Z8[D2.line_curve]||Z8.curveLinear)(t)}e.merge(t).attr("clip-path",function(t){return"url(#facet-clip-"+t.facet_index+"-"+n+")"}).attr("marker-end",function(t){var e=t[t.length-2],n=t[t.length-1];return e.x==n.x&&e.y==n.y?null:"url(#arrowhead-"+t.id+")"}).transition("update").duration(a).attr("d",c).attr("stroke",l).attr("opacity",D2.line_opacity).attr("stroke-width",s),e.exit().each(function(){var t;D2.line_animate_out?(t=this.getTotalLength(),Fs(this).classed("line",!1).attr("stroke-dasharray",t+","+t).attr("stroke-dashoffset",0).transition("dash").duration(a).attr("stroke-dashoffset",t).remove()):Fs(this).classed("line",!1).transition().duration(a).attr("opacity",0).remove()}),i=Fs(i).select(".lines").selectAll(".arrowhead").data(D2.lines_show&&D2.line_arrows?o:[],function(t){return t.id}),(o=i.enter().append("marker").attr("class","arrowhead").attr("refX",10).attr("refY",0).attr("orient","auto").attr("viewBox","0 -5 10 10")).append("path").attr("d","M 10,0 L 10,0 L 10,0").attr("opacity",0).attr("fill","none").attr("stroke-width",r).attr("stroke","auto"==D2.line_arrow_color_mode?l:D2.line_arrow_color),i.exit().attr("class","exiting-arrowhead").transition().delay(a/10).on("interrupt",function(){Fs(this).remove()}).remove(),i.exit().select("path").transition().duration(a/10).attr("d","M 10,0 L 10,0 L 10,0"),(o=i.merge(o)).attr("id",function(t){return"arrowhead-"+t.id}).transition().duration(a).delay(.5*a).attr("markerWidth",D2.line_arrow_size).attr("markerHeight",D2.line_arrow_size),o.select("path").transition().duration(.66*a).delay(.5*a).attr("d","M 0,-5 L 10,0 L 0,5").attr("opacity",1).attr("stroke-width",r).attr("stroke","auto"==D2.line_arrow_color_mode?l:D2.line_arrow_color)}(r,e,H9),Q8(r,e,H9),Dk(r,e),C9={},l.each(function(t){var e=this._chart_layout.xScale({global:!0}),n=this._chart_layout.yScale({global:!0});C9[t.key]={id:t.key,x:t.layout.x,y:t.layout.y,chart_layout:this._chart_layout,x_scale:e,y_scale:n,x_domain:e.domain(),y_domain:n.domain(),x_range:e.range(),y_range:n.range()}}),U=C9,B=a,e=Fs("#axes-highlights").selectAll(".axis-highlights-facet").data(Object.keys(C9)),l=e.enter().append("g").classed("axis-highlights-facet",!0).attr("opacity",0).transition().duration(B).attr("opacity",1),e.merge(l).each(function(t){var e=U[t],n=e.chart_layout,r="string"==typeof n.xData().values[0],i="string"==typeof n.yData().values[0];gA.animationDuration(B).appendTo(Fs(this)).numberParser(function(t){var e=function(t){return t};return r?i||(e=Mh.getInterpretation(kw.data.metadata.y.type_id).parse):e=Mh.getInterpretation(kw.data.metadata.x.type_id).parse,e(t)}).chartLayout(e.chart_layout).facetName(t).offset({x:e.x,y:e.y}).xExtendByStep(r).yExtendByStep(i).update()}),e.exit().transition().duration(B).attr("opacity",0).remove()}function G9(){P9.update()}function q9(t,e){for(var n in C9){var r=C9[n];if(!(e[0]<r.x_range[0]+r.x)&&!(e[0]>r.x_range[1]+r.x||e[1]>r.y_range[0]+r.y||e[1]<r.y_range[1]+r.y)){var i=e[0]-r.x,o=e[1]-r.y;return{facet_id:n,x:r.x_scale.invert?r.x_scale.invert(i):W9(i,r.x_range,r.x_domain),y:r.y_scale.invert?r.y_scale.invert(o):W9(o,r.y_range,r.y_domain)}}}}function Q9(t){var e=C9[t.facet_id];if(e){var n=t.x.ordinal?e.x_scale(t.x.id)+e.x_scale.step()*t.x.offset:e.x_scale(t.x),t=t.y.ordinal?e.y_scale(t.y.id)+e.y_scale.step()*-t.y.offset:e.y_scale(t.y);return[e.x+n,e.y+t]}}function W9(t,e,n){var r=e[e.length-1]-e[0],t=(t-=e[0])/r,r=n.length;return{id:n[Math.floor(t*r)],offset:t*r%1-.5,ordinal:!0}}function V9(){K9(),YM(),G9()}function X9(t,e){var n;n=(n="number"==t&&e?[e]:[]).length?n[0]:[],oA.data(n,a3).autoTitle(kw.data.column_names.color||"").format(U9).visible(n.length),e=J9(t="string"==t&&e?e:[]),iA.data(t,a3).autoTitle(kw.data.column_names.color||"").filtered("off"==D2.legend_filtering_mode?[]:D2.legend_filter).on("click","off"==D2.legend_filtering_mode?null:e),rA.update(),Fs("#legend").style("display","off"!==D2.legend_position?"block":"none"),nA.setLegendPosition(D2.legend_position)}function $9(t,e){var n;n="string"==t&&e?e:[],t=a3,"off"!=D2.text_legend&&(e=D2.text_legend_bold?"bold":null,"auto"!=D2.text_legend&&!D2.text_legend_title||V3(Fs("#fl-layout-header h1"),n,t,e),"auto"!=D2.text_legend&&!D2.text_legend_subtitle||V3(Fs("#fl-layout-header h2"),n,t,e))}function J9(i){return function(t){var n,e=t.label||t,r=D2.legend_filter.indexOf(e),t=-1!=r;"filter_out"==D2.legend_filtering_mode?t?D2.legend_filter.splice(r,1):D2.legend_filter.push(e):"filter_in"==D2.legend_filtering_mode&&(n=i.indexOf(e),t||!D2.legend_filter.length?D2.legend_filter=i.filter(function(t,e){return e!=n}):D2.legend_filter=[]),V9()}}function K9(t){Fs("#graphic").attr("font-family",D2.layout.body_font.name),function(e){var t=[],n=function(t){return t};{var r;"filter"in e.column_names&&("string"!=e.metadata.filter.type&&(n=function(t){return t===D2.filter_show_all_text?t:null===t?"":zh(e.metadata.filter.output_format_id)(t)}),r=e.map(function(t){return t.filter}),t=_7(r),D2.filter_show_all&&t.unshift(D2.filter_show_all_text))}l7.options(t).formatter(n).update()}(n=kw.data),function(e){var t=[];{var n;p7=function(t){return t},"slider"in e.column_names&&("string"!=e.metadata.slider.type&&(p7=function(t){return t===D2.filter_show_all_text?t:null===t?"":zh(e.metadata.slider.output_format_id)(t)}),n=e.map(function(t){return t.slider}),t=_7(n))}c7.options(t).formatter(p7).update()}(n),s7.update(),u7.update(),f7.update(),d7.update(),Rw(["x","y","size","color","shape","facet"]),B9="datetime"==Mw.data_points.x_type?Mh.getInterpretation(kw.data.metadata.x.type_id).parse:function(t){return t},F9=Jj(Mw.data_points.x_type,kw.data.metadata),Y9=Mw.data_points.y_type&&"string"!==Mw.data_points.y_type?Kj(kw.data.metadata.y.output_format_id):function(t){return t},R9=Mw.data_points.size_type&&"string"!==Mw.data_points.size_type?tA(kw.data.metadata.size.output_format_id):function(t){return t},U9=Mw.data_points.color_type&&"string"!==Mw.data_points.color_type?eA(kw.data.metadata.color.output_format_id):function(t){return t};var e,n,r=Mw.data_points;e=r.color_type,n=r.color_domain,i3=e,o3.updateColorScale(n||[]).fallback(D2.default_color),R3(r.shape_type,r.shape_domain),U3(r.size_type,r.size_domain),X9(r.color_type,r.color_domain),nA.update(),$9(r.color_type,r.color_domain);r=nA.getPrimaryWidth();Z9(Mw,r,t),W5()}function t7(){return this.declarations=[],this}function e7(t){return this.selector=t,this.styles=[],this}t7.prototype.select=function(t){if(!t)return this;t=new e7(t);return(t.parent=this).addDeclaration(t),t},t7.prototype.addDeclaration=function(t){return this.declarations.push(t),this},t7.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},t7.prototype.clear=function(){return this.declarations=[],this},e7.prototype.style=function(t,e){e="function"==typeof value_?e():e;return""!==e&&null!=e&&this.styles.push([t,e]),this},e7.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var n7=Object.freeze({font_size:1,font_weight:"bold",height:2});function r7(t,e,n){for(var r in this._state=t,n7)void 0===this._state[r]&&(this._state[r]=n7[r]);return this._layout=n||{},this._styles=new t7,this._selector=e,this._createStylesheet(),this}function i7(t,e){e=e,t="string"==typeof(t=t)&&((t=Li(t)).opacity=void 0!==e?e:1,t);return!!t&&t.toString()}r7.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},r7.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()},document.createElement("canvas").getContext("2d");var o7=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function a7(t,e,n){for(var r in this._state=t,o7)void 0===this._state[r]&&(this._state[r]=o7[r]);return this._layout=n||{},this._styles=new t7,this._selector=e,this._createStylesheet(),this}a7.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},a7.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=i7(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var s7,l7,c7,u7,f7,d7,p7,h7=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function g7(t,e,n){for(var r in this._state=t,h7)void 0===this._state[r]&&(this._state[r]=h7[r]);return this._layout=n||{},this._styles=new t7,this._selector=e,this._createStylesheet(),this}function _7(t){for(var e=[],n={},r=0;r<t.length;r++)t[r]in n||(n[t[r]]=!0,e.push(t[r]));return e}function m7(){K9(),YM()}g7.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)};var y7={x_enabled:!(g7.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=i7(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()}),x_lines:"",x_line_color:null,x_line_width:2,x_line_dash:"2",x_areas:"",x_area_color:null,x_area_opacity:.1,x_area_texture:"none",x_font_size:.9,x_font_weight:"regular",x_label_vertical:!0,x_label_color:null,x_label_max_width:3,x_label_y_position:"top",x_label_x_position:"left",x_shadow_enabled:!0,x_shadow_color:null,y_enabled:!1,y_lines:"",y_line_color:null,y_line_width:2,y_line_dash:"2",y_areas:"",y_area_color:null,y_area_opacity:.1,y_area_texture:"none",y_font_size:.9,y_font_weight:"regular",y_label_x_position:"right",y_label_y_position:"above",y_label_color:null,y_label_max_width:3,y_shadow_enabled:!0,y_shadow_color:null};var v7="http://www.w3.org/1999/xhtml",b7={svg:"http://www.w3.org/2000/svg",xhtml:v7,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function x7(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),b7.hasOwnProperty(e)?{space:b7[e],local:t}:t}function w7(t){t=x7(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===v7&&t.documentElement.namespaceURI===v7?t.createElement(n):t.createElementNS(e,n)}})(t)}function M7(){}function k7(t){return null==t?M7:function(){return this.querySelector(t)}}function j7(t){return"object"===Zs(t)&&"length"in t?t:Array.from(t)}function A7(){return[]}function T7(t){return null==t?A7:function(){return this.querySelectorAll(t)}}function z7(t){return function(){return this.matches(t)}}function N7(e){return function(t){return t.matches(e)}}var D7=Array.prototype.find;function I7(){return this.firstElementChild}var S7=Array.prototype.filter;function E7(){return this.children}function L7(t){return new Array(t.length)}function C7(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function O7(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new C7(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function P7(t,e,n,r,i,o,a){for(var s,l,c=new Map,u=e.length,f=o.length,d=new Array(u),p=0;p<u;++p)(s=e[p])&&(d[p]=l=a.call(s,s.__data__,p,e)+"",c.has(l)?i[p]=s:c.set(l,s));for(p=0;p<f;++p)l=a.call(t,o[p],p,o)+"",(s=c.get(l))?((r[p]=s).__data__=o[p],c.delete(l)):n[p]=new C7(t,o[p]);for(p=0;p<u;++p)(s=e[p])&&c.get(d[p])===s&&(i[p]=s)}function F7(t){return t.__data__}function Y7(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function R7(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function U7(t,e){return t.style.getPropertyValue(e)||R7(t).getComputedStyle(t,null).getPropertyValue(e)}function B7(t){return t.trim().split(/^|\s+/)}function H7(t){return t.classList||new Z7(t)}function Z7(t){this._node=t,this._names=B7(t.getAttribute("class")||"")}function G7(t,e){for(var n=H7(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function q7(t,e){for(var n=H7(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Q7(){this.textContent=""}function W7(){this.innerHTML=""}function V7(){this.nextSibling&&this.parentNode.appendChild(this)}function X7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $7(){return null}function J7(){var t=this.parentNode;t&&t.removeChild(this)}function K7(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tj(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ej(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?t.length=r:delete this.__on}}}function nj(a,s,l){return function(){var t,e,n=this.__on,r=(e=s,function(t){e.call(this,t,this.__data__)});if(n)for(var i=0,o=n.length;i<o;++i)if((t=n[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=l),void(t.value=s);this.addEventListener(a.type,r,l),t={type:a.type,name:a.name,value:s,listener:r,options:l},n?n.push(t):this.__on=[t]}}function rj(t,e,n){var r=R7(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}C7.prototype={constructor:C7,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Z7.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var ij=regeneratorRuntime.mark(oj);function oj(){var e,n,r,i,o,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this._groups,n=0,r=e.length;case 1:if(!(n<r)){t.next=13;break}i=e[n],o=0,a=i.length;case 3:if(!(o<a)){t.next=10;break}if(s=i[o])return t.next=7,s;t.next=7;break;case 7:++o,t.next=3;break;case 10:++n,t.next=1;break;case 13:case"end":return t.stop()}},ij,this)}var aj=[null];function sj(t,e){this._groups=t,this._parents=e}function lj(){return new sj([[document.documentElement]],aj)}function cj(t){return"string"==typeof t?new sj([[document.querySelector(t)]],[document.documentElement]):new sj([[t]],aj)}function uj(t){return cj(w7(t).call(document.documentElement))}sj.prototype=lj.prototype=ya({constructor:sj,select:function(t){"function"!=typeof t&&(t=k7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new sj(r,this._parents)},selectAll:function(t){var e;t="function"==typeof t?(e=t,function(){var t=e.apply(this,arguments);return null==t?[]:j7(t)}):T7(t);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],c=l.length,u=0;u<c;++u)(s=l[u])&&(i.push(t.call(s,s.__data__,u,l)),o.push(s));return new sj(i,o)},selectChild:function(t){return this.select(null==t?I7:(e="function"==typeof t?t:N7(t),function(){return D7.call(this.children,e)}));var e},selectChildren:function(t){return this.selectAll(null==t?E7:(e="function"==typeof t?t:N7(t),function(){return S7.call(this.children,e)}));var e},filter:function(t){"function"!=typeof t&&(t=z7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new sj(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,F7);var n,r=e?P7:O7,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var f=i[u],d=o[u],p=d.length,h=j7(t.call(f,f&&f.__data__,u,i)),g=h.length,_=l[u]=new Array(g),m=s[u]=new Array(g);r(f,d,_,m,c[u]=new Array(p),h,e);for(var y,v,b=0,x=0;b<g;++b)if(y=_[b]){for(x<=b&&(x=b+1);!(v=m[x])&&++x<g;);y._next=v||null}}return(s=new sj(s,i))._enter=l,s._exit=c,s},enter:function(){return new sj(this._enter||this._groups.map(L7),this._parents)},exit:function(){return new sj(this._exit||this._groups.map(L7),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof sj))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new sj(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||Y7;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new sj(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t,e=0,n=Na(this);try{for(n.s();!(t=n.n()).done;){t.value;++e}}catch(t){n.e(t)}finally{n.f()}return e},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=x7(t);if(arguments.length<2){t=this.node();return n.local?t.getAttributeNS(n.space,n.local):t.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):U7(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=B7(t+"");if(arguments.length<2){for(var r=H7(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?G7:q7)(this,t)}}:e?function(t){return function(){G7(this,t)}}:function(t){return function(){q7(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Q7:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?W7:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(V7)},lower:function(){return this.each(X7)},append:function(t){var e="function"==typeof t?t:w7(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:w7(t),r=null==e?$7:"function"==typeof e?e:k7(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(J7)},clone:function(t){return this.select(t?tj:K7)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?nj:ej,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return rj(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return rj(this,t,e)}})(t,e))}},Symbol.iterator,oj);var fj=$_("start","end","cancel","interrupt"),dj=[],pj=0,hj=1,gj=2,_j=3,mj=4,yj=5,vj=6;function bj(t,e,n,r,i,o){var a,s,l,c,u,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function d(t){var e,n,r,i;if(l.state!==hj)return h();for(e in u)if((i=u[e]).name===l.name){if(i.state===_j)return vm(d);i.state===mj?(i.state=vj,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<s&&(i.state=vj,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete u[e])}if(vm(function(){l.state===_j&&(l.state=mj,l.timer.restart(p,l.delay,l.time),p(t))}),l.state=gj,l.on.call("start",a,a.__data__,l.index,l.group),l.state===gj){for(l.state=_j,c=new Array(r=l.tween.length),e=0,n=-1;e<r;++e)(i=l.tween[e].value.call(a,a.__data__,l.index,l.group))&&(c[++n]=i);c.length=n+1}}function p(t){for(var e=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(h),l.state=yj,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);l.state===yj&&(l.on.call("end",a,a.__data__,l.index,l.group),h())}function h(){for(var t in l.state=vj,l.timer.stop(),delete u[s],u)return;delete a.__transition}a=t,s=n,l={name:e,index:r,group:i,on:fj,tween:dj,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:pj},((u=a.__transition)[s]=l).timer=hm(function(t){l.state=hj,l.timer.restart(d,l.delay,l.time),l.delay<=t&&d(t-l.delay)},0,l.time)}function xj(t,e){e=Mj(t,e);if(e.state>pj)throw new Error("too late; already scheduled");return e}function wj(t,e){e=Mj(t,e);if(e.state>_j)throw new Error("too late; already running");return e}function Mj(t,e){t=t.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function kj(t,e,n){var r=t._id;return t.each(function(){var t=wj(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Mj(t,r).value[e]}}function jj(t,e){var n;return("number"==typeof e?Mu:e instanceof Li?zc:(n=Li(e))?(e=n,zc):Tu)(t,e)}function Aj(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}):o}return t._value=i,t}function Tj(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))}):o}return t._value=i,t}var zj=lj.prototype.constructor;function Nj(t){return function(){this.style.removeProperty(t)}}function Dj(i,o,a){var s,l;function t(){var e,n,r,t=o.apply(this,arguments);return s=t!==l?(l=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)}):s}return t._value=o,t}function Ij(n){var r,i;function t(){var e,t=n.apply(this,arguments);return r=t!==i?(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)}):r}return t._value=n,t}var Sj=0;function Ej(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}sy=lj.prototype;Ej.prototype=ya({constructor:Ej,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=k7(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),f[d]=l,bj(f[d],e,n,d,f,Mj(s,n)));return new Ej(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=T7(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,f=0;f<u;++f)if(l=c[f]){for(var d,p=t.call(l,l.__data__,f,c),h=Mj(l,n),g=0,_=p.length;g<_;++g)(d=p[g])&&bj(d,e,n,g,p,h);o.push(p),a.push(l)}return new Ej(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=z7(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Ej(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,t=n.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var s,l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),d=0;d<u;++d)(s=l[d]||c[d])&&(f[d]=s);for(;a<r;++a)o[a]=e[a];return new Ej(o,this._parents,this._name,this._id)},selection:function(){return new zj(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=++Sj,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&bj(a,t,n,c,s,{time:(a=Mj(a,e)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new Ej(r,this._parents,t,n)},call:sy.call,nodes:sy.nodes,node:sy.node,size:sy.size,empty:sy.empty,each:sy.each,on:function(t,e){var n,r,i,o,a,s,l=this._id;return arguments.length<2?Mj(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return!(t=0<=e?t.slice(0,e):t)||"start"===t})?xj:wj,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=x7(t),r="transform"===n?Yu:jj;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,l;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?l:(s=e,l=i(a=t,n));this.removeAttribute(r)}})(n,r,kj(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return t=x7(t),this.tween(n,(t.local?Aj:Tj)(t,e))},style:function(t,e,n){var r,i,o,a,s,l,c,u,f,d,p,h,g,_,m,y,v,b,x,w,M,k,j,A,T,z="transform"==(t+="")?Fu:jj;return null==e?this.styleTween(t,(M=t,k=z,function(){var t=U7(this,M),e=(this.style.removeProperty(M),U7(this,M));return t===e?null:t===j&&e===A?T:T=k(j=t,A=e)})).on("end.style."+t,Nj(t)):"function"==typeof e?this.styleTween(t,(y=z,v=kj(this,"style."+(m=t),e),function(){var t=U7(this,m),e=v(this),n=e+"";return null==e&&(this.style.removeProperty(m),n=e=U7(this,m)),t===n?null:t===b&&n===x?w:(x=n,w=y(b=t,e))})).each((c=this._id,_="end."+(g="style."+(u=t)),function(){var t=wj(this,c),e=t.on,n=null==t.value[g]?h=h||Nj(u):void 0;e===f&&p===n||(d=(f=e).copy()).on(_,p=n),t.on=d})):this.styleTween(t,(r=t,i=z,l=(o=e)+"",function(){var t=U7(this,r);return t===l?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Dj(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=kj(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Ij(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t,e=this.parentNode;for(t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Mj(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=wj(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var l,c;if("function"!=typeof s)throw new Error;return function(){var t=wj(this,o),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){xj(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){xj(this,t).delay=e}})(e,t)):Mj(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){wj(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){wj(this,t).duration=e}})(e,t)):Mj(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){wj(this,t).ease=e}}(e,t)):Mj(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((e=this._id,n=t,function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;wj(this,e).ease=t}));var e,n},end:function(){var i,o,a=this,s=a._id,l=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--l&&t()}};a.each(function(){var t=wj(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o}),0===l&&t()})}},Symbol.iterator,sy[Symbol.iterator]);var Lj,Cj,Oj,Pj,Fj,Yj,Rj,Uj,Bj,Hj={time:null,delay:0,duration:250,ease:Hm};function Zj(t){switch(!0){case t.string_array:return"string";case t.numeric_array:return"number";case t.datetime_array:return"datetime";default:return"no type found"}}function Gj(t){return window.innerWidth!==Lj&&(Lj=window.innerWidth,Cj=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Cj}function qj(t,e,n){return"none"===e?t.color:"url(#".concat(e,"-").concat(n,")")}function Qj(t,e){var n;if(void 0===e){var r,i=Na(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(n<o||void 0===n&&o<=o)&&(n=o)}}catch(t){i.e(t)}finally{i.f()}}else{var a,s,l=-1,c=Na(t);try{for(c.s();!(a=c.n()).done;)null!=(s=e(s=a.value,++l,t))&&(n<s||void 0===n&&s<=s)&&(n=s)}catch(t){c.e(t)}finally{c.f()}}return n}function Wj(t,e){var n;if(void 0===e){var r,i=Na(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;null!=o&&(o<n||void 0===n&&o<=o)&&(n=o)}}catch(t){i.e(t)}finally{i.f()}}else{var a,s,l=-1,c=Na(t);try{for(c.s();!(a=c.n()).done;)null!=(s=e(s=a.value,++l,t))&&(s<n||void 0===n&&s<=s)&&(n=s)}catch(t){c.e(t)}finally{c.f()}}return n}function Vj(t,e,n,r){var i=[],o=0,a=document.createElement("canvas").getContext("2d");a.font=e;e=a.measureText(t).width;if(e<=r)i.push(t),o=e;else{for(var s=t.trim().split(/\s+/g),l="",c=0;c<s.length;c++){var u=s[c],f=l+(l?" ":"")+u,d=a.measureText(f).width;if(!(d<=r)){var p=i.length+1==n;if(!p&&l)if(i.push(l),a.measureText(u).width<=r){l=u;continue}for(var h=1,g=f;g=f.substring(0,f.length-h)+"…",r<(d=a.measureText(g).width)&&++h<f.length;);o=Math.max(o,d),l=g;break}l=f,o=Math.max(o,d)}i.push(l)}return i.widest_line=o,i}function Xj(e){var n=e.appendTo();!function(){(Pj=uj("svg:pattern").attr("id","fl-pattern-diagonal-x").attr("width",4).attr("height",4).attr("patternUnits","userSpaceOnUse")).append("path").attr("d","M 0,4 l 4,-4 M -1,1 l 2,-2 M 3,5 l 2,-2").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),(Yj=uj("svg:pattern").attr("id","fl-pattern-grid-x").attr("width",4).attr("height",4).attr("patternUnits","userSpaceOnUse")).append("path").attr("d","M 2, 0 l 0, 4").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),Yj.append("path").attr("d","M 0,2 l 4,0").attr("stroke-width",1).attr("shape-rendering","auto").attr("stroke-linecap","square"),(Uj=uj("svg:pattern").attr("id","fl-pattern-dots-x").attr("width",5).attr("height",5).attr("patternUnits","userSpaceOnUse")).append("circle").attr("cx",2.5).attr("cy",2.5).attr("r",1).attr("stroke-width",1).attr("shape-rendering","auto"),Fj=cj(Pj.node().cloneNode(!0)).attr("id","fl-pattern-diagonal-y"),Rj=cj(Yj.node().cloneNode(!0)).attr("id","fl-pattern-grid-y"),Bj=cj(Uj.node().cloneNode(!0)).attr("id","fl-pattern-dots-y");var t=[Pj,Uj,Yj,Fj,Rj,Bj];Oj=uj("svg:defs").node(),t.forEach(function(t){Oj.appendChild(t.node())})}(),e.appendPatternsTo=function(t){return void 0===t?n:(t.node().appendChild(Oj),n=t,e)}}function $j(W,V){W.update=function(){r=V,Uj.select("circle").style("fill",r.x_area_color),Pj.select("path").style("stroke",r.x_area_color),Yj.selectAll("path").style("stroke",r.x_area_color),Bj.select("circle").style("fill",r.y_area_color),Fj.select("path").style("stroke",r.y_area_color),Rj.selectAll("path").style("stroke",r.y_area_color);var t,e,n=W.chartLayout(),r=W.facetName(),i=W.offset(),g=1.2,o=[{chart_layout:n,facet_name:r}],_="rtl"===document.body.getAttribute("dir"),P="fg-label",F="bg-label",a=W.numberParser(),Y=W.animationDuration();function R(){return Gj(V.x_font_size)}function U(){return Gj(V.y_font_size)}function B(t){return t.replace(/\s*::\s*/g,"::").split("::").map(function(t){return t.trim()})}function H(t){return t.replace(/\s*>>\s*/,">>").split(">>").map(function(t){return t.trim()})}function Z(t,e,n,r){return"number"===e?isNaN(a(t))?a(t):t:"datetime"===e?("x"===r?n.xDatetimeParse():n.yDatetimeParse())(t):t}function G(t,e,n,r,i){var o=Gj(n),t=cj(e).selectAll(".".concat(i)).data(t);t.join("tspan").text(function(t){return t}).attr("class",i).attr("y",function(t,e){return e*(o*g)+"px"}).attr("x",0).attr("font-weight",r),t.exit().remove()}function q(t,e,n,r,i){var o,a,s,l=0,c="middle"==V.x_label_x_position,u="bottom"==V.x_label_y_position,f=V.x_label_vertical,d=R()*g,p=d*(r-1),h=R()/2,r=f?h:u?p+h:d,u=f?n/2:n/2-p/2,d=e.range()[1],e=e.range()[0],t=t.getBoundingClientRect().width,r={top:r,middle:u,bottom:n-r}[V.x_label_y_position],r=f?(l=(a={right:R(),middle:-(p-h)/2,left:-p-h})[V.x_label_x_position],o={top:_?"start":"end",middle:"middle",bottom:_?"end":"start"}[V.x_label_y_position],d<i+t+h&&(l=a.left),i-t-h<e&&(l=a.right),c&&(d<i+t/2&&(l=a.left),i-t/2<e&&(l=a.right)),"translate("+l+", "+r+") rotate(-90)"):(l=(p={right:h,middle:0,left:-h})[V.x_label_x_position],o=(a={right:_?"end":"start",middle:"middle",left:_?"start":"end"})[V.x_label_x_position],e=c?(s=d<i+t/2,i-t/2<e):(s=d<i+t+h,i-t-h<e),s&&(l=p.left,o=a.left),e&&(l=p.right,o=a.right),"translate("+l+", "+r+")");return{transform_str:r,text_anchor:o}}function Q(t,e,n,r,i){var o,a={left:_?"end":"start",middle:"middle",right:_?"start":"end"}[V.y_label_x_position],s=U()*g,l=s*(r-1),c=U()/2,u=l+c,r=e.range()[0],l=e.range()[1],e=t.getBoundingClientRect().height,t="middle"==V.y_label_y_position,u={above:-u,middle:-u/2+c,below:s},s=u[V.y_label_y_position],c={right:n-c,middle:n/2,left:c}[V.y_label_x_position],e=t?(o=i-e/2<l,r<i+e/2):(o=i-e<l,r<i+e);return o&&(s=u.below),{transform_str:"translate("+c+", "+(s=e?u.above:s)+")",text_anchor:a}}t=W.appendTo().selectAll("g.axis-highlights").data(o),e=t.enter().append("g").attr("class","axis-highlights").style("opacity",0),t.merge(e).transition().duration(Y).style("opacity",1).attr("transform",function(){return!i||isNaN(i.x)||isNaN(i.y)?null:"translate("+i.x+", "+i.y+")"}).each(function(t){var i,o,a,e,s,n,l,c,u,f,d,p,h,r,g,_,m,y,v,b,x,w,M,k,j,A,T,z,N,D,I,S,E,L,C,O;v=this,o=(i=t).chart_layout,a=o.margins.left,e=o.margins.top,s=Math.max(0,o.plot_height),n=Math.max(0,o.plot_width),l=o.xScale(),c=Zj(i.chart_layout.xData()),z=W.xDisabled(),u=[],!z&&V.x_enabled&&V.x_areas&&V.x_areas.split("\n").map(function(t){var e,n,r=B(t);r.length<2||(e=r[0],n=H(r[1]).map(function(t,e){t=Z(t,c,o,"x"),t=t?l(t):null;return W.xExtendByStep()&&(t+=o.xMinStep()/2*(0==e?-1:1)),t}),t=r[2]||V.x_area_color||"currentColor",(r=r[3]||null)&&i.facet_name!==r||1<n.length&&u.push({label:e,range:n,color:t}))}),z=cj(v).selectAll("g.area.x").data(u),(v=z.enter().append("g").attr("class","area x").attr("pointer-events","none").attr("transform",function(t){return"translate("+(Wj(t.range)||a)+", "+e+")"})).append("rect").attr("height",s).attr("width",function(t){return Math.abs(t.range[1]-t.range[0])||0}),v.append("text"),(v=z.merge(v)).transition().duration(Y).attr("transform",function(t){t=Wj(t.range);return"translate("+(Math.max(t,a)||0)+", "+e+")"}),v.select("rect").attr("width",function(t){var e=Wj(t.range),t=Qj(t.range),e=Math.max(e,a),t=Math.min(t,n+a);return Math.abs(t-e)||4}).style("fill",function(t){return qj(t,V.x_area_texture,"x")}).attr("opacity",V.x_area_opacity).attr("height",s),v.select("text").each(function(t){var e=W.fontFamily(),n=Wj(t.range)||a,r=Gj(V.x_label_max_width),e="".concat(V.x_font_weight," ").concat(V.x_font_size," ").concat(e),r=Vj(t.label,e,null,r);G(r,this,V.x_font_size,V.x_font_weight,F),G(r,this,V.x_font_size,V.x_font_weight,P);r=r.length,r=q(this,l,s,r,n),n=r.transform_str,r=r.text_anchor;cj(this).attr("transform",n).attr("text-anchor",r)}).attr("font-size",R()),v.selectAll(".".concat(P)).attr("fill",V.x_label_color||"currentColor"),v.selectAll(".".concat(F)).attr("display",V.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.x_shadow_color||"transparent").attr("stroke-width",2),z.exit().remove(),v=this,d=(f=t).chart_layout,p=d.margins.top,h=Math.max(0,d.plot_width),r=Math.max(0,d.plot_height),g=d.margins.left,_=d.yScale(),m=Zj(d.yData()),z=W.yDisabled(),y=[],!z&&V.y_enabled&&V.y_areas&&V.y_areas.split("\n").map(function(t){var e,n,r=B(t);r.length<2||(e=r[0],n=H(r[1]).map(function(t,e){t=Z(t,m,d,"y"),t=t&&_(t);return W.yExtendByStep()&&(t+=d.yMinStep()/2*(0==e?1:-1)),t}),t=r[2]||V.y_area_color||"currentColor",(r=r[3]||null)&&f.facet_name!==r||1<n.length&&y.push({label:e,range:n,color:t}))}),z=cj(v).selectAll("g.area.y").data(y),(v=z.enter().append("g").attr("class","area y").attr("pointer-events","none").attr("transform",function(t){return"translate("+g+", "+Wj(t.range)+")"})).append("rect").attr("width",h).attr("height",function(t){return Wj(t.range)}),v.append("text"),(v=z.merge(v)).transition().duration(Y).attr("transform",function(t){t=Wj(t.range),t=Math.max(t,p);return"translate("+g+", "+t+")"}),v.select("rect").attr("height",function(t){var e=Wj(t.range),t=Qj(t.range),t=Math.min(t,r+p),e=Math.max(e,p);return Math.abs(t-e)||4}).attr("fill",function(t){return qj(t,V.y_area_texture,"y")}).attr("opacity",V.y_area_opacity).attr("width",h),v.select("text").each(function(t){var e=W.fontFamily(),n=Gj(V.y_label_max_width),r=Wj(t.range)||p,e="".concat(V.y_font_weight," ").concat(V.y_font_size," ").concat(e),n=Vj(t.label,e,null,n);G(n,this,V.y_font_size,V.y_font_weight,F),G(n,this,V.y_font_size,V.y_font_weight,P);n=n.length,n=Q(this,_,h,n,r),r=n.transform_str,n=n.text_anchor;cj(this).attr("transform",r).attr("text-anchor",n)}).attr("font-size",U()),v.selectAll(".".concat(P)).attr("fill",V.y_label_color||"currentColor"),v.selectAll(".".concat(F)).attr("display",V.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.y_shadow_color||"transparent").attr("stroke-width",2),z.exit().remove(),v=this,x=(b=t).chart_layout,w=x.margins.left,M=x.margins.top,k=Math.max(0,x.plot_height),z=W.xDisabled(),j=x.xScale(),A=Zj(x.xData()),T=[],!z&&V.x_enabled&&V.x_lines&&V.x_lines.split("\n").forEach(function(t){var e=B(t),n=e[0],r=e[1];void 0!==r&&(t=e[2]||V.x_line_color||"currentColor",(e=e[3]||null)&&b.facet_name!==e||T.push({label:n,x:Z(r,A,x,"x"),color:t}))}),z=cj(v).selectAll("g.line.x").data(T),(v=z.enter().append("g").attr("class","line x").attr("pointer-events","none").attr("transform",function(t){return"translate("+(j(t.x)||w)+", "+M+")"})).append("line"),v.append("text"),(v=z.merge(v)).transition().duration(Y).attr("transform",function(t){return"translate("+(j(t.x)||w)+", "+M+")"}),v.select("line").attr("stroke-dasharray",V.x_line_dash+" "+V.x_line_dash).attr("stroke",function(t){return t.color}).attr("stroke-width",V.x_line_width).attr("y2",k),v.select("text").each(function(t){var e=j(t.x)||w,n=W.fontFamily(),r=Gj(V.x_label_max_width),n="".concat(V.x_font_weight,"  ").concat(V.x_font_size," ").concat(n),r=Vj(t.label,n,null,r);G(r,this,V.x_font_size,V.x_font_weight,F),G(r,this,V.x_font_size,V.x_font_weight,P);r=r.length,r=q(this,j,k,r,e),e=r.transform_str,r=r.text_anchor;cj(this).attr("transform",e).attr("text-anchor",r)}).attr("font-size",R()),v.selectAll(".".concat(P)).attr("fill",V.x_label_color||"currentColor"),v.selectAll(".".concat(F)).attr("display",V.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.x_shadow_color).attr("stroke-width",2),z.exit().remove(),z=this,D=(N=t).chart_layout,I=Math.max(0,D.plot_width),S=D.margins.left,E=D.yScale(),L=Zj(D.yData()),t=W.yDisabled(),C=D.margins.top,O=[],!t&&V.y_enabled&&V.y_lines&&V.y_lines.split("\n").forEach(function(t){var e=B(t),n=e[0],r=e[1];void 0!==r&&(t=e[2]||V.y_line_color||"currentColor",(e=e[3]||null)&&N.facet_name!==e||O.push({label:n,y:Z(r,L,D,"y"),color:t}))}),t=cj(z).selectAll("g.line.y").data(O),(z=t.enter().append("g").attr("class","line y").attr("pointer-events","none").attr("transform",function(t){return"translate("+S+", "+(E(t.y)||0)+")"})).append("line").attr("width",0),z.append("text"),(z=t.merge(z)).transition().duration(Y).attr("transform",function(t){return"translate("+S+", "+(E(t.y)||0)+")"}),z.select("line").attr("stroke-dasharray",V.y_line_dash+" "+V.y_line_dash).attr("stroke",function(t){return t.color}).attr("stroke-width",V.y_line_width).attr("x2",I),z.select("text").each(function(t){var e=W.fontFamily(),n=E(t.y)||C,r=Gj(V.y_label_max_width),e="".concat(V.y_font_weight," ").concat(V.y_font_size," ").concat(e),r=Vj(t.label,e,null,r);G(r,this,V.y_font_size,V.y_font_weight,F),G(r,this,V.y_font_size,V.y_font_weight,P);r=r.length,r=Q(this,E,I,r,n),n=r.transform_str,r=r.text_anchor;cj(this).attr("transform",n).attr("text-anchor",r)}).attr("font-size",U()),z.selectAll(".".concat(P)).attr("fill",V.y_label_color||"currentColor"),z.selectAll(".".concat(F)).attr("display",V.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",V.y_shadow_color).attr("stroke-width",2),t.exit().remove()}),t.exit().remove()}}lj.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>gj&&n.state<yj,n.state=vj,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},lj.prototype.transition=function(t){var e,n;t=t instanceof Ej?(e=t._id,t._name):(e=++Sj,(n=Hj).time=fm(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&bj(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}(a,e));return new Ej(r,this._parents,t,e)},document.createElement("canvas").getContext("2d");function Jj(t,e){return e=e&&e.x?e.x.output_format_id:null,t&&"string"!=t&&e?"number"==t?Th(D2.x_formatting)(e):"datetime"==t?zh(e):void 0:function(t){return t}}var Kj=Th(D2.y_formatting),tA=Th({}),eA=Th(D2.color_formatting),nA=function(t){for(var e in Ho=t,Ro)void 0===Ho[e]&&(Ho[e]=Ro[e]);return(Hn=document.createElement("style")).id="flourish-page-styles",Hn.type="text/css",document.head.appendChild(Hn),Wo.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Wo.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),Qo.forEach(function(t,e){Wo[t]=$o(t,e)}),ta("header").appendChild(function(){(ho=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return go=document.createElement("h1"),_o=document.createElement("h2"),mo=document.createElement("p"),yo=document.createElement("img"),ho.appendChild(yo),ho.appendChild(t),t.appendChild(go),t.appendChild(_o),ho.appendChild(mo),ho}()),ta("footer").appendChild(Co()),Wo.primary.outer.style.overflow="hidden",function(){var t=Wo.primary.outer;t.style.position="relative",(qo=document.createElement("div")).id="fl-layout-overlay";var e=qo.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",qo.appendChild(n),t.appendChild(qo)}(),Yo(!0),{update:Yo,getWrapper:Jo,getSidebar:Ko,getSection:ta,getOuterWidth:ea,getInnerWidth:na,getOuterHeight:ra,getInnerHeight:ia,getPrimaryHeight:oa,getPrimaryWidth:aa,getDefaultPrimaryHeight:la,setHeight:fa,setLegendPosition:da,showOverlay:pa,remToPx:Go,getOverlay:ha}}(D2.layout),rA=new cd(D2.legend_container),iA=new zl(D2.categorical_legend),oA=new hd(D2.continuous_legend),sy=Fs(nA.getSection("legend")).append("div").attr("id","legend").node();rA.appendTo(sy).add([iA,oA]);var aA,sA,lA,cA,uA,fA,dA,pA,hA,gA=function(t){for(var e in y7)void 0===t[e]&&(t[e]=y7[e]);var n,r,i,o,a,s,l,c,u,f,d,p,h,g,_,m,y,v,b,x,w,M,k={};return r=0,(n=k).animationDuration=function(t){return void 0===t?r:(r=t,n)},o=function(t){return t},(i=k).numberParser=function(t){return void 0===t?o:(o=t,i)},(a=k).appendTo=function(t){return void 0===t?s:(void 0===a.appendPatternsTo()&&a.appendPatternsTo(s),s=t,a)},(l=k).chartLayout=function(t){return void 0===t?c:(c=t,l)},f=!1,(u=k).xDisabled=function(t){return void 0===t?f:(f=t,u)},p=!1,(d=k).yDisabled=function(t){return void 0===t?p:(p=t,d)},g=!1,(h=k).xExtendByStep=function(t){return void 0===t?g:(g=t,h)},m=!1,(_=k).yExtendByStep=function(t){return void 0===t?m:(m=t,_)},(y=k).facetName=function(t){return void 0===t?v:(v=t,y)},(b=k).fontFamily=function(t){return void 0===t?x:(x=t,b)},Xj(k),(w=k).offset=function(t){return void 0===t?M:(M=t,w)},$j(k,t),k}(D2.axes_highlights);function _A(t,e){var n,r=location.hash.substring(1);if(""!=r){try{n=JSON.parse(decodeURIComponent(r))}catch(t){Flourish.warn({message:"Invalid JSON passed to template URL hash",explanation:t})}n&&!function t(e,n,r){for(var i in n){var o,a,s=n[i];"object"!=Zs(s)||null===s||Array.isArray(s)?-1<r.indexOf(i)?e[i]=s:Flourish.warn("State property `"+i+"` not whitelisted for use in URL"):(o=i.length,a=r.filter(function(t){return t.substring(0,o)==i}).map(function(t){return t.substring(o+1)}),t(e[i],s,a))}}(t,n,e)}}return I2(Fs(nA.getSection("primary")).append("svg").attr("id","graphic").style("position","absolute").append("g").attr("class","facets").node()).chart.remove(),l7=ww(D2.filter).on("change",m7),c7=ww(D2.slider).on("change",m7),aA=D2.controls_container,s7=new yw(aA).appendTo(nA.getSection("controls")).add([l7,c7]),aA=D2.controls_style,u7=new r7(aA,".fl-control",sA),sA=D2.button_style,f7=new a7(sA,".fl-control-buttons",lA),lA=D2.dropdown_style,d7=new g7(lA,".fl-control-dropdown",cA),uA=D2.popup,C5=new Z5(uA,fA,dA),pA=nA.getSection("primary"),hA=nA.getSidebar(),P9=new F8(pA,hA,D2.annotations,{getDataFromCursor:q9,getPositionFromData:Q9}),t.data=kw,t.draw=function(){var t,e,n,r;s=D2.url_state,t=D2,e=K9,n={enabled:s.enabled||!1,whitelist:s.whitelist||""}.whitelist.split(/\n/),_A(t,n),window.addEventListener("hashchange",function(){_A(t,n),e&&e()}),document.fonts&&(r=r||function(){window.template.update()},document.fonts.ready.then(function(t){r(t),document.fonts.addEventListener("loadingdone",function(){r(t)})}).catch(function(t){console.log("Error loading fonts",t)}));var i,o,a=(l=Fs(nA.getSection("primary"))).select("#graphic").on("click",function(){C5.clickout(),W5()}),s=l.append("div").node(),l=l.append("svg").attr("id","overlay").attr("fill","currentColor").style("position","absolute");function c(){var t=nA.getInnerWidth(),e=i!=t;K9(e),YM(e),G9(),i=t}a.append("g").attr("class","fits"),a.append("g").attr("class","violins"),a.append("g").attr("class","data-points"),l.append("g").attr("class","lines"),a.append("g").attr("id","axes-highlights"),l.append("g").attr("class","data-labels"),l.append("g").attr("class","boxes"),K9(!D2.line_animate_in||"except_lines"),FM(s),G9(),window.addEventListener("resize",function(){var t=0;(D2.beeswarm_plot&&Mw.boxes.category_col&&3e3<Mw.data_points.length||!RM()&&5e3<Mw.data_points.length)&&(t=200),clearTimeout(o),o=setTimeout(c,t)},!0)},t.state=D2,t.update=V9,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=template.js.map
</script><script src="https://cabin.nei.st/miro/brick/flourish/resources/v3/embedded.js"></script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"filter.control_type":"buttons","filter_show_all":false,"layout.multiple_sources":true,"default_color":"#4328e7","x.linear_max":null,"label_align":"start","labels_show":true,"label_offset":"next","layout.source_name":"Eurostat","height_mode":"aspect","categorical_legend.title_mode":"custom","layout.title":"Food prices are rising faster in many countries that spend relatively more on groceries","popup.popup_custom_header":"{{country}}","popup.popup_is_custom":true,"popup.popup_custom_main":"Food inflation rate: {{May, or latest available month (food and non-alcoholic beverages)}}% \u003cbr>\nExpenditure on food: {{Expenditure on food and non-alcoholic beverages (% of total)}}%","popup.show_popup_styles":true,"popup.popup_pointer":false,"fit_type":"chart","fit_line_dash":2.25,"layout.footer_note":"*Or latest available month","layout.footer_note_secondary":"Visual journalism by Chelsea Bruce-Lockhart","layout.header_text":"","layout.subtitle":"Share of consumer expenditure on food and non-alcoholic beverages, 2020 or latest year (%)","layout.source_name_2":"USDA","layout.source_url_2":"https://www.ers.usda.gov/topics/international-markets-u-s-trade/international-consumer-and-food-industry-trends/#data","layout.source_url":"https://ec.europa.eu/eurostat/web/products-eurostat-news/-/ddn-20191209-1","layout.space_between_sections":"1","layout.title_space_above":"0.5","layout.header_text_styling":false,"legend_filtering_mode":"filter_out","categorical_legend.title":"Unselect region to remove from chart  ","layout.source_name_3":"OECD, Refinitiv","popup.popup_header_type":"block","facet_aspect":150,"x.tick_mode":"number","label_color":null,"x.title":"Annual food inflation rate, May 2022* (%)","layout.font_size_mobile_small":100,"layout.font_size_mobile_big":100,"layout.font_size_tablet":100,"layout.font_size_desktop":100,"layout.font_size_big_screen":120,"layout.body_font":{"name":"Metric Web","url":"https://cabin.nei.st/miro/brick/flourish/fonts/stylesheet.css"},"layout.margin_top":0,"layout.margin_right":0,"layout.margin_bottom":0,"layout.margin_left":0,"layout.space_between_sections_custom":1.75,"layout.background_color":"#fff1e5","layout.header_logo_enabled":true,"layout.header_logo_src":"https://cabin.nei.st/miro/brick/flourish/uploads/1c064a3c-9c0f-4043-8de0-379265d5d2c9.svg","layout.header_logo_height":0.25,"layout.header_logo_margin_top":0,"layout.header_logo_margin_right":0,"layout.title_size":"custom","layout.title_size_custom":1.5,"layout.title_line_height":1.25,"layout.title_weight":"normal","layout.title_space_above_custom":0.75,"layout.title_styling":true,"layout.subtitle_size":"custom","layout.subtitle_size_custom":1.125,"layout.subtitle_line_height":1.25,"layout.subtitle_color":"#4d4845","layout.subtitle_space_above":"custom","layout.subtitle_space_above_custom":1.25,"layout.subtitle_styling":true,"layout.header_text_size":"custom","layout.header_text_size_custom":1,"layout.header_text_line_height":1.25,"layout.header_text_color":"#4d4845","layout.footer_text_size":0.875,"layout.footer_text_color":"#4d4845","layout.footer_logo_enabled":true,"layout.footer_logo_src":"https://cabin.nei.st/miro/brick/flourish/uploads/43d2c31d-7939-4110-a079-53f54ba93ac6.svg","layout.footer_logo_height":0.75,"layout.footer_logo_margin":1,"layout.footer_logo_order":"left","color.categorical_palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"color.categorical_custom_palette":"Conservative:#149ADB\nLabour:#CF4D3C\nLib Dems:#F09000\nSNP:#FFDF00\nGreens (UK):#8DEB9D\nPlaid Cymru:#5BA373\nUkip:#7200AB\nReform:#80CFD6\nAlba:#305EB8\nAll for Unity:#F6011E\nAbolish:#990900\nOthers:#E0D9D5\nCDU/CSU:#000000\nGreens (Germany):#36AA5B\nSPD:#B80D00\nFDP:#F5BB00\nAfD:#52C0FF\nLeft:#73008A\nNo:#F25E2A\nYes:#3DA4AA\nDemocrat:#2E56B6\nDemocrat Lean:#67B4E2\nRepublican:#ED4748\nRepublican Lean:#F7ACA4","color.categorical_extend":false,"controls.control_type":"buttons","controls.button_group_width_mode":"auto","controls.control_styles":true,"controls_style.padding":0.7,"button_style.font_color":"#006b74","button_style.background_selected":"#006b74","button_style.background_hover":"#e3e0d6","button_style.border_transparency":1,"button_style.border_color":"#006b74","button_style.border_radius":0,"button_style.button_styles_advanced":true,"dropdown_style.border_styles_advanced":false,"x.line_and_tick_color":"#999189","x.line_and_tick_width":0.063,"x.tick_label_size":1,"x.tick_label_color":"#4d4845","x.tick_label_angle":"0","x.title_mode":"custom","x.tick_label_styling":true,"y.line_visible":false,"y.line_and_tick_color":"#999189","y.line_and_tick_width":0,"y.tick_label_size":1,"y.tick_label_color":"#4d4845","y.gridline_color":"#ccc1b7","y.gridline_width":0.063,"y.title_mode":"custom","y.tick_label_styling":true,"y.gridlines_styling":true,"y2.line_visible":false,"y2.line_and_tick_color":"#999189","y2.line_and_tick_width":0,"y2.tick_label_size":1,"y2.tick_label_color":"#4d4845","y2.gridline_color":"#ccc1b7","y2.gridline_width":0.063,"y2.title_mode":"custom","y2.tick_label_styling":true,"y2.gridlines_styling":true,"axes_highlights.x_label_vertical":false,"axes_highlights.x_shadow_enabled":false,"axes_highlights.x_label_y_position":"top","axes_highlights.x_label_x_position":"right","axes_highlights.x_area_color":"#fffcfa","axes_highlights.x_area_opacity":1,"axes_highlights.x_label_color":"#4d4845","axes_highlights.x_line_color":"#66605c","axes_highlights.x_line_width":1,"axes_highlights.x_line_dash":0,"axes_highlights.x_font_size":1,"axes_highlights.y_shadow_enabled":false,"axes_highlights.y_label_y_position":"below","axes_highlights.y_label_x_position":"right","axes_highlights.y_area_color":"#fffcfa","axes_highlights.y_area_opacity":1,"axes_highlights.y_label_color":"#4d4845","axes_highlights.y_line_color":"#66605c","axes_highlights.y_line_width":1,"axes_highlights.y_line_dash":0,"axes_highlights.y_font_size":1,"legend_categorical.swatch_width":1.25,"legend_categorical.swatch_height":0.625,"legend_categorical.swatch_radius":0,"colors.categorical_palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"color.palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"colors.palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"map_categorical_colors.palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"point_categorical_colors.palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"point_colors.categorical_palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"map_colors.categorical_palette":["#1e558c","#94d2e6","#1e8fcc","#b3325d","#ff75a3","#aecc70","#f34d5b","#d9ccc3"],"legend_categorical_points.swatch_width":1.25,"legend_categorical_map.swatch_width":1.25,"legend_categorical_points.swatch_height":0.625,"legend_categorical_map.swatch_height":0.625,"legend_categorical_points.swatch_radius":0,"legend_categorical_map.swatch_radius":0};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"color":"Europe & Central Asia","filter":"view","metadata":["country"],"name":[""],"x":"May, or latest available month (food and non-alcoholic beverages)","y":"Expenditure on food and non-alcoholic beverages (% of total)"}},
		    _Flourish_data_metadata = {"data":{"color":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"filter":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"metadata":[{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}],"name":[{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}],"x":{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"},"y":{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"}}},
		    _Flourish_data = {"data":[{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Austria"],"name":[""],"x":9.02,"y":9.7},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Belgium"],"name":[""],"x":6.6,"y":12.7},{"color":"North America","filter":"Exclude outliers","metadata":["Canada"],"name":[""],"x":9.7,"y":10.6},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Chile"],"name":[""],"x":17.1,"y":17.9},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Colombia"],"name":[""],"x":21.6,"y":18.6},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Costa Rica"],"name":[""],"x":3.2,"y":32.2},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Czech Republic"],"name":[""],"x":15.1,"y":15.2},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Denmark"],"name":[""],"x":10.1,"y":11.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Estonia"],"name":[""],"x":17,"y":19.3},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Finland"],"name":[""],"x":9,"y":11.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["France"],"name":[""],"x":4.6,"y":13.1},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Germany"],"name":[""],"x":10.7,"y":10.8},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Greece"],"name":[""],"x":12.1,"y":15.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Hungary"],"name":[""],"x":19.4,"y":17.2},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Iceland"],"name":[""],"x":6.2,"y":12.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Ireland"],"name":[""],"x":4.4,"y":8.7},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Israel"],"name":[""],"x":5.7,"y":15.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Italy"],"name":[""],"x":7.4,"y":14.3},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["South Korea"],"name":[""],"x":6,"y":11.6},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Latvia"],"name":[""],"x":18.2,"y":18.1},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Lithuania"],"name":["Lithuania"],"x":24.8,"y":20.3},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Luxembourg"],"name":[""],"x":5.5,"y":8.6},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Mexico"],"name":[""],"x":12.5,"y":27.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Netherlands"],"name":[""],"x":9.2,"y":11.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Norway"],"name":[""],"x":2.6,"y":11.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Poland"],"name":[""],"x":13.5,"y":16.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Portugal"],"name":[""],"x":12.3,"y":16.1},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Slovakia"],"name":[""],"x":16,"y":17.3},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Slovenia"],"name":[""],"x":10.8,"y":14},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Spain"],"name":[""],"x":11,"y":12.5},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Sweden"],"name":[""],"x":8.8,"y":12.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Switzerland"],"name":[""],"x":1.1,"y":8.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["UK"],"name":[""],"x":6.7,"y":7.9},{"color":"North America","filter":"Exclude outliers","metadata":["US"],"name":[""],"x":12,"y":7.1},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["EU27"],"name":[""],"x":10,"y":13},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["China"],"name":[""],"x":2.3,"y":21.8},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Russia"],"name":[""],"x":13,"y":28.5},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Saudi Arabia"],"name":[""],"x":4.2,"y":20.5},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["South Africa"],"name":[""],"x":6,"y":21.2},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Ethiopia"],"name":["Ethiopia"],"x":42.9,"y":44.2},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Egypt"],"name":["Egypt"],"x":27.9,"y":39.8},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Thailand"],"name":[""],"x":6.2,"y":24.8},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Ghana"],"name":[""],"x":30.1,"y":41.6},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Singapore"],"name":[""],"x":4.5,"y":7.9},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Australia"],"name":[""],"x":4.3,"y":10.8},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Qatar"],"name":[""],"x":5.8,"y":12.3},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Bahrain"],"name":[""],"x":11.6,"y":13.1},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Taiwan"],"name":[""],"x":7.4,"y":13.3},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Hong Kong"],"name":[""],"x":4.9,"y":13.8},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["New Zealand"],"name":[""],"x":6.8,"y":14.1},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Japan"],"name":[""],"x":4.1,"y":15.7},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Panama"],"name":[""],"x":3.5,"y":16.7},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Brazil"],"name":[""],"x":13.5,"y":17.3},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Uruguay"],"name":[""],"x":10.2,"y":18.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Bulgaria"],"name":[""],"x":18.5,"y":18.5},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Kuwait"],"name":[""],"x":9.1,"y":19.7},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Tunisia"],"name":[""],"x":8.2,"y":21.6},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Oman"],"name":[""],"x":4.5,"y":22.6},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Croatia"],"name":[""],"x":18.2,"y":18.2},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Malaysia"],"name":[""],"x":5.2,"y":25.2},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Serbia"],"name":[""],"x":23.6,"y":23.6},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Ecuador"],"name":[""],"x":4,"y":26.3},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["El Salvador"],"name":[""],"x":13.3,"y":26.5},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Peru"],"name":[""],"x":null,"y":26.6},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Jordan"],"name":[""],"x":5.5,"y":26.9},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Dominican Republic"],"name":[""],"x":12.9,"y":27.5},{"color":"South Asia","filter":"Exclude outliers","metadata":["India"],"name":[""],"x":7.8,"y":27.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Romania"],"name":[""],"x":25.2,"y":25.2},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Iran"],"name":[""],"x":null,"y":28.4},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Bosnia and Herzegovina"],"name":[""],"x":29.5,"y":29.5},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Montenegro"],"name":[""],"x":24.5,"y":24.5},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Bolivia"],"name":[""],"x":0.9,"y":29.3},{"color":"South Asia","filter":"Exclude outliers","metadata":["Sri Lanka"],"name":["Sri Lanka"],"x":57.4,"y":29.6},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Uzbekistan"],"name":[""],"x":null,"y":30},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Paraguay"],"name":[""],"x":18.4,"y":30.7},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Vietnam"],"name":[""],"x":2.4,"y":31.7},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Iraq"],"name":[""],"x":7.8,"y":31.9},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Belarus"],"name":[""],"x":null,"y":31.9},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Honduras"],"name":[""],"x":5,"y":32.1},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Indonesia"],"name":[""],"x":null,"y":32.6},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Georgia"],"name":[""],"x":18.1,"y":32.8},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["North Macedonia"],"name":[""],"x":30.6,"y":30.6},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Tanzania"],"name":[""],"x":5.5,"y":34.5},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Morocco"],"name":[""],"x":8.4,"y":34.5},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Turkmenistan"],"name":[""],"x":null,"y":37.1},{"color":"Middle East & North Africa","filter":"Exclude outliers","metadata":["Algeria"],"name":[""],"x":15.3,"y":37.5},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Cote d'Ivoire"],"name":[""],"x":7.4,"y":38.9},{"color":"South Asia","filter":"Exclude outliers","metadata":["Pakistan"],"name":["Pakistan"],"x":17.3,"y":40.6},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Ukraine"],"name":[""],"x":null,"y":41.2},{"color":"Latin America & Caribbean","filter":"Exclude outliers","metadata":["Guatemala"],"name":[""],"x":7.2,"y":41.5},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Cambodia"],"name":[""],"x":null,"y":42.8},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Azerbaijan"],"name":[""],"x":null,"y":43.4},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Uganda"],"name":[""],"x":null,"y":44.2},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Cameroon"],"name":[""],"x":null,"y":45.3},{"color":"Europe & Central Asia","filter":"Exclude outliers","metadata":["Kazakhstan"],"name":[""],"x":null,"y":48.7},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Angola"],"name":[""],"x":null,"y":49.3},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Laos"],"name":[""],"x":null,"y":50.5},{"color":"South Asia","filter":"Exclude outliers","metadata":["Bangladesh"],"name":[""],"x":null,"y":53.4},{"color":"East Asia & Pacific","filter":"Exclude outliers","metadata":["Myanmar"],"name":[""],"x":12.8,"y":56.3},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Kenya"],"name":[""],"x":9.1,"y":58.7},{"color":"Sub-Saharan Africa","filter":"Exclude outliers","metadata":["Nigeria"],"name":["Nigeria"],"x":19.5,"y":59.1},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Turkey"],"name":["Turkey"],"x":91.6,"y":21.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Austria"],"name":[""],"x":9,"y":9.7},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Belgium"],"name":[""],"x":6.6,"y":12.7},{"color":"North America","filter":"Include outliers","metadata":["Canada"],"name":[""],"x":9.7,"y":10.6},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Chile"],"name":[""],"x":17.1,"y":17.9},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Colombia"],"name":[""],"x":21.6,"y":18.6},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Costa Rica"],"name":[""],"x":3.2,"y":32.2},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Czech Republic"],"name":[""],"x":15.1,"y":15.2},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Denmark"],"name":[""],"x":10.1,"y":11.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Estonia"],"name":[""],"x":17,"y":19.3},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Finland"],"name":[""],"x":9,"y":11.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["France"],"name":[""],"x":4.6,"y":13.1},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Germany"],"name":[""],"x":10.7,"y":10.8},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Greece"],"name":[""],"x":12.1,"y":15.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Hungary"],"name":[""],"x":19.4,"y":17.2},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Iceland"],"name":[""],"x":6.2,"y":12.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Ireland"],"name":[""],"x":4.4,"y":8.7},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Israel"],"name":[""],"x":5.7,"y":15.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Italy"],"name":[""],"x":7.4,"y":14.3},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["South Korea"],"name":[""],"x":6,"y":11.6},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Latvia"],"name":[""],"x":18.2,"y":18.1},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Lithuania"],"name":[""],"x":24.8,"y":20.3},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Luxembourg"],"name":[""],"x":5.5,"y":8.6},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Mexico"],"name":[""],"x":12.5,"y":27.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Netherlands"],"name":[""],"x":9.2,"y":11.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Norway"],"name":[""],"x":2.6,"y":11.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Poland"],"name":[""],"x":13.5,"y":16.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Portugal"],"name":[""],"x":12.3,"y":16.1},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Slovakia"],"name":[""],"x":16,"y":17.3},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Slovenia"],"name":[""],"x":10.8,"y":14},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Spain"],"name":[""],"x":11,"y":12.5},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Sweden"],"name":[""],"x":8.8,"y":12.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Switzerland"],"name":[""],"x":1.1,"y":8.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["UK"],"name":[""],"x":6.7,"y":7.9},{"color":"North America","filter":"Include outliers","metadata":["US"],"name":[""],"x":12,"y":7.1},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["EU27"],"name":[""],"x":10,"y":13},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["China"],"name":[""],"x":2.3,"y":21.8},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Russia"],"name":[""],"x":13,"y":28.5},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Saudi Arabia"],"name":[""],"x":4.2,"y":20.5},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["South Africa"],"name":[""],"x":6,"y":21.2},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Ethiopia"],"name":["Ethiopia"],"x":42.9,"y":44.2},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Egypt"],"name":["Egypt"],"x":27.9,"y":39.8},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Thailand"],"name":[""],"x":6.2,"y":24.8},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Ghana"],"name":[""],"x":30.1,"y":41.6},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Singapore"],"name":[""],"x":4.5,"y":7.9},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Australia"],"name":[""],"x":4.3,"y":10.8},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Qatar"],"name":[""],"x":5.8,"y":12.3},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Bahrain"],"name":[""],"x":11.6,"y":13.1},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Taiwan"],"name":[""],"x":7.4,"y":13.3},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Hong Kong"],"name":[""],"x":4.9,"y":13.8},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["New Zealand"],"name":[""],"x":6.8,"y":14.1},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Japan"],"name":[""],"x":4.1,"y":15.7},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Panama"],"name":[""],"x":3.5,"y":16.7},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Brazil"],"name":[""],"x":13.5,"y":17.3},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Venezuela"],"name":["Venezuela"],"x":154.6,"y":18.8},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Uruguay"],"name":[""],"x":10.2,"y":18.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Bulgaria"],"name":[""],"x":18.5,"y":18.5},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Kuwait"],"name":[""],"x":9.1,"y":19.7},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Lebanon"],"name":["Lebanon"],"x":363.8,"y":21.3},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Tunisia"],"name":[""],"x":8.2,"y":21.6},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Oman"],"name":[""],"x":4.5,"y":22.6},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Croatia"],"name":[""],"x":18.2,"y":18.2},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Malaysia"],"name":[""],"x":5.2,"y":25.2},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Serbia"],"name":[""],"x":23.6,"y":23.6},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Ecuador"],"name":[""],"x":4,"y":26.3},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["El Salvador"],"name":[""],"x":13.3,"y":26.5},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Peru"],"name":[""],"x":null,"y":26.6},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Jordan"],"name":[""],"x":5.5,"y":26.9},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Dominican Republic"],"name":[""],"x":12.9,"y":27.5},{"color":"South Asia","filter":"Include outliers","metadata":["India"],"name":[""],"x":7.8,"y":27.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Romania"],"name":[""],"x":25.2,"y":25.2},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Iran"],"name":[""],"x":null,"y":28.4},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Bosnia and Herzegovina"],"name":[""],"x":29.5,"y":29.5},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Montenegro"],"name":[""],"x":24.5,"y":24.5},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Bolivia"],"name":[""],"x":0.9,"y":29.3},{"color":"South Asia","filter":"Include outliers","metadata":["Sri Lanka"],"name":["Sri Lanka"],"x":57.4,"y":29.6},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Uzbekistan"],"name":[""],"x":null,"y":30},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Paraguay"],"name":[""],"x":18.4,"y":30.7},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Vietnam"],"name":[""],"x":2.4,"y":31.7},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Iraq"],"name":[""],"x":7.8,"y":31.9},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Belarus"],"name":[""],"x":null,"y":31.9},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Honduras"],"name":[""],"x":5,"y":32.1},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Indonesia"],"name":[""],"x":null,"y":32.6},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Georgia"],"name":[""],"x":18.1,"y":32.8},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["North Macedonia"],"name":[""],"x":30.6,"y":30.6},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Tanzania"],"name":[""],"x":5.5,"y":34.5},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Morocco"],"name":[""],"x":8.4,"y":34.5},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Turkmenistan"],"name":[""],"x":null,"y":37.1},{"color":"Middle East & North Africa","filter":"Include outliers","metadata":["Algeria"],"name":[""],"x":15.3,"y":37.5},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Cote d'Ivoire"],"name":[""],"x":7.4,"y":38.9},{"color":"South Asia","filter":"Include outliers","metadata":["Pakistan"],"name":[""],"x":17.3,"y":40.6},{"color":"Latin America & Caribbean","filter":"Include outliers","metadata":["Guatemala"],"name":[""],"x":7.2,"y":41.5},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Cambodia"],"name":[""],"x":null,"y":42.8},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Azerbaijan"],"name":[""],"x":null,"y":43.4},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Uganda"],"name":[""],"x":null,"y":44.2},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Cameroon"],"name":[""],"x":null,"y":45.3},{"color":"Europe & Central Asia","filter":"Include outliers","metadata":["Kazakhstan"],"name":[""],"x":null,"y":48.7},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Angola"],"name":[""],"x":null,"y":49.3},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Laos"],"name":[""],"x":null,"y":50.5},{"color":"South Asia","filter":"Include outliers","metadata":["Bangladesh"],"name":[""],"x":null,"y":53.4},{"color":"East Asia & Pacific","filter":"Include outliers","metadata":["Myanmar"],"name":[""],"x":12.8,"y":56.3},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Kenya"],"name":[""],"x":9.1,"y":58.7},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Nigeria"],"name":["Nigeria"],"x":19.5,"y":59.1},{"color":"Sub-Saharan Africa","filter":"Include outliers","metadata":["Nigeria"],"name":["Nigeria"],"x":18.3,"y":59.1}]},
		    _Flourish_visualisation_id = 10436116,
		    _Flourish_visualisation_version_number = 241,
		    _Flourish_template_id = 2761;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		Flourish.enableCustomerAnalytics();
		window.template.draw();
	</script></body></html>